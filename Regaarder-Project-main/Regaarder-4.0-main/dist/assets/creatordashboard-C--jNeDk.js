import{c as e,j as t,u as s,g as r,L as l}from"./index-BxcU9v4P.js";import{b as a,d as i,e as o}from"./vendor-Cml8jNaD.js";import n from"./requests-IkyT-xCN.js";import{C as d}from"./clock-BmedzAKj.js";import{X as c}from"./x-DS_I4Dou.js";import{L as x}from"./link-DbMKjhZD.js";import{I as m}from"./image-DoxPUzne.js";import{S as u,T as h}from"./trash-2-CJTbEZtk.js";import{S as g}from"./star-DR0YBTMu.js";import{S as p}from"./SharedBottomBar-kVmFeWUz.js";import{W as b}from"./config-DzyQUiLS.js";import{T as f}from"./trophy-fMcQhWCt.js";import{Z as v}from"./zap-CNjIicme.js";import{T as j}from"./trending-up-Dj20azBc.js";import{F as y,P as w}from"./pencil-lQ8YT_I-.js";import{V as N}from"./video-pbtxoByH.js";import{L as k}from"./line-chart-Bh1iO5Hc.js";import{U as C}from"./upload-Ci9qF5OC.js";import{L as S}from"./lightbulb-Bpz4QOUf.js";import{H as R}from"./headphones-BmEGmZUQ.js";import{C as L}from"./copy-l8QeGKiE.js";import{C as T}from"./chevron-down-DdyBoOlu.js";import{U as z}from"./user-DVPdhjLq.js";import{A as P}from"./alert-circle-DYV2IBSp.js";import{C as E}from"./check-circle-BHUhtSoa.js";import{C as U}from"./chevron-up-4RJQ_wIU.js";import{P as M}from"./pin-BALF2nts.js";import{M as q}from"./more-vertical-DWDdpqlJ.js";import{L as D}from"./link-2-jDIi25hs.js";import{G as A}from"./globe-CqM0RCTa.js";import{F}from"./file-DZd5E1UU.js";import"./media-6x2eImMv.js";import"./BoostsModal-Bki9NTLd.js";import"./alert-triangle-CpXgSErP.js";import"./search-Bzpeaihg.js";import"./check-circle-2-CTyUoTPJ.js";import"./calendar-zfJ13p04.js";import"./sparkles-DPQmf2hj.js";import"./dollar-sign-Ck6e9raX.js";import"./heart-BGdHXCIM.js";import"./message-square-8z1GXjnh.js";import"./megaphone-CRkkVlGU.js";import"./crown-BJNWQTj7.js";import"./bookmark-CwfYW9n7.js";import"./heart-off-D6iAtXW9.js";import"./share-2-pQWniQ82.js";import"./home-DxGpoi9r.js";const I=e("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),O=e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function $({isOpen:e,onClose:s,onSubmit:r,title:l,questions:i=[]}){if(!e)return null;const[o,n]=a.useState({}),d=(e,t)=>{n(s=>({...s,[e]:t}))};return t.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:e=>e.target===e.currentTarget&&s(),children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md overflow-hidden shadow-2xl animate-scale-up",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gradient-to-r from-blue-50 to-indigo-50",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:l||"Feedback"}),t.jsx("button",{onClick:s,className:"p-1.5 hover:bg-white/50 rounded-full transition-colors text-gray-500",children:t.jsx(c,{size:20})})]}),t.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto space-y-6",children:i.map(e=>t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-800",children:e.label}),"likert"===e.type&&t.jsx("div",{className:"flex items-center justify-between gap-2 px-2",children:[1,2,3,4,5].map(s=>t.jsxs("button",{onClick:()=>d(e.id,s),className:`\n                                                flex flex-col items-center gap-1 group transition-all\n                                                ${o[e.id]===s?"scale-110":"hover:scale-105"}\n                                            `,children:[t.jsx("div",{className:`\n                                                w-10 h-10 rounded-full flex items-center justify-center shadow-sm border\n                                                transition-all duration-200\n                                                ${o[e.id]===s?"bg-yellow-400 border-yellow-500 text-white":"bg-gray-50 border-gray-200 text-gray-400 group-hover:border-yellow-300 group-hover:text-yellow-300"}\n                                            `,children:t.jsx(g,{className:o[e.id]===s?"fill-current":"",size:20})}),t.jsx("span",{className:"text-[10px] font-medium text-gray-500",children:1===s?"Poor":5===s?"Great":s})]},s))}),"yesno"===e.type&&t.jsx("div",{className:"flex gap-3",children:["Yes","No"].map(s=>t.jsx("button",{onClick:()=>d(e.id,s),className:`\n                                                flex-1 py-2 px-4 rounded-lg border text-sm font-medium transition-all\n                                                ${o[e.id]===s?"bg-blue-600 border-blue-600 text-white shadow-md":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}\n                                            `,children:s},s))}),"text"===e.type&&t.jsx("textarea",{className:"w-full p-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all text-sm min-h-[80px] resize-y bg-gray-50 focus:bg-white",placeholder:e.placeholder||"Your answer...",value:o[e.id]||"",onChange:t=>d(e.id,t.target.value)})]},e.id))}),t.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50 flex justify-end",children:t.jsxs("button",{onClick:()=>{r(o),s()},className:"flex items-center gap-2 px-6 py-2.5 bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white rounded-xl font-semibold shadow-lg shadow-blue-200 transition-all transform hover:-translate-y-0.5",children:[t.jsx("span",{children:"Submit Feedback"}),t.jsx(u,{size:16})]})})]})})}const B=({videoFile:e,isPublic:s,onOverlaysChange:r,getTranslation:l,selectedLanguage:i})=>{const[o,n]=a.useState([]),[u,g]=a.useState(0),[p,b]=a.useState(0),[f,v]=a.useState(null),[j,y]=a.useState(!1),[w,N]=a.useState(!1),[k,C]=a.useState({timeSec:0,durationSec:3,type:"link",url:"",imageFile:null,imagePreview:null,linkText:"Visit Link",linkColor:"#FFD700",positionX:20,positionY:20}),S=a.useRef(null),R=a.useRef(null),L=a.useRef(null);a.useEffect(()=>{if(!e)return;const t=URL.createObjectURL(e),s=document.createElement("video");return s.src=t,s.onloadedmetadata=()=>{b(s.duration),g(0)},()=>{URL.revokeObjectURL(t)}},[e]),a.useEffect(()=>{if(!S.current||!R.current)return;const e=R.current,t=e.getContext("2d"),s=S.current,r=()=>{s.readyState!==s.HAVE_FUTURE_DATA&&s.readyState!==s.HAVE_ENOUGH_DATA||(e.width=s.videoWidth,e.height=s.videoHeight,t.drawImage(s,0,0))};return s.addEventListener("seeked",r),r(),()=>{s.removeEventListener("seeked",r)}},[u]);const T=e=>{const t=o[e];v(e),g(t.timeSec),C({timeSec:t.timeSec,durationSec:t.durationSec||3,type:t.type,url:"link"===t.type?t.url:"",imageFile:null,imagePreview:"image"===t.type?t.imageData:null,linkText:"link"===t.type?t.linkText:"Visit Link",linkColor:"link"===t.type?t.linkColor:"#FFD700",positionX:t.positionX||20,positionY:t.positionY||20}),y(!0)},z=()=>{C({timeSec:0,durationSec:3,type:"link",url:"",imageFile:null,imagePreview:null,linkText:"Visit Link",linkColor:"#FFD700",positionX:20,positionY:20}),y(!1),N(!1)};return s?t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:l("Add Interactive Overlays",i)}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l("Add clickable links or images that appear at specific moments in your video",i)})]}),!j&&t.jsxs("button",{onClick:()=>y(!0),className:"inline-flex items-center gap-2 px-3 py-2 bg-[var(--color-gold)] text-white rounded-lg hover:opacity-90",children:[t.jsx(O,{size:16}),t.jsx("span",{className:"text-sm",children:l("Add Overlay",i)})]})]}),t.jsxs("div",{className:"bg-black rounded-lg overflow-hidden mb-4",children:[t.jsxs("div",{className:"aspect-video bg-gray-900 relative flex items-center justify-center",style:{cursor:w?"crosshair":"default"},onClick:e=>{if(!w||!R.current)return;const t=R.current.getBoundingClientRect(),s=e.clientX-t.left,r=e.clientY-t.top;C(e=>({...e,positionX:Math.max(0,Math.min(s,t.width-100)),positionY:Math.max(0,Math.min(t.height-r,t.height-50))})),N(!1)},children:[t.jsx("canvas",{ref:R,className:"max-w-full max-h-full",style:{width:"100%",height:"100%",objectFit:"contain"}}),t.jsx("video",{ref:S,src:e?URL.createObjectURL(e):void 0,currentTime:u,style:{display:"none"}}),o.map((e,s)=>u>=e.timeSec&&u<e.timeSec+e.durationSec?"link"===e.type?t.jsxs("div",{className:"absolute px-4 py-2 rounded-lg border-2 text-white font-semibold cursor-pointer transition-transform hover:scale-105",style:{left:`${e.positionX||20}px`,bottom:`${e.positionY||20}px`,backgroundColor:`${e.linkColor}33`,borderColor:e.linkColor},children:["ðŸ”— ",e.linkText]},e.id):t.jsx("div",{className:"absolute rounded-lg overflow-hidden border-2 border-white shadow-lg",style:{left:`${e.positionX||20}px`,bottom:`${e.positionY||20}px`},children:t.jsx("img",{src:e.imageData,alt:"Overlay",className:"w-32 h-auto max-h-32 object-contain"})},e.id):null)]}),t.jsxs("div",{className:"bg-gray-800 p-4",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(d,{size:16,className:"text-gray-400"}),t.jsx("input",{type:"range",min:"0",max:p,step:"0.1",value:u,onChange:e=>{const t=parseFloat(e.target.value);g(t),S.current&&(S.current.currentTime=t)},className:"flex-1 cursor-pointer"}),t.jsxs("span",{className:"text-sm text-gray-300 w-16 text-right",children:[Math.floor(u),"s / ",Math.floor(p),"s"]})]}),t.jsx("div",{className:"flex gap-1 overflow-x-auto pb-2",children:Array.from({length:Math.min(20,Math.ceil(p))}).map((e,s)=>{const r=s/20*p;return t.jsx("div",{onClick:()=>{g(r),S.current&&(S.current.currentTime=r)},className:`w-12 h-9 rounded cursor-pointer flex-shrink-0 border-2 transition-colors ${Math.abs(u-r)<.5?"border-[var(--color-gold)]":"border-gray-600"} hover:border-[var(--color-gold)]`,style:{backgroundColor:"rgba(255, 255, 255, 0.1)"}},s)})})]})]}),j&&t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"font-semibold text-gray-900",children:l(null!==f?"Edit Overlay":"New Overlay",i)}),t.jsx("button",{onClick:z,className:"text-gray-400 hover:text-gray-600",children:t.jsx(c,{size:20})})]}),t.jsxs("div",{className:"mb-4 p-3 bg-white rounded-lg border border-gray-200",children:[t.jsx("div",{className:"text-sm text-gray-600",children:l("Time:",i)}),t.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[Math.round(10*u)/10,"s ",l("(adjust timeline above)",i)]})]}),t.jsxs("div",{className:"mb-4 p-3 bg-white rounded-lg border border-gray-200",children:[t.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:l("Position on Video",i)}),t.jsx("button",{onClick:()=>N(!w),className:"w-full px-3 py-2 rounded-lg border-2 transition-colors mb-3 text-sm font-semibold "+(w?"border-[var(--color-gold)] bg-[var(--color-gold-light-bg)] text-[var(--color-gold)]":"border-gray-200 bg-white text-gray-700 hover:bg-gray-50"),children:l(w?"Click on preview to set position":"Click to position on video",i)}),t.jsxs("div",{className:"flex gap-2 text-xs text-gray-600",children:[t.jsxs("span",{children:["â†– X: ",Math.round(k.positionX),"px"]}),t.jsxs("span",{children:["â†“ Y: ",Math.round(k.positionY),"px"]})]})]}),t.jsxs("div",{className:"mb-4 p-3 bg-white rounded-lg border border-gray-200",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:l("Display Duration (seconds)",i)}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"range",min:"0.5",max:"30",step:"0.5",value:k.durationSec,onChange:e=>C(t=>({...t,durationSec:parseFloat(e.target.value)})),className:"flex-1 cursor-pointer"}),t.jsxs("span",{className:"text-lg font-semibold text-gray-900 w-12 text-right",children:[k.durationSec,"s"]})]}),t.jsx("div",{className:"text-xs text-gray-500 mt-2",children:l("How long the overlay appears on screen",i)})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:l("Overlay Type",i)}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>C(e=>({...e,type:"link",imagePreview:null})),className:"flex-1 p-3 rounded-lg border-2 transition-colors flex items-center justify-center gap-2 "+("link"===k.type?"border-[var(--color-gold)] bg-[var(--color-gold-light-bg)]":"border-gray-200 bg-white"),children:[t.jsx(x,{size:18}),t.jsx("span",{className:"text-sm font-semibold",children:l("Link",i)})]}),t.jsxs("button",{onClick:()=>C(e=>({...e,type:"image",url:""})),className:"flex-1 p-3 rounded-lg border-2 transition-colors flex items-center justify-center gap-2 "+("image"===k.type?"border-[var(--color-gold)] bg-[var(--color-gold-light-bg)]":"border-gray-200 bg-white"),children:[t.jsx(m,{size:18}),t.jsx("span",{className:"text-sm font-semibold",children:l("Image",i)})]})]})]}),"link"===k.type&&t.jsxs("div",{className:"space-y-3 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:l("Link URL",i)}),t.jsx("input",{type:"url",placeholder:"https://example.com",value:k.url,onChange:e=>C(t=>({...t,url:e.target.value})),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:l("Button Text",i)}),t.jsx("input",{type:"text",placeholder:l("e.g., Visit Link, Learn More",i),value:k.linkText,onChange:e=>C(t=>({...t,linkText:e.target.value.slice(0,50)})),maxLength:"50",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm"}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[k.linkText.length,"/50"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:l("Button Color",i)}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"color",value:k.linkColor,onChange:e=>C(t=>({...t,linkColor:e.target.value})),className:"w-12 h-10 rounded-lg cursor-pointer"}),t.jsx("span",{className:"text-sm text-gray-600",children:k.linkColor})]})]})]}),"image"===k.type&&t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:l("Upload Image",i)}),t.jsx("input",{ref:L,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files?.[0];if(t){const e=new FileReader;e.onload=e=>{C(s=>({...s,imageFile:t,imagePreview:e.target.result}))},e.readAsDataURL(t)}},className:"hidden"}),t.jsx("div",{onClick:()=>L.current?.click(),className:"border-2 border-dashed border-gray-200 rounded-lg p-4 text-center cursor-pointer hover:bg-gray-100 transition-colors",children:k.imagePreview?t.jsxs("div",{children:[t.jsx("img",{src:k.imagePreview,alt:"Preview",className:"max-h-20 mx-auto mb-2"}),t.jsx("div",{className:"text-xs text-gray-600",children:l("Click to change image",i)})]}):t.jsxs("div",{children:[t.jsx(m,{size:32,className:"mx-auto text-gray-300 mb-2"}),t.jsx("div",{className:"text-sm text-gray-600",children:l("Click to select image",i)}),t.jsx("div",{className:"text-xs text-gray-400 mt-1",children:l("PNG, JPG or WebP",i)})]})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:null!==f?()=>(e=>{if(f!==e)return;if(!("link"!==k.type||k.url&&k.linkText))return void alert(l("Please fill in the link URL and text",i));if("image"===k.type&&!k.imagePreview)return void alert(l("Please select an image",i));const t=[...o];t[e]={...t[e],timeSec:Math.round(10*u)/10,durationSec:Math.max(.5,k.durationSec),type:k.type,positionX:k.positionX||20,positionY:k.positionY||20,..."link"===k.type?{url:k.url,linkText:k.linkText,linkColor:k.linkColor}:{imageData:k.imagePreview,imageName:k.imageFile?.name}},n(t),r(t),v(null),z()})(f):()=>{if(!("link"!==k.type||k.url&&k.linkText))return void alert(l("Please fill in the link URL and text",i));if("image"===k.type&&!k.imagePreview)return void alert(l("Please select an image",i));const e={id:Date.now(),timeSec:Math.round(10*u)/10,durationSec:Math.max(.5,k.durationSec),type:k.type,positionX:k.positionX||20,positionY:k.positionY||20,..."link"===k.type?{url:k.url,linkText:k.linkText,linkColor:k.linkColor}:{imageData:k.imagePreview,imageName:k.imageFile?.name}},t=[...o,e];n(t),r(t),z()},className:"flex-1 px-4 py-2 bg-[var(--color-gold)] text-white rounded-lg font-semibold hover:opacity-90",children:l(null!==f?"Update Overlay":"Add Overlay",i)}),t.jsx("button",{onClick:z,className:"px-4 py-2 border border-gray-200 rounded-lg text-gray-700 hover:bg-gray-50",children:l("Cancel",i)})]})]}),o.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[l("Overlays",i)," (",o.length,")"]}),o.map((e,s)=>t.jsxs("div",{className:"p-3 rounded-lg border-2 transition-colors cursor-pointer "+(f===s?"border-[var(--color-gold)] bg-[var(--color-gold-light-bg)]":"border-gray-200 bg-white hover:border-gray-300"),onClick:()=>{f===s?T(s):(g(e.timeSec),S.current&&(S.current.currentTime=e.timeSec))},children:[t.jsx("div",{className:"flex items-start justify-between gap-3",children:t.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx("div",{className:"text-2xl flex-shrink-0",children:"link"===e.type?"ðŸ”—":"ðŸ–¼ï¸"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"link"===e.type?e.linkText:l("Image Overlay",i)}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["@ ",e.timeSec,"s (",e.durationSec,"s)","link"===e.type&&` â€¢ ${e.url}`,"image"===e.type&&` â€¢ ${e.imageName}`]})]})]})}),t.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-gray-100",children:[t.jsx("button",{onClick:e=>{e.stopPropagation(),T(s)},className:"flex-1 px-3 py-2 text-sm bg-[var(--color-gold)] text-white rounded-lg hover:opacity-90 font-medium transition-opacity",children:l("Edit",i)}),t.jsxs("button",{onClick:e=>{e.stopPropagation(),(e=>{const t=o.filter((t,s)=>s!==e);n(t),r(t)})(s)},className:"px-3 py-2 text-sm bg-red-100 text-red-700 rounded-lg hover:bg-red-200 font-medium transition-colors flex items-center gap-2",children:[t.jsx(h,{size:16}),t.jsx("span",{children:l("Delete",i)})]})]})]},e.id))]})]}):t.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200 mb-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"text-2xl",children:"ðŸ”’"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-blue-900",children:l("Video Overlays Available for Public Videos Only",i)}),t.jsx("div",{className:"text-sm text-blue-800 mt-1",children:l("Interactive overlays (links & images) can only be added to public videos. Change your video visibility to Public above to enable this feature.",i)})]})]})})},_={},Y={display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},V=({size:e=20,className:s="",strokeWidth:r=2,...l})=>{const a=e,i=Math.round(.55*a);return t.jsxs("span",{style:{position:"relative",display:"inline-block",width:a,height:a},className:s,...l,children:[t.jsx("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:t.jsx("path",{d:"M20 6L9 17l-5-5",stroke:"currentColor",strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round"})}),t.jsx("span",{style:{position:"absolute",right:-2,bottom:-2,width:i,height:i,display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:t.jsx("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:t.jsx("path",{d:"M20 6L9 17l-5-5",stroke:"currentColor",strokeWidth:Math.max(1,Math.round(r-.5)),strokeLinecap:"round",strokeLinejoin:"round"})})})]})},X=({message:e,duration:s=2e3,bottom:r=!0})=>{const[l,i]=a.useState(Boolean(e)),[o,n]=a.useState(!1),[d,c]=a.useState(0),x=a.useRef(0),m=a.useRef(null);a.useEffect(()=>{let t=null;return e?(i(!0),n(!1),t=setTimeout(()=>n(!0),s)):l&&n(!0),()=>{t&&clearTimeout(t)}},[e,s]),a.useEffect(()=>{if(o){const e=setTimeout(()=>i(!1),260);return()=>clearTimeout(e)}},[o]);const u=()=>{Math.abs(d)>80?n(!0):c(0),x.current=0,m.current&&(m.current.style.cursor="grab")};if(!l)return null;const h=r?"bottom-6 left-1/2 transform -translate-x-1/2":"top-1/2 left-1/2";return t.jsxs("div",{className:`fixed ${h} z-50 pointer-events-auto ${o?"toast-exit":"toast-enter"}`,style:r?{}:{transform:"translate(-50%, -50%)"},children:[t.jsx("style",{children:`\n                /* Bottom toast: slide up/out */\n                @keyframes toastInUp { from { transform: translateY(14px) scale(0.98); opacity: 0 } to { transform: translateY(0) scale(1); opacity: 1 } }\n                @keyframes toastOutDown { from { transform: translateY(0) scale(1); opacity: 1 } to { transform: translateY(12px) scale(0.98); opacity: 0 } }\n                /* Center toast: scale/fade */\n                @keyframes toastInCenter { from { transform: scale(0.96); opacity: 0 } to { transform: scale(1); opacity: 1 } }\n                @keyframes toastOutCenter { from { transform: scale(1); opacity: 1 } to { transform: scale(0.96); opacity: 0 } }\n                /* Top slide down animation */\n                @keyframes toastSlideDown {\n                    from {\n                        opacity: 0;\n                        transform: translateY(-20px) scale(0.95);\n                    }\n                    to {\n                        opacity: 1;\n                        transform: translateY(0) scale(1);\n                    }\n                }\n\n                .toast-enter { animation: ${r?"toastInUp 280ms cubic-bezier(.2,.8,.2,1) both":"toastSlideDown 400ms cubic-bezier(.16,1,.3,1) both"}; }\n                .toast-exit { animation: ${r?"toastOutDown 220ms cubic-bezier(.2,.8,.2,1) both":"toastOutCenter 180ms cubic-bezier(.2,.8,.2,1) both"}; }\n            `}),t.jsxs("div",{ref:m,className:"bg-white text-sm px-4 py-2 rounded-md shadow-lg flex items-center gap-3 cursor-grab select-none",style:{minWidth:220,transform:`translateX(${d}px)`,transition:0===d?"transform 0.3s ease-out":"none"},onTouchStart:e=>{x.current=e.touches[0].clientX},onTouchMove:e=>{const t=e.touches[0].clientX-x.current;c(t)},onTouchEnd:()=>{Math.abs(d)>80?n(!0):c(0)},onMouseDown:e=>{x.current=e.clientX,m.current&&(m.current.style.cursor="grabbing")},onMouseMove:e=>{if(0===x.current)return;const t=e.clientX-x.current;c(t)},onMouseUp:u,onMouseLeave:u,children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"#10B981",flex:"0 0 auto"},children:t.jsx("svg",{width:"16",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:t.jsx("path",{d:"M20 6L9 17l-5-5",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),t.jsx("div",{className:"text-gray-900",children:e})]})]})},W=({isOpen:e,onClose:s,requestData:l={},selectedLanguage:a="English"})=>{if(!e||!l)return null;const i=l.meta||{},o=({label:e,value:s,icon:l=null})=>{let i=null;return i=Array.isArray(s)?s.length>0?s.join(", "):r("Not provided",a):"object"==typeof s&&null!==s?JSON.stringify(s):null!=s&&""!==s?String(s):r("Not provided",a),t.jsxs("div",{className:"flex items-start gap-3 pb-4 border-b border-gray-200 last:border-b-0",children:[l&&t.jsx(l,{size:18,className:"text-blue-500 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),t.jsx("p",{className:"text-sm leading-relaxed break-words "+(i&&i!==r("Not provided",a)?"text-gray-800":"text-gray-400 italic"),children:i})]})]})};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black/40 z-[60]",onClick:s,style:{animation:"fadeIn 280ms ease-out"}}),t.jsx("div",{className:"fixed inset-0 z-[70] flex items-end sm:items-center justify-center",style:{padding:"16px",paddingBottom:"calc(16px + env(safe-area-inset-bottom, 0px))"},onClick:e=>e.target===e.currentTarget&&s(),children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg overflow-y-auto",style:{animation:"slideUp 300ms cubic-bezier(0.16, 1, 0.3, 1)",maxHeight:"calc(90vh - env(safe-area-inset-bottom, 0px))"},children:[t.jsx("style",{children:"\n                        @keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }\n                        @keyframes slideUp { from { transform: translateY(30px); opacity: 0 } to { transform: translateY(0); opacity: 1 } }\n                    "}),t.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100 px-6 py-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-lg font-bold text-gray-900",children:r("Request Details",a)}),t.jsx("button",{onClick:s,className:"p-1 hover:bg-white rounded-lg transition text-gray-400 hover:text-gray-600",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3 flex items-center gap-2",children:[t.jsx("span",{className:"w-1 h-1 bg-blue-500 rounded-full"}),r("Basic Information",a)]}),t.jsxs("div",{className:"space-y-3 pl-5",children:[t.jsx(o,{label:r("Title",a),value:l.title}),t.jsx(o,{label:r("Description",a),value:l.description}),t.jsx(o,{label:r("Requester",a),value:l.requesterName||l.creator?.name})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3 flex items-center gap-2",children:[t.jsx("span",{className:"w-1 h-1 bg-purple-500 rounded-full"}),r("Video Preferences",a)]}),t.jsxs("div",{className:"space-y-3 pl-5",children:[t.jsx(o,{label:r("Video Length",a),value:i.selectedVideoLength}),t.jsx(o,{label:r("Custom Length",a),value:i.customVideoLength}),t.jsx(o,{label:r("Tones",a),value:i.selectedTones}),t.jsx(o,{label:r("Styles",a),value:i.selectedStyles})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3 flex items-center gap-2",children:[t.jsx("span",{className:"w-1 h-1 bg-green-500 rounded-full"}),r("Delivery Schedule",a)]}),t.jsxs("div",{className:"space-y-3 pl-5",children:[t.jsx(o,{label:r("Delivery Type",a),value:i.selectedDeliveryType}),t.jsx(o,{label:r("Frequency",a),value:i.selectedFrequency}),t.jsx(o,{label:r("Release Schedule",a),value:i.selectedReleaseSchedule}),t.jsx(o,{label:r("Custom Dates",a),value:i.customRecurrentDates}),t.jsx(o,{label:r("Series Dates",a),value:i.customSeriesDates})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3 flex items-center gap-2",children:[t.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),r("Series Information",a)]}),t.jsxs("div",{className:"space-y-3 pl-5",children:[t.jsx(o,{label:r("Number of Episodes",a),value:i.numberOfEpisodes}),t.jsx(o,{label:r("Target Videos",a),value:i.targetVideos})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3 flex items-center gap-2",children:[t.jsx("span",{className:"w-1 h-1 bg-yellow-500 rounded-full"}),r("Content & Privacy",a)]}),t.jsxs("div",{className:"space-y-3 pl-5",children:[t.jsx(o,{label:r("Themes",a),value:i.themes}),t.jsx(o,{label:r("Privacy",a),value:i.selectedPrivacy})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3 flex items-center gap-2",children:[t.jsx("span",{className:"w-1 h-1 bg-indigo-500 rounded-full"}),r("Creator Preferences",a)]}),t.jsxs("div",{className:"space-y-3 pl-5",children:[t.jsx(o,{label:r("Selected Creator",a),value:i.selectedCreator}),t.jsx(o,{label:r("Creator Type",a),value:i.creatorSelectionType}),t.jsx(o,{label:r("Expert Type",a),value:i.expertType})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3 flex items-center gap-2",children:[t.jsx("span",{className:"w-1 h-1 bg-orange-500 rounded-full"}),r("Budget & Resources",a)]}),t.jsxs("div",{className:"space-y-3 pl-5",children:[t.jsx(o,{label:r("Custom Price",a),value:i.customPrice?`$${i.customPrice}`:null}),t.jsx(o,{label:r("Uploaded Files",a),value:i.uploadedFiles&&Array.isArray(i.uploadedFiles)&&i.uploadedFiles.length>0?`${i.uploadedFiles.length} ${r("file(s)",a)}`:null}),t.jsx(o,{label:r("Reference Links",a),value:i.referenceLinks})]})]})]}),t.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4",children:t.jsx("button",{onClick:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded-lg transition",children:r("Close",a)})})]})})]})},J=({title:e="A night tour of taipei",requesterName:i="AllVater",requesterRole:n=r("Requester",("undefined"!=typeof window?localStorage.getItem("regaarder_language"):"English")||"English"),requesterAvatar:d=null,currentStep:c=1,requestId:u=null,requestData:h=null,onClose:p=()=>{},onUpdateProgress:f=()=>{},onUnclaim:v=()=>{},pendingReuploadItem:j=null,clearPendingReupload:y=()=>{},isProCreator:k=!1})=>{const[C,S]=a.useState(!1),[R,z]=a.useState(!1),[I,O]=a.useState(!1),[$,_]=a.useState(!1),[V,J]=a.useState(!1),[H,K]=a.useState(()=>{try{return parseInt(localStorage.getItem("detailsHintCount")||"0",10)}catch(e){return 0}}),[G,Z]=a.useState(""),[Q,ee]=a.useState(null),[te,se]=a.useState(null),[re,le]=a.useState(null),[ae,ie]=a.useState(null),[oe,ne]=a.useState(!1),[de,ce]=a.useState(0),[xe,me]=a.useState(""),[ue,he]=a.useState(!1),[ge,pe]=a.useState(""),[be,fe]=a.useState(()=>("undefined"!=typeof window?localStorage.getItem("regaarder_language"):"English")||"English"),{user:ve}=s();a.useEffect(()=>{const e=()=>{const e=localStorage.getItem("regaarder_language")||"English";fe(e)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),a.useEffect(()=>{try{const e=parseInt(localStorage.getItem("detailsHintCount")||"0",10);if(e<2){J(!0);const t=e+1;K(t),localStorage.setItem("detailsHintCount",String(t))}}catch(e){}},[]);const[je,ye]=a.useState("one-time"),we=[{key:"one-time",label:r("One-Time",be),fullLabel:r("One-Time Video",be),desc:r("Single video delivery",be),icon:"ðŸŽ¬"},{key:"recurrent",label:r("Recurrent",be),desc:r("Ongoing video series",be),icon:"ðŸ”"},{key:"series",label:r("Series",be),desc:r("Fixed episode count",be),icon:"ðŸŽžï¸"},{key:"catalogue",label:r("Catalogue",be),desc:r("Collection of videos",be),icon:"ðŸ“"}],[Ne,ke]=a.useState(!1),Ce=a.useRef(null),Se=we.find(e=>e.key===je)||we[0],[Re,Le]=a.useState(""),[Te,ze]=a.useState(!1),[Pe,Ee]=a.useState(!1),[Ue,Me]=a.useState(""),[qe,De]=a.useState(["Travel","Education","Entertainment","Music","Sports"]),Ae=a.useRef(null),Fe=a.useCallback(async()=>{try{const e=window&&window.__BACKEND_URL__||"https://pwin-copy-production.up.railway.app",t=await fetch(`${e}/categories`);if(t.ok){const e=await t.json();if(console.log("Fetched categories:",e),Array.isArray(e)&&e.length>0)return void De(e)}De(["Travel","Education","Entertainment","Music","Sports"])}catch(e){console.error("Error fetching categories:",e),De(["Travel","Education","Entertainment","Music","Sports"])}},[]);a.useEffect(()=>{Fe()},[Fe]),a.useEffect(()=>{Te&&!Pe&&Fe()},[Te,Pe,Fe]);const Ie=async()=>{if(Ue.trim()){try{const e=Ue.trim(),t=window&&window.__BACKEND_URL__||"https://pwin-copy-production.up.railway.app",s=await fetch(`${t}/categories`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:e})});if(s.ok){const t=await s.json();return De(t),Le(e),Ee(!1),void Me("")}}catch(e){console.error("Failed to save category",e)}Me(""),Ee(!1),ze(!1)}else Ee(!1)},[Oe,$e]=a.useState(!1),Be=a.useRef(null),[_e,Ye]=a.useState(e||""),[Ve,Xe]=a.useState("public"),[We,Je]=a.useState(""),[He,Ke]=a.useState(null),[Ge,Ze]=a.useState(""),Qe=a.useRef(null),[et,tt]=a.useState(""),[st,rt]=a.useState(!1),[lt,at]=a.useState("form"),[it,ot]=a.useState(null),[nt,dt]=a.useState(!k),[ct,xt]=a.useState(""),[mt,ut]=a.useState(!1),[ht,gt]=a.useState(""),[pt,bt]=a.useState(""),[ft,vt]=a.useState(!1),jt=["Request Received","Under Review","In Production","Preview Ready","Published","Completed"],[yt,wt]=a.useState(!1),[Nt,kt]=a.useState(!1),Ct=a.useRef(null),St=a.useRef(null),[Rt,Lt]=a.useState(!1),[Tt,zt]=a.useState(1),[Pt,Et]=a.useState({x:0,y:0}),Ut=a.useRef(null),Mt=a.useRef(null),qt=a.useRef(!1),Dt=a.useRef({x:0,y:0}),At=a.useRef({initialDist:null,initialScale:1}),Ft=a.useRef(null),[It,Ot]=a.useState(0),[$t,Bt]=a.useState([]),[_t,Yt]=a.useState(""),[Vt,Xt]=a.useState(!1);a.useEffect(()=>{try{const e="undefined"!=typeof localStorage&&localStorage.getItem("publishedItems");if(e){const t=JSON.parse(e);Array.isArray(t)&&Bt(t)}}catch(e){}},[]),a.useEffect(()=>{try{"undefined"!=typeof localStorage&&localStorage.setItem("publishedItems",JSON.stringify($t||[]))}catch(e){}},[$t]);const[Wt,Jt]=a.useState(null),[Ht,Kt]=a.useState([]),[Gt,Zt]=a.useState("CreatorName"),[Qt,es]=a.useState(null);a.useEffect(()=>{},[]),a.useEffect(()=>{try{const t="undefined"!=typeof window&&(window.__PROFILE__||window.__CREATOR__||window.creatorProfile||window.profile||window.currentUser);if(t&&"object"==typeof t)return Zt(t.name||t.username||t.handle||"CreatorName"),void es(t.handle||t.username||null);const s=["creatorProfile","profile","user","currentUser"];for(const r of s){const t="undefined"!=typeof localStorage&&localStorage.getItem(r);if(t)try{const e=JSON.parse(t);if(e&&"object"==typeof e)return Zt(e.name||e.username||e.handle||"CreatorName"),void es(e.handle||e.username||null)}catch(e){}}}catch(e){}},[]);const ts=()=>{is()},ss=()=>{Ft.current&&(clearInterval(Ft.current),Ft.current=null)},rs=e=>{ss(),zt(t=>Math.max(.2,Math.min(3,+(t+e).toFixed(3)))),Ft.current=setInterval(()=>{zt(t=>Math.max(.2,Math.min(3,+(t+e).toFixed(3))))},120)};a.useEffect(()=>()=>{te&&URL.revokeObjectURL(te),ae&&URL.revokeObjectURL(ae)},[te,ae]),a.useEffect(()=>{const e=e=>{Ce.current&&!Ce.current.contains(e.target)&&ke(!1)};return Ne&&(document.addEventListener("mousedown",e),document.addEventListener("touchstart",e)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[Ne]),a.useEffect(()=>{const e=e=>{Ae.current&&!Ae.current.contains(e.target)&&ze(!1)};return Te&&(document.addEventListener("mousedown",e),document.addEventListener("touchstart",e)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[Te]),a.useEffect(()=>{const e=e=>{Be.current&&!Be.current.contains(e.target)&&$e(!1)};return Oe&&(document.addEventListener("mousedown",e),document.addEventListener("touchstart",e)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[Oe]),a.useEffect(()=>{if(!ge)return;const e=setTimeout(()=>pe(""),2e3);return()=>clearTimeout(e)},[ge]);const ls=(e,t)=>{qt.current=!0,Dt.current={x:e,y:t}};a.useEffect(()=>{if(j)try{const e=j;Ye(e.title||""),ie(e.thumbnail||null),Le(e.category||Re||""),Je(e.scriptType||We||""),e.openInForm?(ot(null),at("form"),rt(Boolean(e.isReupload)),S(!0)):(ot({title:e.title||"",thumbnail:e.thumbnail||null,time:null,format:e.format||je,category:e.category||Re,scriptType:e.scriptType||We}),at("preview"),rt(!0),S(!0))}catch(e){console.warn("Failed to open reupload preview",e)}finally{try{y()}catch(e){}}},[j]),a.useEffect(()=>{},[]);const as=(e,t)=>{if(!qt.current)return;const s=e-Dt.current.x,r=t-Dt.current.y;Dt.current={x:e,y:t},Et(e=>({x:e.x+s,y:e.y+r}))},is=()=>{qt.current=!1};return t.jsxs("div",{className:"rounded-2xl border border-[#F3E8D0] bg-white p-5 shadow-sm",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("div",{className:"flex-1",children:R?t.jsxs("div",{className:"flex items-center gap-3 w-full",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 overflow-hidden flex items-center justify-center flex-shrink-0",children:d?t.jsx("img",{src:d,alt:i,className:"w-full h-full object-cover"}):t.jsx("div",{className:"text-xs text-gray-500",children:i.charAt(0)})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:i}),t.jsx("div",{className:"text-xs text-gray-400",children:n})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>_(!0),className:"text-xs bg-blue-50 hover:bg-blue-100 text-blue-600 px-3 py-1.5 rounded-md transition font-medium",title:"View full request details",children:r("Details",be)}),t.jsx("div",{className:"text-sm text-gray-600 font-medium whitespace-nowrap",children:"$0"})]})]}):t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-[18px] font-semibold text-gray-900",children:e}),t.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["$",(0).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2})]})]}),t.jsxs("button",{onClick:()=>_(!0),className:"text-xs bg-blue-50 hover:bg-blue-100 text-blue-600 px-3 py-1.5 rounded-md transition font-medium ml-3 relative flex-shrink-0",title:"View full request details",style:{...V&&{boxShadow:"0 0 0 0 rgba(147, 51, 234, 0.7)",animation:"pulse-hint 2s infinite"}},children:[r("Details",be),V&&t.jsxs("div",{className:"absolute -top-56 right-0 translate-x-12 w-64 bg-white rounded-xl shadow-2xl border-2 p-4 z-50 animate-fade-in-up",style:{borderColor:"rgba(147, 51, 234, 0.8)",backgroundColor:"rgba(147, 51, 234, 0.95)"},children:[t.jsx("div",{className:"absolute -bottom-2 right-8 w-4 h-4 rotate-45",style:{backgroundColor:"rgba(147, 51, 234, 0.95)",borderRight:"2px solid rgba(147, 51, 234, 0.95)",borderBottom:"2px solid rgba(147, 51, 234, 0.95)"}}),t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("p",{className:"text-sm font-bold text-white flex items-center gap-1",children:[t.jsx("span",{children:"ðŸ‘ï¸"})," ",r("View Details",be)]}),t.jsx("p",{className:"text-sm text-white mt-2 leading-snug font-medium",children:r("Click to see all request information including delivery type, tones, styles, and more",be)})]}),t.jsx("button",{onClick:e=>{e.stopPropagation(),J(!1)},className:"text-white hover:text-gray-100 flex-shrink-0 mt-0.5 font-bold text-lg leading-none opacity-80 hover:opacity-100 transition","aria-label":"Close hint",children:"Ã—"})]})]})]})]})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>z(!R),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition",title:R?"Expand":"Collapse",children:R?t.jsx(T,{size:20}):t.jsx(U,{size:20})}),!h?.sourceTab&&t.jsx("button",{onClick:()=>O(!0),className:"text-gray-400 hover:text-red-600 p-2 hover:bg-red-50 rounded-lg transition",title:"Unclaim request",children:"âœ•"})]})]}),!R&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 overflow-hidden flex items-center justify-center",children:d?t.jsx("img",{src:d,alt:i,className:"w-full h-full object-cover"}):t.jsx("div",{className:"text-sm text-gray-500",children:i.charAt(0)})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:i}),t.jsx("div",{className:"text-xs text-gray-400",children:n})]})]}),t.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:r("Status Tracker",be)}),(()=>{const e=jt.findIndex(e=>"Preview Ready"===e)+1,s=c===e;return t.jsx("button",{onClick:()=>S(!0),className:"bg-[var(--color-gold)] text-white px-4 py-2 rounded-lg shadow-sm flex items-center gap-2",children:s?t.jsxs(o.Fragment,{children:[t.jsx(g,{size:14,className:"mr-1"}),t.jsx("span",{className:"font-semibold text-[13px]",children:r("Publish Video",be)})]}):t.jsxs(o.Fragment,{children:[t.jsx("span",{className:"text-[14px]",children:"â†’"}),t.jsx("span",{className:"font-semibold text-[13px]",children:r("Update Progress",be)})]})})})()]}),t.jsxs("div",{className:"mt-5 border-l-2 border-gray-100 pl-6",children:[t.jsx("style",{children:"\n                    @keyframes pulseRing {\n                        0% { transform: scale(1); opacity: 0.9; box-shadow: 0 0 0 0 rgba(0,0,0,0.06); }\n                        50% { transform: scale(1.45); opacity: 0.55; box-shadow: 0 12px 28px 0 rgba(0,0,0,0.08); }\n                        100% { transform: scale(1); opacity: 0.9; box-shadow: 0 0 0 0 rgba(0,0,0,0.06); }\n                    }\n                    .pulse-ring { animation: pulseRing 1.4s ease-out infinite; border-radius: 9999px; }\n                "}),jt.map((e,s)=>{const l=s+1,a=l===c,i=l<c||yt&&l===jt.length;return t.jsxs("div",{className:"mb-6 relative",children:[t.jsx("div",{className:"absolute -left-10 top-0",children:i?t.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center shadow-md",children:t.jsx("svg",{width:"14",height:"10",viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:t.jsx("path",{d:"M1 5L5 8L13 1",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}):a?t.jsxs("div",{className:"relative w-8 h-8 flex items-center justify-center",children:[t.jsx("span",{className:"absolute inset-0 rounded-full",style:{background:"rgba(203,138,0,0.08)"}}),t.jsx("span",{className:"absolute inset-0 rounded-full pulse-ring",style:{background:"rgba(107,114,128,0.08)"}}),t.jsx("div",{className:"relative w-8 h-8 rounded-full bg-[var(--color-gold)] flex items-center justify-center shadow-md",children:t.jsx("span",{className:"text-[13px] font-semibold text-white",children:l})})]}):t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{border:"2px solid #E5E7EB",background:"#fff"},children:t.jsx("span",{className:"text-[13px] text-gray-500 font-semibold",children:l})})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold "+(a?"text-[var(--color-gold-darker)]":i?"text-gray-500":"text-gray-900"),children:r(e,be)}),t.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"â€”"})]})]},e)})]}),C&&t.jsxs("div",{className:"fixed inset-0 z-[80] flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black opacity-60",onClick:()=>S(!1)}),t.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 z-10 max-h-[80vh] flex flex-col overflow-hidden",children:[t.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:5===c||st?t.jsxs(o.Fragment,{children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-[22px] text-[var(--color-gold)]",children:"âœ¨"}),t.jsx("h3",{className:"text-[20px] font-semibold text-gray-900",children:r("Publish Your Video",be)})]}),t.jsx("div",{className:"text-sm text-gray-400 mt-2",children:r("Upload your video, add interactive elements, and publish to the community",be)})]}),t.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]}),"preview"!==lt&&t.jsxs("div",{className:"mt-4 rounded-lg border border-[var(--color-gold-light)] bg-[var(--color-gold-light-bg)] p-4 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-md bg-[var(--color-gold-cream)] flex items-center justify-center text-[var(--color-gold)]",children:"ðŸŽ¬"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-[var(--color-gold-darker)]",children:r("Publishing Request",be)}),t.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[r("Requester",be),": ",i," Â· ",r("Creator: You",be)]})]})]}),t.jsx("div",{className:"mt-3",children:t.jsxs("div",{className:"relative",ref:Ce,children:[t.jsxs("button",{type:"button",onClick:()=>ke(e=>!e),"aria-haspopup":"listbox","aria-expanded":Ne,className:"w-full border border-gray-200 rounded-lg px-4 py-3 text-sm bg-white flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-lg",children:Se?.icon}),t.jsx("div",{className:je?"text-gray-900":"text-gray-400",children:Se?.fullLabel||Se?.label})]}),t.jsx("svg",{className:"ml-2",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M6 9l6 6 6-6",stroke:"#6B7280",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),Ne&&t.jsx("div",{className:"absolute left-0 mt-2 w-full z-30 bg-white rounded-lg shadow-lg border border-gray-200 max-h-48 overflow-y-auto",children:t.jsxs("div",{className:"p-2",children:[t.jsx("div",{className:"text-lg font-semibold text-gray-900 mb-2 px-3",children:r("Select Video Format",be)}),t.jsx("div",{className:"flex flex-col",children:we.map(e=>{const s=e.key===je;return t.jsxs("button",{onClick:()=>{ye(e.key),ke(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 flex items-center justify-between "+(s?"bg-[var(--color-gold-light-bg)]":""),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-md bg-white flex items-center justify-center text-[20px]",children:e.icon}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-gray-900",children:e.label}),t.jsx("div",{className:"text-xs text-gray-500",children:e.desc})]})]}),s&&t.jsx("div",{className:"text-[var(--color-gold-darker)]",children:"âœ“"})]},e.key)})})]})})]})})]}),"preview"===lt&&it&&t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"mx-5 mb-5 bg-white rounded-xl shadow-lg transition-shadow duration-300 overflow-visible",children:[t.jsxs("div",{className:"relative w-full pb-[75%]",children:[t.jsx("img",{src:("preview"===lt?it:Wt)?.thumbnail||ae||"https://placehold.co/600x400/333333/ffffff?text=Video+Image+Unavailable",alt:("preview"===lt?it:Wt)?.title||_e||"Published thumbnail",className:"absolute top-0 left-0 w-full h-full object-cover rounded-t-xl"}),("preview"===lt?it:Wt)?.pinned&&("preview"===lt?it:Wt)?.pinnedDays&&t.jsxs("div",{className:"absolute top-3 left-3 flex items-center rounded-lg px-2 py-1 shadow-md",style:{backgroundColor:"rgba(0,0,0,0.7)"},children:[t.jsx(M,{size:14,className:"text-red-500 mr-1"}),t.jsxs("span",{className:"text-sm font-bold text-white",children:[("preview"===lt?it:Wt)?.pinnedDays,"d"]})]}),t.jsx("div",{className:"relative",children:t.jsx("div",{className:"absolute top-3 right-3",children:t.jsxs("div",{className:"relative flex items-center rounded-lg px-2 py-1 shadow-md text-sm font-semibold text-black",style:{backgroundColor:"var(--color-gold)"},children:[t.jsx(w,{size:14,className:"text-black mr-1"}),"Requested"]})})}),t.jsx("div",{className:"absolute bottom-3 right-3 bg-black bg-opacity-70 rounded-lg px-2 py-1",children:t.jsx("span",{className:"text-sm font-bold text-white",children:("preview"===lt?it:Wt)?.time||r("Just now",be)})})]}),t.jsxs("div",{className:"p-4 relative",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",style:Y,children:("preview"===lt?it:Wt)?.title||_e||r("Untitled",be)}),t.jsxs("p",{className:"text-sm text-gray-600 mb-1 leading-5",children:[r("by",be)," ",t.jsx("button",{className:"font-medium underline hover:text-gray-800",style:{color:"var(--color-gold)",background:"transparent",padding:0},onClick:e=>{e.stopPropagation();try{window.location.href=Qt?`/creatorprofile.jsx?handle=${encodeURIComponent(Qt)}`:"/creatorprofile.jsx"}catch(t){console.warn("Navigation failed",t)}},children:Gt})]}),t.jsxs("div",{className:"flex justify-between items-center mt-2",children:[t.jsxs("div",{className:"text-xs text-gray-500",children:[("preview"===lt?it:Wt)?.date||r("Just now",be)," Â· ",r("Requested by",be),t.jsx("button",{className:"text-gray-600 font-medium underline hover:text-gray-800 ml-1 bg-transparent p-0",children:i})]}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:t.jsx(q,{size:20})})})]})]}),t.jsxs("div",{className:"flex justify-center p-2 pt-0",children:[t.jsx("span",{className:"block w-2 h-2 mx-1 rounded-full bg-gray-300"}),t.jsx("span",{className:"block w-2 h-2 mx-1 rounded-full bg-gray-300"}),t.jsx("span",{className:"block w-2 h-2 mx-1 rounded-full bg-gray-300"}),t.jsx("span",{className:"block w-2 h-2 mx-1 rounded-full bg-gray-300"})]})]})}),ge&&t.jsx(X,{message:ge,bottom:!0}),"form"===lt&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[r("Upload Video",be)," ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("button",{type:"button",onClick:()=>{nt?k?(dt(!1),xt("")):vt(!0):(dt(!0),ee(null),se(null))},className:"text-xs text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:[t.jsx(D,{size:12}),r(nt?"Upload file instead":"Add video link",be)]})]}),nt?t.jsxs(t.Fragment,{children:[t.jsx("input",{type:"url",value:ct,onChange:e=>xt(e.target.value),placeholder:"https://example.com/video-url",className:"w-full border border-gray-200 rounded-lg px-4 py-3 text-sm mb-1"}),t.jsxs("p",{className:"text-xs mb-2 flex items-start gap-1",style:{color:"#dc2626"},children:[t.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"flex-shrink-0 mt-0.5",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),t.jsxs("span",{children:["Privacy Requirement: If using YouTube, the video must be set to ",t.jsx("strong",{children:"Unlisted"}),". Do not set it to Public for privacy reasons, and do not set it to Private, as our servers will be unable to access and download it."]})]}),ct&&(ct.includes("youtube.com")||ct.includes("youtu.be"))&&(()=>{let e="";if(ct.includes("youtu.be/"))e=ct.split("youtu.be/")[1].split("?")[0];else try{e=new URL(ct).searchParams.get("v")||""}catch{}return e?t.jsxs("div",{className:"w-full rounded-lg overflow-hidden border border-gray-200 h-44 relative bg-black",style:{borderRadius:8},children:[t.jsx("img",{src:`https://img.youtube.com/vi/${e}/hqdefault.jpg`,alt:"Video preview",style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover"},onError:t=>{t.target.src=`https://img.youtube.com/vi/${e}/mqdefault.jpg`}}),t.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.15)",zIndex:2}}),t.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",zIndex:3,width:48,height:48,borderRadius:"50%",background:"rgba(0,0,0,0.65)",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"white",children:t.jsx("polygon",{points:"6,3 20,12 6,21"})})}),t.jsx("div",{style:{position:"absolute",bottom:8,left:8,zIndex:3,background:"rgba(0,0,0,0.7)",color:"#fff",fontSize:10,fontWeight:600,padding:"3px 8px",borderRadius:4,letterSpacing:"0.3px"},children:"YouTube Link"})]}):null})()]}):t.jsxs(t.Fragment,{children:[t.jsx("input",{ref:Ct,type:"file",accept:"video/mp4,video/quicktime,video/webm",className:"hidden",onChange:e=>{const t=e.target.files&&e.target.files[0];if(t){ee(t);const e=URL.createObjectURL(t);se(e)}}}),t.jsx("div",{onClick:()=>Ct.current&&Ct.current.click(),className:"w-full rounded-lg border-2 border-dashed border-gray-200 h-44 flex items-center justify-center cursor-pointer",children:te?t.jsx("video",{src:te,className:"max-h-[160px] max-w-full",controls:!0}):t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx("div",{className:"w-12 h-12 rounded-md bg-[var(--color-gold-light-bg)] mx-auto mb-3 flex items-center justify-center text-[var(--color-gold)]",children:t.jsx(N,{size:20,className:"text-[var(--color-gold)]"})}),t.jsx("div",{children:r("Click to upload video",be)}),t.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r("MP4, MOV or WebM Â· Max 500MB",be)})]})}),Q&&t.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[r("Selected:",be)," ",Q.name," (",Math.round(Q.size/1024/1024)," MB)"]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[r("Video Thumbnail",be)," ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("button",{type:"button",onClick:()=>{ut(!mt),mt?gt(""):(le(null),ie(null))},className:"text-xs text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:[t.jsx(D,{size:12}),r(mt?"Upload file instead":"Add link instead",be)]})]}),mt?t.jsxs(t.Fragment,{children:[t.jsx("input",{type:"url",value:ht,onChange:e=>{gt(e.target.value),e.target.value&&ie(e.target.value)},placeholder:"https://example.com/thumbnail.jpg",className:"w-full border border-gray-200 rounded-lg px-4 py-3 text-sm mb-2"}),ht&&t.jsx("div",{className:"w-full rounded-lg overflow-hidden border border-gray-200 h-32 bg-gray-50",children:t.jsx("img",{src:ht,alt:"Thumbnail preview",className:"object-cover w-full h-full",onError:e=>{e.target.style.display="none"}})})]}):t.jsxs(t.Fragment,{children:[t.jsx("input",{ref:St,type:"file",accept:"image/*",className:"hidden",onChange:e=>{const t=e.target.files&&e.target.files[0];if(t){le(t);const e=new FileReader;e.onloadend=()=>ie(e.result),e.readAsDataURL(t)}}}),t.jsx("div",{onClick:()=>St.current&&St.current.click(),className:"w-full rounded-lg border-2 border-dashed border-gray-200 h-32 flex items-center justify-center cursor-pointer overflow-hidden bg-white",children:ae?t.jsx("img",{src:ae,alt:"Video thumbnail preview",className:"object-cover w-full h-full",loading:"lazy"}):t.jsxs("div",{className:"text-gray-400 flex flex-col items-center justify-center",children:[t.jsx(m,{size:36,className:"text-gray-300 mb-2"}),t.jsx("div",{children:r("Click to upload thumbnail",be)})]})}),re&&t.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[r("Selected:",be)," ",re.name," (",Math.round(re.size/1024)," KB)"]})]}),ae&&t.jsx("div",{className:"mt-2",children:t.jsx("button",{type:"button",onClick:()=>Lt(!0),className:"inline-flex items-center gap-2 px-3 py-1 rounded-md border border-gray-200 bg-white text-sm",children:r("Adjust thumbnail",be)})}),Rt&&ae&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black opacity-60",onClick:()=>Lt(!1)}),t.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 z-10 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"font-semibold",children:r("Adjust Thumbnail",be)}),t.jsx("button",{onClick:()=>Lt(!1),className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{ref:Ut,className:"w-full h-64 bg-gray-100 overflow-hidden relative touch-action-none",style:{borderRadius:8},onMouseDown:e=>{e.preventDefault(),ls(e.clientX,e.clientY)},onMouseUp:ts,onMouseMove:e=>{qt.current&&as(e.clientX,e.clientY)},onMouseLeave:ts,onTouchStart:e=>{if(e.touches)if(1===e.touches.length){const t=e.touches[0];ls(t.clientX,t.clientY)}else if(2===e.touches.length){const t=e.touches[0],s=e.touches[1],r=Math.hypot(s.clientX-t.clientX,s.clientY-t.clientY);At.current.initialDist=r,At.current.initialScale=Tt,Dt.current={x:(t.clientX+s.clientX)/2,y:(t.clientY+s.clientY)/2}}},onTouchMove:e=>{if(e.touches)if(1===e.touches.length){const t=e.touches[0];qt.current&&as(t.clientX,t.clientY)}else if(2===e.touches.length){const t=e.touches[0],s=e.touches[1],r=Math.hypot(s.clientX-t.clientX,s.clientY-t.clientY),l=r/(At.current.initialDist||r),a=Math.max(.2,Math.min(3,At.current.initialScale*l)),i=(t.clientX+s.clientX)/2,o=(t.clientY+s.clientY)/2,n=i-Dt.current.x,d=o-Dt.current.y;Et(e=>({x:e.x+n,y:e.y+d})),Dt.current={x:i,y:o},zt(a),e.preventDefault()}},onTouchEnd:e=>{e.touches&&0!==e.touches.length||(is(),At.current.initialDist=null)},children:[t.jsx("img",{ref:Mt,src:ae,alt:"Adjustable thumbnail",loading:"lazy",style:{position:"absolute",left:"50%",top:"50%",transform:`translate(-50%, -50%) translate(${Pt.x}px, ${Pt.y}px) scale(${Tt})`,transformOrigin:"center center",userSelect:"none",touchAction:"none",maxWidth:"none"}}),t.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"90%",aspectRatio:"16/9",border:"2px dashed rgba(255,255,255,0.9)",boxShadow:"0 0 0 100vmax rgba(0,0,0,0.45)",borderRadius:8,pointerEvents:"none"}})]})}),t.jsxs("div",{className:"w-40 flex-shrink-0 flex flex-col gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-600",children:r("Zoom",be)}),t.jsx("input",{type:"range",min:"0.2",max:"3",step:"0.05",value:Tt,onChange:e=>zt(Number(e.target.value)),className:"w-full mt-1"}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Math.round(100*Tt),"%"]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onMouseDown:()=>rs(-.1),onMouseUp:()=>ss(),onMouseLeave:()=>ss(),onTouchStart:()=>rs(-.1),onTouchEnd:()=>ss(),className:"px-3 py-2 bg-gray-100 rounded-md",children:"-"}),t.jsx("button",{onMouseDown:()=>rs(.1),onMouseUp:()=>ss(),onMouseLeave:()=>ss(),onTouchStart:()=>rs(.1),onTouchEnd:()=>ss(),className:"px-3 py-2 bg-gray-100 rounded-md",children:"+"})]}),t.jsxs("div",{className:"mt-2",children:[t.jsx("button",{onClick:()=>{const e=Mt.current,t=Ut.current;if(e&&t){e.getBoundingClientRect();const s=t.getBoundingClientRect();let r=s.width,l=9*r/16;l>s.height&&(l=s.height,r=16*l/9);const a=Math.min(r/e.naturalWidth,l/e.naturalHeight),i=Math.max(.1,Math.min(3,a));zt(i)}else zt(1);Et({x:0,y:0}),At.current={initialDist:null,initialScale:1}},className:"w-full px-3 py-2 rounded-md border border-gray-200 bg-white mb-2",children:r("Reset",be)}),t.jsxs("div",{className:"mt-auto",children:[t.jsx("button",{onClick:async()=>{try{const t=Mt.current,s=Ut.current;if(!t||!s)return;const r=t.getBoundingClientRect(),l=s.getBoundingClientRect();let a=l.width,i=9*a/16;i>l.height&&(i=l.height,a=16*i/9);const o=l.left+(l.width-a)/2,n=l.top+(l.height-i)/2,d=o-r.left,c=n-r.top,x=a,m=i,u=d/r.width*t.naturalWidth,h=c/r.height*t.naturalHeight,g=x/r.width*t.naturalWidth,p=m/r.height*t.naturalHeight,b=1280,f=Math.round(9*b/16),v=document.createElement("canvas");v.width=b,v.height=f;const j=v.getContext("2d");j.fillStyle="#fff",j.fillRect(0,0,b,f),g>0&&p>0?j.drawImage(t,u,h,g,p,0,0,b,f):j.drawImage(t,0,0,t.naturalWidth,t.naturalHeight,0,0,b,f);const y=v.toDataURL("image/jpeg",.9);ie(y);try{const e=await fetch(y),t=await e.blob(),s=new File([t],"thumbnail.jpg",{type:t.type});le(s)}catch(e){}Lt(!1),zt(1),Et({x:0,y:0})}catch(e){console.warn("Thumbnail adjust failed",e),Lt(!1)}},className:"w-full bg-[var(--color-gold)] text-white px-3 py-2 rounded-md",children:r("Save",be)}),t.jsx("button",{onClick:()=>Lt(!1),className:"w-full mt-2 px-3 py-2 rounded-md border border-gray-200 bg-white",children:r("Cancel",be)})]})]})]})]})]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-2",children:[r("Video Title",be)," ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{value:_e,onChange:e=>{const t=e.target.value.slice(0,100);Ye(t)},placeholder:r("Add a title for your video",be),className:"w-full border border-gray-200 rounded-lg px-4 py-3 text-sm"}),t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[_e.length,"/100 ",r("characters",be)]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[r("Category",be)," ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("button",{type:"button",onClick:()=>{Ee(!0),ze(!0)},className:"text-gray-400 hover:text-blue-600 transition-colors p-1",title:"Add Category",children:t.jsx(w,{size:14})})]}),t.jsxs("div",{className:"relative",ref:Ae,children:[t.jsxs("button",{type:"button",onClick:()=>ze(e=>!e),"aria-haspopup":"listbox","aria-expanded":Te,className:"w-full border border-gray-200 rounded-lg px-4 py-3 text-sm bg-white flex items-center justify-between",children:[t.jsx("span",{className:Re?"text-gray-900":"text-gray-400",children:r(Re||"Select a category for your video",be)}),t.jsx("svg",{className:"ml-2",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M6 9l6 6 6-6",stroke:"#6B7280",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),Te&&t.jsxs("div",{className:"absolute left-0 mt-2 w-full z-30 bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:[Pe?t.jsxs("div",{className:"p-2 bg-gray-50 border-b border-gray-200 flex items-center gap-2",children:[t.jsx("input",{autoFocus:!0,value:Ue,onChange:e=>Me(e.target.value),placeholder:"New Category...",className:"flex-1 text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:border-blue-500",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),Ie()),"Escape"===e.key&&Ee(!1)}}),t.jsx("button",{onClick:Ie,className:"text-green-600 p-1 hover:bg-green-100 rounded",children:t.jsx(E,{size:14})}),t.jsx("button",{onClick:()=>Ee(!1),className:"text-gray-500 p-1 hover:bg-gray-200 rounded",children:t.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}):null,t.jsx("div",{className:"max-h-48 overflow-y-auto",children:qe.map(e=>{const s=e===Re;return t.jsxs("button",{type:"button",onClick:()=>(e=>{Le(e),ze(!1)})(e),className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center justify-between "+(s?"bg-[var(--color-gold-light-bg)]":""),children:[t.jsx("span",{className:"text-sm text-gray-900",children:r(e,be)}),s&&t.jsx("span",{className:"text-[var(--color-gold-darker)]",children:"âœ“"})]},e)})})]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:r("How it appears",be)}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx("button",{type:"button",onClick:()=>Xe("public"),className:"text-left p-4 rounded-lg border "+("public"===Ve?"border-[var(--color-gold)] bg-[var(--color-gold-light-bg)]":"border-gray-200 bg-white"),children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(A,{size:20,className:"text-[var(--color-gold-darker)] mt-1"}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"font-semibold",children:r("Public",be)}),t.jsx("span",{className:"inline-block text-xs px-2 py-1 rounded-full bg-[var(--color-gold-cream)] text-[var(--color-gold-darker)] border border-[var(--color-gold)] whitespace-nowrap",children:r("Recommended",be)})]}),t.jsx("div",{className:"text-xs text-gray-500",children:r("Video appears on home page after completion. Best for maximum reach.",be)})]})]}),t.jsx("div",{children:"public"===Ve&&t.jsx("div",{className:"text-[var(--color-gold-darker)]",children:"âœ“"})})]})}),t.jsx("button",{type:"button",onClick:()=>Xe("unlisted"),className:"text-left p-4 rounded-lg border "+("unlisted"===Ve?"border-[var(--color-gold)] bg-[var(--color-gold-light-bg)]":"border-gray-200 bg-white"),children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(D,{size:20,className:"text-gray-700 mt-1"}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"font-semibold",children:r("Unlisted",be)}),t.jsx("span",{className:"inline-block text-xs px-2 py-1 rounded-full bg-[var(--color-gold-cream)] text-[var(--color-gold-darker)] border border-[var(--color-gold)] whitespace-nowrap",children:r("For Review",be)})]}),t.jsx("div",{className:"text-xs text-gray-500",children:r("Shareable via link only. Not visible on home page.",be)})]})]}),t.jsx("div",{children:"unlisted"===Ve&&t.jsx("div",{className:"text-[var(--color-gold-darker)]",children:"âœ“"})})]})}),t.jsx("button",{type:"button",onClick:()=>Xe("private"),className:"text-left p-4 rounded-lg border "+("private"===Ve?"border-[var(--color-gold)] bg-[var(--color-gold-light-bg)]":"border-gray-200 bg-white"),children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(l,{size:20,className:"text-gray-700 mt-1"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold",children:r("Private",be)}),t.jsx("div",{className:"text-xs text-gray-500",children:r("Only visible to you and the requester.",be)})]})]}),"private"===Ve&&t.jsx("div",{className:"text-[var(--color-gold-darker)]",children:"âœ“"})]})})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"rounded-lg border border-[var(--color-gold-light)] bg-[var(--color-gold-light-bg)] p-4 mb-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(x,{size:20,className:"text-[var(--color-gold-darker)] mt-1"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-[var(--color-gold-darker)]",children:r("Your Video Link",be)}),t.jsx("div",{className:"text-sm text-gray-600 mt-1",children:r("âœ¨ A permanent link will be generated when you publish",be)})]})]}),t.jsx("div",{children:t.jsx("button",{type:"button",onClick:async()=>{const t=(()=>{try{return`${b}/videos/${(_e||e||"your-video").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,60)||"your-video"}`}catch(t){return`${b}/videos/your-video`}})();try{if(navigator&&navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(t);else{const e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="fixed",e.style.left="-9999px",document.body.appendChild(e),e.select(),e.setSelectionRange(0,e.value.length);const s=document.execCommand("copy");if(document.body.removeChild(e),!s)throw new Error("execCommand returned false")}he(!0),pe(r("Copied",be)),setTimeout(()=>he(!1),1200)}catch(s){try{window.prompt&&window.prompt("Copy this link",t),pe(r("Copy ready â€” paste manually",be)),setTimeout(()=>pe(""),2e3)}catch(l){pe(r("Copy failed",be)),setTimeout(()=>pe(""),1500)}}},className:"inline-flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-md",children:ue?t.jsx(L,{size:16,className:"text-[var(--color-gold-darker)]"}):t.jsx(x,{size:16,className:"text-[var(--color-gold-darker)]"})})})]}),t.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-2",children:[r("Script Type",be)," ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative mb-4",ref:Be,children:[t.jsxs("button",{type:"button",onClick:()=>$e(e=>!e),"aria-haspopup":"listbox","aria-expanded":Oe,className:"w-full border border-gray-200 rounded-lg px-4 py-3 text-sm bg-white flex items-center justify-between",children:[t.jsx("span",{className:We?"text-gray-900":"text-gray-400",children:r(We||"Select the script style used",be)}),t.jsx("svg",{className:"ml-2",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M6 9l6 6 6-6",stroke:"#6B7280",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),Oe&&t.jsx("div",{className:"absolute left-0 mt-2 w-full z-30 bg-white rounded-lg shadow-lg border border-gray-200 max-h-48 overflow-y-auto",children:["Narration","Interview","Vlog","Explainer","Other"].map(e=>{const s=e===We;return t.jsxs("button",{type:"button",onClick:()=>{Je(e),$e(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center justify-between "+(s?"bg-[var(--color-gold-light-bg)]":""),children:[t.jsx("span",{className:"text-sm text-gray-900",children:r(e,be)}),s&&t.jsx("span",{className:"text-[var(--color-gold-darker)]",children:"âœ“"})]},e)})})]}),t.jsx("div",{className:"flex items-center justify-between mb-2",children:t.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[r("Upload Script File",be)," ",t.jsx("span",{className:"text-xs text-gray-400",children:r("Optional",be)})]})}),t.jsx("input",{ref:Qe,type:"file",accept:".txt,.doc,.docx,.pdf",className:"hidden",onChange:e=>{const t=e.target.files&&e.target.files[0];t&&Ke(t)}}),t.jsx("div",{onClick:()=>Qe.current&&Qe.current.click(),className:"w-full rounded-lg border-2 border-dashed border-gray-200 h-36 flex items-center justify-center cursor-pointer overflow-hidden bg-white",children:He?t.jsxs("div",{className:"text-sm text-gray-700",children:[r("Selected:",be)," ",He.name," (",Math.round(He.size/1024)," KB)"]}):t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx("div",{className:"w-12 h-12 rounded-md bg-[var(--color-gold-light-bg)] mx-auto mb-3 flex items-center justify-center text-[var(--color-gold)]",children:t.jsx(F,{size:20,className:"text-[var(--color-gold)]"})}),t.jsx("div",{className:"font-medium",children:r("Upload Script File",be)}),t.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r("TXT, DOC, DOCX, or PDF Â· Max 10MB",be)})]})})]}),"Other"===We&&t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:r("Please describe the script type",be)}),t.jsx("input",{value:Ge,onChange:e=>Ze(e.target.value),placeholder:r("Describe the script type",be),className:"w-full p-3 border border-gray-200 rounded-lg text-sm"})]}),t.jsx(B,{videoFile:Q,isPublic:"public"===Ve,onOverlaysChange:Kt,getTranslation:r,selectedLanguage:be})]}),"overlays"===lt&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex items-start justify-between mb-4",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-[20px] font-semibold text-gray-900",children:r("Add Interactive Elements",be)}),t.jsx("div",{className:"text-sm text-gray-400 mt-2",children:r("Make your video more engaging with clickable links and images",be)})]})}),t.jsx(B,{videoFile:Q,isPublic:!0,onOverlaysChange:Kt,getTranslation:r,selectedLanguage:be})]})]}):t.jsxs(o.Fragment,{children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-[20px] font-semibold text-gray-900",children:r("Advance Request Status",be)}),t.jsx("div",{className:"text-sm text-gray-400",children:r("Update the status and notify the requester",be)})]}),t.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]}),t.jsxs("div",{className:"flex items-center justify-center gap-6 my-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xs text-gray-400",children:r("Current Status",be)}),t.jsx("div",{className:"text-lg font-semibold mt-2",children:r(jt[Math.max(0,c-1)],be)})]}),t.jsx("div",{className:"text-2xl text-gray-400",children:"â†’"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xs text-gray-400",children:r("Next Status",be)}),t.jsx("div",{className:"text-lg font-semibold mt-2",children:r(c<jt.length?jt[c]:jt[jt.length-1],be)})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:r("Progress Update Message (Optional)",be)}),t.jsx("textarea",{value:G,onChange:e=>Z(e.target.value),placeholder:r("Add a custom message for the requester...",be),className:"w-full mt-2 p-3 border border-gray-200 rounded-lg min-h-[120px] text-sm"})]}),t.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg flex items-start gap-3",children:[t.jsx("div",{className:"text-blue-600",children:"ðŸ””"}),t.jsxs("div",{className:"text-sm text-blue-900",children:[i," ",r("will be notified via email and app notification",be)]})]}),t.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[t.jsxs("button",{onClick:()=>{if(c===jt.length){try{f(c,G)}catch(t){}return S(!1),wt(!0),kt(!0),void setTimeout(()=>{kt(!1)},3e3)}const e=Math.min(jt.length,c+1);try{f(e,G)}catch(t){}S(!1)},disabled:c>jt.length,className:"w-full px-4 py-3 rounded-lg text-white font-semibold "+(c>jt.length?"bg-gray-300 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[t.jsx("span",{className:"mr-2",children:"âœ”"}),c===jt.length?r("Update Progress",be):c===jt.length-1?r("Publish Video",be):r("Update Status",be)]}),t.jsx("button",{onClick:()=>S(!1),className:"w-full px-4 py-3 rounded-lg border border-gray-200 bg-white",children:r("Cancel",be)})]})]})}),(5===c||st)&&t.jsxs("div",{className:"p-4 border-t bg-white",children:[xe&&t.jsx("div",{className:"text-sm text-red-600 mb-3",children:r(xe,be)}),"form"===lt?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:async()=>{me(""),Q||ct?re||ht?_e&&0!==_e.trim().length?Re?"one-time"===je&&It>=1?me("This one-time video has already been published."):"series"===je&&It>=5?me("Series limit reached"):"catalogue"===je&&It>=5?me("Catalogue limit reached"):(ot({title:_e,file:Q,thumbnail:ae||(re?"string"==typeof re?re:re.name:null),time:"Just now",format:je,category:Re,scriptType:We}),at("public"===Ve?"overlays":"preview")):me(r("Please select a category for your video.",be)):me(r("Please add a video title before continuing.",be)):me("Please upload a thumbnail or add a link before continuing."):me("Please upload a video or add a video link before continuing.")},disabled:"one-time"===je&&It>=1||"series"===je&&It>=5||"catalogue"===je&&It>=5,style:{backgroundColor:ve?.accentColor||"var(--color-gold)"},className:"w-full text-white px-4 py-3 rounded-lg font-semibold mb-3",children:r("Next: Preview",be)}),t.jsx("button",{onClick:()=>S(!1),className:"w-full px-4 py-3 rounded-lg border border-gray-200 bg-white",children:r("Cancel",be)})]}):"overlays"===lt?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>{at("preview")},style:{backgroundColor:ve?.accentColor||"var(--color-gold)"},className:"w-full text-white px-4 py-3 rounded-lg font-semibold mb-3",children:r("Next: Preview",be)}),t.jsx("button",{onClick:()=>at("form"),className:"w-full px-4 py-3 rounded-lg border border-gray-200 bg-white mb-3",children:r("Back",be)}),t.jsx("button",{onClick:()=>S(!1),className:"w-full px-4 py-3 rounded-lg border border-gray-200 bg-white",children:r("Cancel",be)})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:async()=>{const e=it||{title:_e,file:Q,thumbnail:re?re.name:null,format:je};me("");const t=e.file||Q||null,s=t&&t.name||"",l=t&&t.size||0,a=t&&t.type||"",o=(e.title||_e||"").trim(),n=o.toLowerCase();let d=null;if(st||(d=$t&&$t.find(e=>{if(!e)return!1;const t=(e.title||"").toString().trim().toLowerCase(),r=e.fileName||"",a=e.fileSize||0;return t===n&&r===s&&a===l})),d)me(r("Duplicate upload detected. This video has already been uploaded.",be));else{ne(!0),ce(0);try{for(let e=10;e<=100;e+=10)await new Promise(e=>setTimeout(e,80)),ce(e);const t={id:Date.now().toString()+"-"+Math.random().toString(36).slice(2),title:o||_e,titleNormalized:n,fileName:s,fileSize:l,fileType:a,thumbnail:e.thumbnail||(re?re.name:null),time:Date.now(),format:e.format||je,changeNote:et||null,appearance:Ve,privateLink:"private"===Ve?`${b}/?vid=${Date.now().toString()+"-"+Math.random().toString(36).slice(2)}`:null,overlays:Ht&&Array.isArray(Ht)?Ht:[]};try{const s=window&&window.__BACKEND_URL__||"https://pwin.onrender.com",l=localStorage.getItem("regaarder_token");console.log("Uploading files to backend:",{backend:s,hasToken:!!l,hasVideo:!!Q,hasThumbnail:!!re});let a=ht||"";if(!ht&&re&&re instanceof File){const e=new FormData;e.append("photo",re);const t=await fetch(`${s}/creator/photo`,{method:"POST",headers:l?{Authorization:`Bearer ${l}`}:{},body:e});if(t.ok){a=(await t.json()).url,console.log("Thumbnail uploaded:",a)}else console.warn("Thumbnail upload failed, status:",t.status),a=""}let n=ct||te;if(!ct&&Q&&Q instanceof File){const e=new FormData;e.append("video",Q);const t=await fetch(`${s}/creator/intro-video`,{method:"POST",headers:l?{Authorization:`Bearer ${l}`}:{},body:e});if(t.ok){n=(await t.json()).url,console.log("Video uploaded:",n)}else console.warn("Video upload failed, using preview")}t.thumbnail=a||t.thumbnail,t.videoUrl=n||null;let d="0:00";if(ct)try{if(ct.includes("youtube.com")||ct.includes("youtu.be")){let e="";if(ct.includes("youtu.be/"))e=ct.split("youtu.be/")[1].split(/[?&#]/)[0];else if(ct.includes("youtube.com"))try{e=new URL(ct).searchParams.get("v")||""}catch{}if(e){const t=localStorage.getItem(`yt_dur_${e}`);if(t&&parseInt(t)>0){const e=parseInt(t);d=`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`}else try{const t=await fetch(`https://noembed.com/embed?url=https://www.youtube.com/watch?v=${e}`);if(t.ok){const e=await t.json();if(e.duration){2===String(e.duration).split(":").length&&(d=e.duration)}}}catch{}}}}catch{}else if(Q)try{const e=document.createElement("video");e.preload="metadata";const t=URL.createObjectURL(Q);e.src=t,await new Promise((s,r)=>{const l=setTimeout(()=>{URL.revokeObjectURL(t),s()},5e3);e.onloadedmetadata=()=>{clearTimeout(l);const r=Math.floor(e.duration),a=Math.floor(r/60);d=`${a}:${(r%60).toString().padStart(2,"0")}`,console.log("Video duration calculated:",d),URL.revokeObjectURL(t),s()},e.onerror=e=>{clearTimeout(l),console.warn("Video metadata load error:",e),URL.revokeObjectURL(t),s()}})}catch(x){console.warn("Could not calculate video duration:",x)}const c=await fetch(`${s}/videos/publish`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:l?`Bearer ${l}`:""},body:JSON.stringify({title:o||_e,thumbnail:a||null,videoUrl:n||null,category:Re||"General",format:e.format||je,time:d,requester:i||null,overlays:Ht&&Array.isArray(Ht)?Ht:[]})});if(c.ok){const e=await c.json();console.log("Video published successfully:",e),pe(r("Video published! Refresh home page to see it.",be))}else{console.error("Failed to publish video to backend. Status:",c.status);const e=await c.text();console.error("Error details:",e),pe(r("Publishing failed. Please try again.",be))}}catch(x){console.error("Error publishing video to backend:",x)}if("recurrent"===e.format){const e=It+1;Ot(e),Bt(e=>[...e,t]),Jt(t),pe(`${r("Published video",be)} #${e}`),"private"===Ve&&t.privateLink&&(Yt(t.privateLink),Xt(!0)),ee(null),te&&(URL.revokeObjectURL(te),se(null)),ie(null),le(null),Ke(null),Ze(""),ot(null),ce(0),at("form")}else if("series"===e.format){const e=It+1;Ot(e),Bt(e=>[...e,t]),Jt(t),pe(`${r("Published episode",be)} #${e}`),"private"===Ve&&t.privateLink&&(Yt(t.privateLink),Xt(!0));const s=(o||_e||"").replace(/\s*\(Part\s*\d+\)\s*$/i,"").trim();Ye(s?`${s} (Part ${e+1})`:`Part ${e+1}`),ee(null),te&&(URL.revokeObjectURL(te),se(null)),ie(null),le(null),Ke(null),Ze(""),ot(null),ce(0),at("form"),rt(!1),tt("")}else if("catalogue"===e.format){const e=It+1;Ot(e),Bt(e=>[...e,t]),Jt(t),pe(`${r("Published item",be)} #${e}`),"private"===Ve&&t.privateLink&&(Yt(t.privateLink),Xt(!0)),ee(null),te&&(URL.revokeObjectURL(te),se(null)),ie(null),le(null),Ke(null),Ze(""),ot(null),ce(0),at("form"),rt(!1),tt("")}else{if(st&&j&&j.id){const e=j.id;t.id=e,Bt(s=>s&&s.some(t=>t&&t.id===e)?s.map(s=>s&&s.id===e?t:s):[...s||[],t]),Jt(t),pe(r("Updated published video",be));try{f(Math.min(jt.length,c+1),`Re-uploaded video:${t.fileName} thumb:${t.thumbnail||""}`)}catch(m){}}else{Ot(It+1),Bt(e=>[...e,t]),Jt(t);try{f(Math.min(jt.length,c+1),`Uploaded video:${t.fileName} thumb:${t.thumbnail||""}`)}catch(m){}}at("form"),rt(!1),tt("")}}finally{ne(!1),ce(0)}}},disabled:oe,className:`w-full ${oe?"bg-gray-300 cursor-not-allowed":"bg-[var(--color-gold)] text-white"} px-4 py-3 rounded-lg font-semibold mb-3`,children:oe?"Uploading "+de+"%":(()=>{const e=It+1,s=it&&it.format||je;return"recurrent"===s?t.jsxs(o.Fragment,{children:[t.jsx("span",{className:"mr-2",children:"âœ¨"}),"Publish video #",e]}):"series"===s?t.jsxs(o.Fragment,{children:[t.jsx("span",{className:"mr-2",children:"âœ¨"}),"Publish episode #",e]}):"catalogue"===s?t.jsxs(o.Fragment,{children:[t.jsx("span",{className:"mr-2",children:"âœ¨"}),"Publish item #",e]}):t.jsxs(o.Fragment,{children:[t.jsx("span",{className:"mr-2",children:"âœ¨"}),0===It?"Publish Video":"Published"]})})()}),t.jsx("button",{onClick:()=>{at("overlays")},className:"w-full px-4 py-3 rounded-lg border border-gray-200 bg-white",children:"Back"})]})]})]})]}),Nt&&t.jsxs(t.Fragment,{children:[t.jsx("style",{children:"\n                    @keyframes confettiFall {\n                        0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }\n                        100% { transform: translateY(110vh) rotate(360deg); opacity: 0.95; }\n                    }\n                    @keyframes confettiSwing {\n                        0% { transform: translateY(0) translateX(0) rotate(0deg); }\n                        50% { transform: translateY(20px) translateX(8px) rotate(90deg); }\n                        100% { transform: translateY(0) translateX(0) rotate(180deg); }\n                    }\n                "}),t.jsx("div",{className:"fixed inset-0 z-50 pointer-events-none overflow-hidden",children:(()=>{const e=["#F59E0B","#10B981","#3B82F6","#EF4444","#8B5CF6","#06B6D4"],s=[];for(let r=0;r<28;r++){const l=Math.round(100*Math.random()),a=Math.round(800*Math.random()),i=1400+Math.round(800*Math.random()),o=6+Math.round(8*Math.random()),n=10+Math.round(12*Math.random()),d=e[r%e.length];s.push(t.jsx("div",{style:{position:"absolute",left:`${l}%`,top:"-8%",width:o,height:n,background:d,borderRadius:2,transformOrigin:"center",animation:`confettiFall ${i}ms cubic-bezier(.2,.7,.2,1) ${a}ms forwards`,opacity:.95}},r))}return s})()}),t.jsx(X,{message:"Your video has been successfully completed. We're proud of you !",bottom:!1,duration:3500})]}),I&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black opacity-50",onClick:()=>O(!1)}),t.jsx("div",{className:"relative bg-white rounded-3xl shadow-2xl p-6 max-w-sm mx-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-4",children:t.jsx(P,{size:32,className:"text-red-600"})}),t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:r("Unclaim Request?",be)}),t.jsx("p",{className:"text-gray-600 text-sm mb-6",children:r("Are you sure you want to stop working on this request? It will become available for other creators to claim.",be)}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:async()=>{try{const t=localStorage.getItem("regaarder_token"),s=window&&window.__BACKEND_URL__||"https://pwin.onrender.com";if(t){const r=await fetch(`${s}/claims`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({requestId:u||e,title:e})});if(r.ok)O(!1),v(u||e),console.log("Request successfully unclaimed");else{const e=await r.json();console.error("Failed to unclaim request:",r.status,e),alert(`Failed to unclaim: ${e.error||"Unknown error"}`)}}}catch(t){console.error("Unclaim failed",t),alert("Error unclaiming request: "+t.message)}},className:"w-full bg-red-600 text-white font-semibold py-3 rounded-lg hover:bg-red-700 transition",children:r("Yes, Unclaim",be)}),t.jsx("button",{onClick:()=>O(!1),className:"w-full border border-gray-200 text-gray-900 font-semibold py-3 rounded-lg hover:bg-gray-50 transition",children:r("Keep Working",be)})]})]})})]}),t.jsx(W,{isOpen:$,onClose:()=>_(!1),requestData:h,selectedLanguage:be}),Vt&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm",children:t.jsx("div",{className:"bg-white rounded-xl shadow-xl p-6 w-[90%] max-w-md animate-scale-in",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(E,{className:"w-6 h-6 text-green-600"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r("Video Published Privately",be)}),t.jsx("p",{className:"text-sm text-gray-500 mb-6",children:r("Your video is only visible to those with the link below.",be)}),t.jsxs("div",{className:"w-full flex items-center bg-gray-50 rounded-lg border border-gray-200 p-3 mb-6",children:[t.jsx("span",{className:"flex-1 truncate text-sm text-gray-600 font-mono select-all",children:_t}),t.jsx("button",{onClick:()=>{navigator.clipboard.writeText(_t),pe(r("Link copied!",be))},className:"ml-2 bg-transparent text-gray-500 hover:text-gray-900 focus:outline-none",title:r("Copy Link",be),children:t.jsx(L,{size:18})})]}),t.jsx("button",{onClick:()=>Xt(!1),className:"px-6 py-2.5 bg-gray-900 hover:bg-black text-white rounded-lg font-medium transition-colors w-full",children:r("Close",be)})]})})}),ft&&t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:()=>vt(!1),children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 w-[90%] max-w-md",onClick:e=>e.stopPropagation(),style:{animation:"fadeIn 250ms ease-out"},children:[t.jsx("style",{children:"@keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }"}),t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-[var(--color-gold-light-bg)] flex items-center justify-center mb-4",children:t.jsx(l,{size:28,className:"text-[var(--color-gold)]"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r("Pro Feature",be)}),t.jsx("p",{className:"text-sm text-gray-600 mb-4 leading-relaxed",children:r("Uploading videos directly from your device is exclusive to Pro Creators.",be)}),t.jsxs("div",{className:"w-full bg-gray-50 rounded-xl p-4 mb-4 text-left",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-800 mb-2",children:r("Starter creators can still publish videos:",be)}),t.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-[var(--color-gold)] mt-0.5",children:"â€¢"}),t.jsx("span",{children:r('Upload your video to YouTube or another platform as "Unlisted"',be)})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-[var(--color-gold)] mt-0.5",children:"â€¢"}),t.jsx("span",{children:r("Paste the video link in the field above",be)})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-[var(--color-gold)] mt-0.5",children:"â€¢"}),t.jsx("span",{children:r("Your video will play seamlessly within Regaarder",be)})]})]})]}),t.jsxs("div",{className:"w-full flex flex-col gap-3",children:[t.jsx("button",{onClick:()=>{vt(!1);try{const e=window.__creatordashboard_navigate;e?e("/sponsorship?tab=creator"):window.location.href="/sponsorship?tab=creator"}catch(e){console.warn("Navigation failed",e),window.location.href="/sponsorship?tab=creator"}},className:"w-full py-3 bg-[var(--color-gold)] text-white font-semibold rounded-lg shadow-md hover:opacity-90 transition",children:r("Upgrade to Pro Creator",be)}),t.jsx("button",{onClick:()=>vt(!1),className:"w-full py-3 border border-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition",children:r("Use video link instead",be)})]})]})]})})]})]})},H=()=>{const e=i();window.__creatordashboard_navigate=e;const[c,x]=a.useState("Overview"),[m,u]=a.useState(!1),[h,b]=a.useState(!1),[U,M]=a.useState(null);a.useEffect(()=>{try{const e=new URLSearchParams(window.location.search).get("tab");e&&q.includes(e)&&x(e)}catch(e){console.error("Error parsing URL params:",e)}},[]),a.useEffect(()=>{const e=e=>{try{const t=e.detail;if(t){x("Claims");const e={id:t.requestId,title:t.title,requesterName:t.requesterName,requesterAvatar:t.requesterAvatar,funding:t.funding,description:t.description,currentStep:t.currentStep||1,claimedAt:t.claimedAt};de(t=>t.some(t=>t.id===e.id)?t:[e,...t]),ge(!1)}}catch(t){console.error("Error handling claim event:",t)}};return window.addEventListener("request:claimed",e),()=>window.removeEventListener("request:claimed",e)},[]);const q=["Overview","Requests","Claims","Published","Analytics","Upload","Insights","Support","Templates"],[D,A]=a.useState(""),[F,O]=a.useState(()=>("undefined"!=typeof window?localStorage.getItem("regaarder_language"):"English")||"English");a.useEffect(()=>{const e=()=>{const e=localStorage.getItem("regaarder_language")||"English";O(e)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]);const[B,Y]=a.useState(null),[W,H]=a.useState(!1),[K,G]=a.useState(["Travel","Education","Entertainment","Music","Sports"]),[Z,Q]=a.useState(!1),[ee,te]=a.useState(""),[se,re]=a.useState(!1),[le,ae]=a.useState(""),{user:ie}=s();a.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("regaarder_token");if(!e)return;const t=window&&window.__BACKEND_URL__||"https://pwin-copy-production.up.railway.app",s=await fetch(`${t}/users/me`,{headers:{Authorization:`Bearer ${e}`}});if(s.ok){const e=await s.json();e.user&&(Y(e.user.userPlan||null),H("procreator"===(e.user.userPlan||"").toLowerCase()))}}catch(e){console.warn("Error fetching user plan:",e)}})()},[]);const oe=a.useCallback(async()=>{try{const e=["Travel","Education","Entertainment","Music","Sports"],t=window&&window.__BACKEND_URL__||"https://pwin-copy-production.up.railway.app",s=await fetch(`${t}/categories`);if(s.ok){const e=await s.json();if(Array.isArray(e)&&e.length>0)return void G(e)}G(t=>t.length>0?t:e)}catch(e){console.error("Could not fetch categories",e)}},[]);a.useEffect(()=>{oe()},[oe]),a.useEffect(()=>{Z&&!se&&oe()},[Z,se,oe]),a.useRef(null);const[ne,de]=a.useState(()=>{try{const e="undefined"!=typeof localStorage&&localStorage.getItem("claimedRequests");return e?JSON.parse(e):[]}catch(e){return[]}});a.useEffect(()=>{try{"undefined"!=typeof localStorage&&localStorage.setItem("claimedRequests",JSON.stringify(ne))}catch(e){}},[ne]),a.useEffect(()=>{const e=e=>{if("claimedRequests"===e.key)try{const t=e.newValue;de(t?JSON.parse(t):[])}catch(t){}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]);const[ce,xe]=a.useState(null),[me,ue]=a.useState({}),[he,ge]=a.useState(!1),[pe,be]=a.useState(()=>{try{if("undefined"!=typeof localStorage){const e=localStorage.getItem("publishedItems");return e?JSON.parse(e):[]}}catch(e){}return[]}),[fe,ve]=a.useState(!1),[je,ye]=a.useState(null),[we,Ne]=a.useState(""),[ke,Ce]=a.useState(null),[Se,Re]=a.useState(null),[Le,Te]=a.useState(!1),[ze,Pe]=a.useState([]),[Ee,Ue]=a.useState(""),[Me,qe]=a.useState(null),[De,Ae]=a.useState(null),[Fe,Ie]=a.useState(null),Oe=e=>{Ae(e)},$e=()=>{Ae(null)};a.useRef({active:!1,startX:0,startY:0,lastX:0}),a.useEffect(()=>{const e=e=>{if("publishedItems"===e.key)try{be(e.newValue?JSON.parse(e.newValue):[])}catch(t){}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),a.useEffect(()=>{if("Published"===c)try{const e=localStorage.getItem("publishedItems");be(e?JSON.parse(e):[])}catch(e){}},[c]);const Be=e=>{try{qe(e);(e=>{try{be(e),"undefined"!=typeof localStorage&&localStorage.setItem("publishedItems",JSON.stringify(e))}catch(t){}})(pe.filter(t=>t.id!==e)),Ue(r("Deleted",F)),setTimeout(()=>Ue(""),1800)}finally{setTimeout(()=>qe(null),300)}},_e=()=>{const e="upload-"+Date.now(),t={id:e,title:"",requesterName:r("You",F),requesterAvatar:null,currentStep:5,isReupload:!1};de(e=>[t,...e]),xe({title:"",thumbnail:null,openInForm:!0,isReupload:!1,targetClaimId:e}),x("Claims")},Ye=a.useRef(!1),[Ve,Xe]=a.useState(!1),[We,Je]=a.useState(!1),[He,Ke]=a.useState(!0),[Ge,Ze]=a.useState(!1),[Qe,et]=a.useState(!1),[tt,st]=a.useState(null),[rt,lt]=a.useState(!1),[at,it]=a.useState(()=>{try{return!localStorage.getItem("creatorDashboardWelcomeSeen")}catch(e){return!0}}),ot=()=>{it(!1);try{localStorage.setItem("creatorDashboardWelcomeSeen","true")}catch(e){}},nt=(D||"").toString().trim().toLowerCase(),dt=[{id:"earnings",title:r("Total Earnings",F),jsx:t.jsx("div",{className:"snap-start min-w-full flex-shrink-0 px-5",children:t.jsxs("div",{className:"rounded-3xl p-6 shadow-lg border-2 flex flex-col items-start justify-between min-h-[200px] relative overflow-hidden",style:{background:"white",borderColor:"var(--color-purple)"},children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center shadow-md",style:{background:"var(--color-purple)"},children:t.jsx(f,{size:22,className:"text-white",fill:"white"})}),t.jsx("span",{className:"text-[14px] font-bold uppercase tracking-wider",style:{color:"var(--color-purple)"},children:r("Total Earnings",F)})]}),t.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[t.jsx("div",{className:"text-[32px] font-bold text-gray-900 mb-2 leading-none tracking-tight",children:"--"}),t.jsx("span",{className:"text-[13px] text-gray-600 font-medium",children:r("Start earning today",F)})]})]})},"earnings")},{id:"requests",title:r("Active Requests",F),jsx:t.jsx("div",{className:"snap-start min-w-full flex-shrink-0 px-5",children:t.jsxs("div",{className:"rounded-3xl p-6 shadow-lg border-2 flex flex-col items-start justify-between min-h-[200px] relative overflow-hidden",style:{background:"white",borderColor:"var(--color-purple)"},children:[t.jsx("div",{className:"flex items-center gap-3 mb-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-[14px] font-bold uppercase tracking-wider",style:{color:"var(--color-purple)"},children:r("Active Requests",F)}),t.jsx("span",{className:"px-2.5 py-1 rounded-full text-white text-[10px] font-bold shadow-md",style:{background:"var(--color-purple)"},children:r("NEW",F)})]})}),(()=>{try{const e=(ne||[]).length,s=((ne||[]).reduce((e,t)=>e+(Number(t.funding)||0),0),r(1===e?"active request":"active requests",F));return t.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[t.jsx("div",{className:"text-[32px] font-bold text-gray-900 mb-2 leading-none",children:e}),t.jsx("span",{className:"text-[13px] text-gray-600 font-medium",children:e?`${e} ${s}`:r("No active requests",F)})]})}catch(e){return t.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[t.jsx("div",{className:"text-[32px] font-bold text-gray-900 mb-2 leading-none",children:"0"}),t.jsx("span",{className:"text-[13px] text-gray-600 font-medium",children:r("No active requests",F)})]})}})()]})},"requests")},{id:"rating",title:r("Avg Rating",F),jsx:t.jsx("div",{className:"snap-start min-w-full flex-shrink-0 px-5",children:t.jsxs("div",{className:"rounded-3xl p-6 shadow-lg border-2 flex flex-col items-start justify-between min-h-[200px] relative overflow-hidden",style:{background:"white",borderColor:"var(--color-purple)"},children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center shadow-md",style:{background:"var(--color-purple)"},children:t.jsx(g,{size:22,className:"text-white",fill:"white"})}),t.jsx("span",{className:"text-[14px] font-bold uppercase tracking-wider",style:{color:"var(--color-purple)"},children:r("Avg Rating",F)})]}),t.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[t.jsx("div",{className:"text-[32px] font-bold text-gray-900 mb-2 leading-none tracking-tight",children:"--"}),t.jsx("span",{className:"text-[14px] text-gray-600 font-medium",children:r("Not rated yet â­",F)})]})]})},"rating")},{id:"response",title:r("Response Time",F),jsx:t.jsx("div",{className:"snap-start min-w-full flex-shrink-0 px-5",children:t.jsxs("div",{className:"rounded-3xl p-6 shadow-lg border-2 flex flex-col items-start justify-between min-h-[200px] relative overflow-hidden",style:{background:"white",borderColor:"var(--color-purple)"},children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center shadow-md",style:{background:"var(--color-purple)"},children:t.jsx(v,{size:22,className:"text-white",fill:"white"})}),t.jsx("span",{className:"text-[14px] font-bold uppercase tracking-wider",style:{color:"var(--color-purple)"},children:r("Response Time",F)})]}),t.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[t.jsx("div",{className:"text-[32px] font-bold text-gray-900 mb-2 leading-none tracking-tight",children:"--"}),t.jsx("span",{className:"text-[14px] text-gray-600 font-medium",children:r("Start responding âš¡",F)})]})]})},"response")}],ct=nt?[...dt.filter(e=>e.title.toLowerCase().includes(nt)),...dt.filter(e=>!e.title.toLowerCase().includes(nt))]:dt;return t.jsxs("div",{"data-creatordashboard-root":!0,className:"w-full max-w-[640px] mx-auto min-h-screen bg-white font-sans relative overflow-y-auto",style:{..._,paddingBottom:"calc(115px + env(safe-area-inset-bottom))"},children:[t.jsx("div",{className:"-mx-6 -mt-6 pt-10 pb-10",style:{background:"var(--color-purple)",borderTop:"3px solid var(--color-purple)",borderLeft:"3px solid var(--color-purple)",borderRight:"3px solid var(--color-purple)",borderTopLeftRadius:"16px",borderTopRightRadius:"16px",paddingTop:"calc(40px + env(safe-area-inset-top, 0px))"},children:t.jsxs("div",{className:"relative px-6",children:[t.jsxs("button",{onClick:()=>u(!m),className:"w-full px-5 py-3 rounded-2xl border-2 flex items-center justify-between font-semibold text-[15px] shadow-md transition-all",style:{backgroundColor:"var(--color-purple)",color:"white",borderColor:"var(--color-purple)",opacity:.95},onBlur:e=>{e.currentTarget.parentElement.contains(e.relatedTarget)||setTimeout(()=>u(!1),150)},children:[t.jsxs("span",{className:"flex items-center gap-2",children:["Overview"===c&&t.jsx(j,{size:18}),"Requests"===c&&t.jsx(y,{size:18}),"Claims"===c&&t.jsx(V,{size:18}),"Published"===c&&t.jsx(N,{size:18}),"Analytics"===c&&t.jsx(k,{size:18}),"Upload"===c&&t.jsx(C,{size:18}),"Insights"===c&&t.jsx(S,{size:18}),"Support"===c&&t.jsx(R,{size:18}),"Templates"===c&&t.jsx(L,{size:18}),r(c,F)]}),t.jsx(T,{size:20,className:"transition-transform",style:{transform:m?"rotate(180deg)":"rotate(0deg)"}})]}),m&&t.jsxs("div",{className:"absolute top-full left-5 right-5 mt-2 rounded-2xl border-2 shadow-2xl z-50",style:{background:"var(--color-purple)",borderColor:"var(--color-purple)"},children:[t.jsxs("div",{className:"px-4 py-3 flex items-center gap-2",children:[t.jsx("button",{onClick:e=>{e.stopPropagation(),Ke(!He)},className:"px-3 py-2 rounded-lg text-[12px] font-bold shadow text-center flex-shrink-0 transition-all",style:{background:He?"rgb(187, 247, 208)":"rgb(254, 202, 202)",color:He?"rgb(22, 101, 52)":"rgb(127, 29, 29)",border:"none"},children:r(He?"Available":"Unavailable",F)}),t.jsxs("button",{className:"px-3 py-2 rounded-lg border border-gray-200 text-gray-700 text-[12px] font-medium flex items-center justify-center shadow-sm flex-shrink-0 bg-white",onClick:()=>{try{localStorage.setItem("redirectBackTo","creatorDashboard"),e("/settings"),u(!1)}catch(t){console.warn("Navigation failed",t)}},children:[t.jsx(g,{size:14,className:"mr-1"}),r("Settings",F)]}),t.jsxs("button",{className:"px-3 py-2 rounded-lg border border-gray-200 text-gray-700 text-[12px] font-medium flex items-center justify-center shadow-sm flex-shrink-0 bg-white",onMouseDown:()=>{if(Xe(!0),!Ye.current){Ye.current=!0;try{localStorage.setItem("redirectBackTo","creatorDashboard"),window.location.href="/creatorprofile.jsx"}catch(e){console.warn("Navigation failed",e)}}},onTouchStart:()=>{if(Xe(!0),!Ye.current){Ye.current=!0;try{localStorage.setItem("redirectBackTo","creatorDashboard"),window.location.href="/creatorprofile.jsx"}catch(e){}}},onClick:e=>{if(Ye.current)return Ye.current=!1,e.preventDefault(),void Xe(!1);Xe(!1);try{localStorage.setItem("redirectBackTo","creatorDashboard"),window.location.href="/creatorprofile.jsx"}catch(t){console.warn("Navigation failed",t)}},onMouseUp:()=>Xe(!1),onTouchEnd:()=>Xe(!1),children:[t.jsx(z,{size:14,className:"mr-1"}),r("Profile",F)]})]}),q.map(e=>{const s=c===e;return t.jsxs("button",{onClick:()=>{x(e),u(!1)},className:"w-full px-5 py-3 text-left text-[15px] font-semibold flex items-center gap-3 transition-colors "+(s?"bg-var(--color-purple-light-bg)":"hover:bg-purple-600"),style:s?{color:"white",background:"rgba(255, 255, 255, 0.15)"}:{color:"white"},children:[(()=>{switch(e){case"Overview":return t.jsx(j,{size:18});case"Requests":return t.jsx(y,{size:18});case"Claims":return t.jsx(V,{size:18});case"Published":return t.jsx(N,{size:18});case"Analytics":return t.jsx(k,{size:18});case"Upload":return t.jsx(C,{size:18});case"Insights":return t.jsx(S,{size:18});case"Support":return t.jsx(R,{size:18});case"Templates":return t.jsx(L,{size:18});default:return null}})(),r(e,F)]},e)})]})]})}),at&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black opacity-60",onClick:ot}),t.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 z-10 p-6",children:[t.jsx("button",{onClick:ot,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:"âœ•"}),t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-14 h-14 rounded-xl bg-[var(--color-gold)] flex items-center justify-center shadow-md",children:t.jsx(N,{size:24,className:"text-white"})}),t.jsx("div",{children:t.jsx("h3",{className:"text-[20px] font-semibold text-gray-900",children:r("Welcome to Creator Dashboard",F)})})]}),t.jsx("p",{className:"text-[15px] text-gray-600 leading-relaxed mb-6",children:r("Manage your video requests and grow your audience. Track your earnings, respond to requests, and publish amazing content all in one place.",F)}),t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-[var(--color-gold-light-bg)]",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-[var(--color-gold)] flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx(y,{size:16,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:r("Browse Requests",F)}),t.jsx("div",{className:"text-xs text-gray-600 mt-0.5",children:r("Find video requests that match your skills",F)})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-[var(--color-gold-light-bg)]",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-[var(--color-gold)] flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx(N,{size:16,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:r("Create & Publish",F)}),t.jsx("div",{className:"text-xs text-gray-600 mt-0.5",children:r("Upload your videos and track their performance",F)})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-[var(--color-gold-light-bg)]",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-[var(--color-gold)] flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx(g,{size:16,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:r("Earn Money",F)}),t.jsx("div",{className:"text-xs text-gray-600 mt-0.5",children:r("Get paid for fulfilling video requests",F)})]})]})]}),t.jsx("button",{onClick:ot,className:"w-full bg-[var(--color-gold)] text-white px-6 py-3 rounded-lg font-semibold shadow-md",children:r("Get Started",F)})]})]}),Ge&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black opacity-60",onClick:()=>Ze(!1)}),t.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 z-10 p-6",children:[t.jsx("button",{onClick:()=>Ze(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:"âœ•"}),t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-14 h-14 rounded-xl bg-red-100 flex items-center justify-center shadow-md",children:t.jsx(P,{size:24,className:"text-red-600"})}),t.jsx("div",{children:t.jsx("h3",{className:"text-[20px] font-semibold text-gray-900",children:r("Creator Unavailable",F)})})]}),t.jsx("p",{className:"text-[15px] text-gray-600 leading-relaxed mb-6",children:r("This creator is unavailable right now. You can check back later or send your request to another creator.",F)}),t.jsx("button",{onClick:()=>Ze(!1),className:"w-full bg-gray-900 text-white px-6 py-3 rounded-lg font-semibold shadow-md",children:r("Got It",F)})]})]}),Qe&&tt&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black opacity-60",onClick:()=>et(!1)}),t.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 z-10 p-6",children:[t.jsx("button",{onClick:()=>et(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:"âœ•"}),t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-14 h-14 rounded-xl bg-purple-100 flex items-center justify-center shadow-md",children:t.jsx(l,{size:24,className:"text-purple-600"})}),t.jsx("div",{children:t.jsx("h3",{className:"text-[20px] font-semibold text-gray-900",children:r("Private Video Published",F)})})]}),t.jsx("p",{className:"text-[15px] text-gray-600 leading-relaxed mb-4",children:r("Your video has been published as private. Share this link with the requester to let them view it.",F)}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[t.jsx("div",{className:"text-xs text-gray-500 mb-2",children:r("Private Video Link",F)}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"text",value:tt,readOnly:!0,className:"flex-1 bg-white border border-gray-200 rounded px-3 py-2 text-sm text-gray-900 font-mono"}),t.jsx("button",{onClick:async()=>{try{await navigator.clipboard.writeText(tt),lt(!0),setTimeout(()=>lt(!1),2e3)}catch(e){window.prompt&&window.prompt("Copy this link",tt)}},className:"px-3 py-2 bg-purple-600 text-white rounded text-sm font-semibold hover:bg-purple-700 transition-colors",children:rt?"âœ“":r("Copy",F)})]})]}),t.jsx("button",{onClick:()=>et(!1),className:"w-full bg-gray-900 text-white px-6 py-3 rounded-lg font-semibold shadow-md",children:r("Done",F)})]})]}),t.jsx("div",{className:"mt-0 -mx-6 px-0 py-6",style:{backgroundColor:"var(--color-purple)",minHeight:"280px",borderLeft:"3px solid var(--color-purple)",borderRight:"3px solid var(--color-purple)",borderBottom:"3px solid var(--color-purple)",borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px"},children:t.jsx("div",{className:"overflow-x-auto hide-scrollbar snap-x snap-mandatory flex gap-4",style:{WebkitOverflowScrolling:"touch",paddingLeft:"20px",paddingRight:"20px",scrollPaddingLeft:"20px"},children:ct.map(e=>e.jsx)})}),"Requests"===c?t.jsx("div",{className:"mt-7",children:t.jsx(n,{onClaim:e=>{x("Claims"),e&&"object"==typeof e&&de(t=>t.some(t=>t.id===e.id)?t:[e,...t])},onData:Pe})}):"Claims"===c?t.jsxs("div",{className:"px-6 mt-7 pb-20",children:[t.jsx("h3",{className:"text-[18px] font-semibold text-gray-900 mb-4",children:r("Active Claims",F)}),(()=>{const e=(ne||[]).length,s=(ne||[]).reduce((e,t)=>e+(Number(t.funding)||0),0);return t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:[r("Active requests:",F)," ",t.jsx("span",{className:"font-semibold text-gray-900",children:e})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[r("Potential earnings:",F)," ",t.jsxs("span",{className:"font-semibold text-gray-900",children:["$",s.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2})]})]})]})})(),0===ne.length?t.jsxs("div",{className:"rounded-2xl bg-white border border-gray-100 shadow-sm p-8 flex flex-col items-center justify-center min-h-[260px]",children:[t.jsx("div",{className:"w-20 h-20 rounded-xl bg-[var(--color-gold-light-bg)] flex items-center justify-center mb-6 shadow-sm",children:t.jsx(V,{size:32,className:"text-[var(--color-gold)]"})}),t.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-2",children:r("No Active Claims",F)}),t.jsx("p",{className:"text-sm text-gray-600 text-center max-w-sm mb-6",children:r("Claim a request from the Requests tab to start working on it and track your progress here.",F)}),t.jsx("button",{onClick:()=>x("Requests"),className:"px-5 py-2 rounded-lg font-semibold text-white transition-all hover:opacity-90 shadow-md",style:{backgroundColor:"var(--color-gold)"},children:r("Browse Requests",F)})]}):t.jsx("div",{className:"space-y-6",children:ne.map((e,s)=>{const r=ne.length>2&&s>0,l=!1!==me[e.id]&&r;return t.jsxs("div",{children:[ne.length>2&&s>0&&t.jsxs("button",{onClick:()=>ue(t=>({...t,[e.id]:!l})),className:"text-sm text-[var(--color-gold)] font-semibold mb-2 flex items-center gap-2 hover:opacity-80",children:[l?"â–¶":"â–¼"," ",e.title]}),!l&&t.jsx(J,{title:e.title,requesterName:e.requesterName,requesterAvatar:e.requesterAvatar,currentStep:e.currentStep||1,requestId:e.id,requestData:e,onClose:()=>{},onUpdateProgress:(t,s)=>{((e,t,s)=>{const r=ne.find(e=>e.id===s);de(t=>t.map(t=>t.id===s?{...t,currentStep:e}:t)),e>=6&&r&&setTimeout(()=>{de(e=>e.filter(e=>e.id!==s));const t={id:r.id,title:r.title,description:r.description,funding:r.funding,requesterName:r.requesterName,requesterAvatar:r.requesterAvatar,format:r.format,completedAt:Date.now(),currentStep:e,originalClaim:r};be(e=>[t,...e]),M(r.id),b(!0)},2e3);try{Pe(t=>{const r=Array.isArray(t)?t.slice():[];if(!s)return r;const l=r.findIndex(e=>e&&e.id===s);if(-1!==l){const t={...r[l]||{},currentStep:e};return r.splice(l,1,t),r}return r})}catch(l){console.warn("Update claim stats error",l)}x("Claims"),console.log("Status updated to",e,"message:",t);try{const r=localStorage.getItem("regaarder_token"),l=s;if(r&&l){const s=window&&window.__BACKEND_URL__||"https://pwin.onrender.com";fetch(`${s}/requests/${l}/status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({step:e,message:t})}).then(e=>{e.ok&&setToastMessage("Status updated & requester notified")}).catch(e=>console.error("Status update failed",e))}}catch(l){console.error("Failed to update status on server",l)}try{const e="undefined"!=typeof localStorage&&localStorage.getItem("publishedItems");e&&be(JSON.parse(e))}catch(l){}})(t,s,e.id)},onUnclaim:e=>{de(t=>t.filter(t=>t.id!==e))},pendingReuploadItem:ce&&ce.targetClaimId===e.id?ce:null,clearPendingReupload:()=>xe(null),isProCreator:W},e.id||Math.random())]},e.id||Math.random())})})]}):"Published"===c?t.jsxs("div",{className:"px-6 mt-7",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h3",{className:"text-[18px] font-semibold text-gray-900",children:r("Published",F)}),t.jsx("button",{onClick:()=>{x("Upload")},className:"text-[var(--color-gold)] font-medium",children:r("Upload New",F)})]}),pe&&pe.length>0?t.jsx("div",{className:"space-y-4",children:pe.map(e=>t.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-[var(--color-gold-light-bg)] shadow-sm flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-20 h-12 rounded-md overflow-hidden bg-gray-100 flex items-center justify-center",children:e.thumbnail?t.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover"}):t.jsx(N,{size:20})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-gray-900",children:e.title}),t.jsxs("div",{className:"text-xs text-gray-500",children:[new Date(e.time||e.completedAt||Date.now()).toLocaleString()," ",e.changeNote?`â€¢ ${r("Updated:",F)} ${e.changeNote}`:""]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>(e=>{const t="reupload-"+Date.now(),s={id:t,title:e?.title||r("Untitled",F),requesterName:e?.requesterName||r("Requester",F),requesterAvatar:e?.requesterAvatar||null,currentStep:5,isReupload:!0,sourceTab:"Published"};de(e=>[s,...e]),xe({...e,targetClaimId:t,sourceTab:"Published",openInForm:!0,isReupload:!0}),x("Claims")})(e),className:"px-3 py-1 rounded-md border border-gray-200 text-sm text-gray-700",children:r("Re-upload",F)}),t.jsx("button",{onClick:()=>Ie(e),onMouseDown:()=>Oe(e.id),onTouchStart:()=>Oe(e.id),onMouseUp:$e,onMouseLeave:$e,onTouchEnd:$e,disabled:Me===e.id,className:"px-3 py-1 rounded-md text-sm transition-colors duration-150 "+(Me===e.id?"bg-red-100 text-red-400 border border-red-100 cursor-not-allowed":De===e.id?"bg-red-50 text-red-700 border border-red-200":"border border-red-200 text-red-600"),children:Me===e.id?r("Deleting...",F):(e.id,r("Delete",F))})]})]},e.id))}):t.jsxs("div",{className:"rounded-2xl bg-white border border-[var(--color-gold-light-bg)] shadow-sm p-8 flex flex-col items-center justify-center min-h-[160px]",children:[t.jsx("div",{className:"w-20 h-20 rounded-xl bg-[var(--color-gold-light-bg)] flex items-center justify-center mb-6 shadow-sm",children:t.jsx("div",{className:"w-12 h-12 rounded-lg bg-white flex items-center justify-center",children:t.jsx(N,{size:24,className:"text-[var(--color-gold)]"})})}),t.jsx("h3",{className:"text-[20px] font-semibold text-gray-900 mb-3",children:r("No Published Videos Yet",F)}),t.jsx("p",{className:"text-sm text-gray-500 text-center max-w-[320px]",children:r("Your published videos will appear here",F)})]}),Fe&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black opacity-60",onClick:()=>Ie(null)}),t.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-sm w-full mx-4 z-10 p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-[18px] font-semibold text-gray-900",children:r("Delete Published Video?",F)}),t.jsx("div",{className:"text-sm text-gray-500 mt-1",children:r("This action cannot be undone. Are you sure you want to delete this video?",F)})]}),t.jsx("button",{onClick:()=>Ie(null),className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]}),t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-16 h-10 rounded-md overflow-hidden bg-gray-100 flex items-center justify-center",children:Fe.thumbnail?t.jsx("img",{src:Fe.thumbnail,alt:Fe.title,className:"w-full h-full object-cover"}):t.jsx(N,{size:20})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold",children:Fe.title}),t.jsx("div",{className:"text-xs text-gray-500",children:new Date(Fe.time).toLocaleString()})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>{Be(Fe.id),Ie(null),Ae(null)},className:"flex-1 px-4 py-2 rounded-lg bg-red-600 text-white",children:r("Delete",F)}),t.jsx("button",{onClick:()=>{Ie(null),Ae(null)},className:"flex-1 px-4 py-2 rounded-lg border border-gray-200 bg-white",children:r("Cancel",F)})]})]})]}),Ee&&t.jsx(X,{message:Ee,bottom:!0})]}):"Upload"===c?t.jsx("div",{className:"px-6 mt-7",children:W?t.jsxs("div",{className:"rounded-2xl bg-white border border-[var(--color-gold-light-bg)] shadow-sm p-8 flex flex-col items-center justify-center min-h-[260px]",children:[t.jsx("div",{className:"w-20 h-20 rounded-xl bg-[var(--color-gold-light-bg)] flex items-center justify-center mb-6 shadow-sm",children:t.jsx("div",{className:"w-12 h-12 rounded-lg bg-[var(--color-gold-light-bg)] flex items-center justify-center",children:t.jsx(C,{size:24,className:"text-[var(--color-gold)]"})})}),t.jsx("h3",{className:"text-[20px] font-semibold text-gray-900 mb-3",children:r("Upload",F)}),t.jsx("p",{className:"text-sm text-gray-500 text-center max-w-[320px] mb-6",children:r("Upload videos independently without waiting for requests. Available exclusively for Premium creators.",F)}),t.jsx("div",{className:"flex flex-col gap-3 items-center",children:(()=>{try{const s=(pe||[]).length;return s<1?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:_e,className:"bg-[var(--color-gold)] text-white px-5 py-2 rounded-lg shadow-md font-semibold",children:r("Upload Video",F)}),t.jsx("button",{onClick:()=>x("Published"),className:"px-4 py-2 rounded-lg border border-[var(--color-gold-light-bg)] text-gray-700 bg-white",children:r("View Published",F)})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-center max-w-[320px] text-sm text-gray-700",children:r("You have reached the free upload limit. Subscribe to upload more videos.",F)}),t.jsxs("div",{className:"flex gap-3 mt-4",children:[t.jsx("button",{onClick:()=>{e("/sponsorship")},className:"px-4 py-2 rounded-lg bg-[var(--color-gold)] text-white",children:r("Subscribe",F)}),t.jsx("button",{onClick:()=>x("Published"),className:"px-4 py-2 rounded-lg border border-[var(--color-gold-light-bg)] bg-white",children:r("View Published",F)})]})]})}catch(s){return t.jsx("button",{onClick:_e,className:"bg-[var(--color-gold)] text-white px-5 py-2 rounded-lg shadow-md font-semibold",children:r("Upload Video",F)})}})()})]}):t.jsxs("div",{className:"rounded-2xl bg-white border border-gray-200 shadow-sm p-8 flex flex-col items-center justify-center min-h-[260px]",children:[t.jsx("div",{className:"w-20 h-20 rounded-xl bg-gray-100 flex items-center justify-center mb-6 shadow-sm",children:t.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center",children:t.jsx(l,{size:24,className:"text-gray-400"})})}),t.jsx("h3",{className:"text-[20px] font-semibold text-gray-900 mb-3",children:r("Pro Feature",F)}),t.jsx("p",{className:"text-sm text-gray-500 text-center max-w-[320px] mb-6",children:r("Upload videos independently without waiting for requests. This feature is exclusive to Pro Creators. Upgrade to unlock independent uploads.",F)}),t.jsxs("div",{className:"flex flex-col gap-3 items-center",children:[t.jsx("button",{onClick:()=>{e("/sponsorship")},className:"bg-[var(--color-gold)] text-white px-5 py-2 rounded-lg shadow-md font-semibold",children:r("Upgrade to Pro",F)}),t.jsx("button",{onClick:()=>x("Claims"),className:"px-4 py-2 rounded-lg border border-gray-200 text-gray-700 bg-white",children:r("Fulfill Requests Instead",F)})]})]})}):"Insights"===c?t.jsx("div",{className:"px-6 mt-7",children:t.jsxs("div",{className:"rounded-2xl bg-white border border-[var(--color-gold-light-bg)] shadow-sm p-8 flex flex-col items-center justify-center min-h-[260px]",children:[t.jsx("div",{className:"w-20 h-20 rounded-xl bg-[var(--color-gold-light-bg)] flex items-center justify-center mb-6 shadow-sm",children:t.jsx("div",{className:"w-12 h-12 rounded-lg bg-white flex items-center justify-center",children:t.jsx(S,{size:24,className:"text-[var(--color-gold)]"})})}),t.jsx("h3",{className:"text-[20px] font-semibold text-gray-900 mb-3",children:r("Insights Coming Soon",F)}),t.jsx("p",{className:"text-sm text-gray-500 text-center max-w-[340px] mb-6",children:r("Complete your first few requests to unlock personalized insights, tips, and recommendations to grow your creator business.",F)}),t.jsxs("button",{className:"flex items-center gap-3 bg-[var(--color-gold)] text-white px-6 py-3 rounded-lg shadow-md",children:[t.jsx(w,{className:"w-4 h-4"}),t.jsx("span",{className:"font-semibold",children:r("Complete Your Profile",F)})]})]})}):"Support"===c?t.jsx("div",{className:"px-6 mt-7",children:t.jsxs("div",{className:"rounded-2xl bg-white border border-[var(--color-gold-light-bg)] shadow-sm p-8 flex flex-col items-center justify-center min-h-[260px]",children:[t.jsx("div",{className:"w-20 h-20 rounded-xl bg-[var(--color-gold-light-bg)] flex items-center justify-center mb-6 shadow-sm",children:t.jsx("div",{className:"w-12 h-12 rounded-lg bg-white flex items-center justify-center",children:t.jsx(R,{size:24,className:"text-[var(--color-gold)]"})})}),t.jsx("h3",{className:"text-[20px] font-semibold text-gray-900 mb-3",children:r("We're Here to Help",F)}),t.jsx("p",{className:"text-sm text-gray-500 text-center max-w-[340px] mb-6",children:r("Get personalized support for everything from technical issues to creative guidance. Our creator success team is dedicated to your growth.",F)}),t.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-[360px]",children:[t.jsxs("div",{className:"flex items-center gap-3 bg-[var(--color-gold-light-bg)] border border-[var(--color-gold-light-bg)] rounded-lg px-4 py-3",children:[t.jsx(d,{size:16,className:"text-[var(--color-accent-text)]"}),t.jsxs("div",{className:"text-sm text-gray-700",children:[r("Avg response:",F)," ",t.jsx("span",{className:"font-semibold",children:r("2 hours",F)})]})]}),t.jsxs("div",{className:"flex items-center gap-3 bg-[var(--color-gold-light-bg)] border border-[var(--color-gold-light-bg)] rounded-lg px-4 py-3",children:[t.jsx(E,{size:16,className:"text-[var(--color-accent-text)]"}),t.jsx("div",{className:"text-sm text-gray-700",children:r("98% satisfaction rate",F)})]})]})]})}):"Templates"===c?t.jsx("div",{className:"px-6 mt-7",children:t.jsxs("div",{className:"rounded-2xl bg-white border border-[var(--color-gold-light-bg)] shadow-sm p-8 flex flex-col items-center justify-center min-h-[260px]",children:[t.jsx("div",{className:"w-20 h-20 rounded-xl bg-[var(--color-gold-light-bg)] flex items-center justify-center mb-6 shadow-sm",children:t.jsx("div",{className:"w-12 h-12 rounded-lg bg-white flex items-center justify-center",children:t.jsx(L,{size:24,className:"text-[var(--color-gold)]"})})}),t.jsx("h3",{className:"text-[20px] font-semibold text-gray-900 mb-1",children:r("Response Templates",F)}),t.jsx("div",{className:"text-sm text-gray-500 mb-4",children:r("Coming Soon",F)}),t.jsx("p",{className:"text-sm text-gray-500 text-center max-w-[340px]",children:r("Save and reuse templates for common responses, video scripts, and messages to streamline your workflow.",F)})]})}):"Analytics"===c?t.jsx("div",{className:"px-6 mt-7",children:t.jsxs("div",{className:"rounded-2xl bg-white border border-[var(--color-gold-light-bg)] shadow-sm p-6 min-h-[260px]",children:[t.jsxs("div",{className:"flex items-center justify-between mb-5",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-[18px] font-semibold text-gray-900",children:r("Analytics",F)}),t.jsx("p",{className:"text-[13px] text-gray-500 mt-1",children:r("Track performance metrics across your videos and requests",F)})]}),t.jsxs("button",{className:"flex items-center gap-2 px-3 py-1 rounded-lg bg-[var(--color-gold-light-bg)] border border-[var(--color-gold-light-bg)] text-gray-900 font-semibold text-[13px] shadow-sm h-9",children:[t.jsx(I,{size:16,className:"mr-1 text-[var(--color-accent-text)]"}),r("Export",F)]})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[t.jsxs("div",{className:"flex-1 rounded-lg bg-[var(--color-gold-light-bg)] border border-[var(--color-gold-light-bg)] p-5 flex flex-col items-start justify-center min-h-[160px]",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-md bg-[var(--color-gold-light-bg)] flex items-center justify-center",children:t.jsx(k,{size:20,className:"text-[var(--color-gold)]"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:r("Views & Watch Time",F)}),t.jsx("div",{className:"text-[13px] text-gray-400",children:r("No data available yet",F)})]})]}),t.jsx("div",{className:"text-[14px] text-gray-500",children:r("Accept and publish videos to start collecting analytics like views, watch time, and engagement.",F)})]}),t.jsxs("div",{className:"flex-1 rounded-lg bg-[var(--color-gold-light-bg)] border border-[var(--color-gold-light-bg)] p-5 flex flex-col items-start justify-center min-h-[160px]",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-md bg-[var(--color-gold-light-bg)] flex items-center justify-center",children:t.jsx(j,{size:20,className:"text-[var(--color-gold)]"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:r("Growth",F)}),t.jsx("div",{className:"text-[13px] text-gray-400",children:r("No growth data yet",F)})]})]}),t.jsx("div",{className:"text-[14px] text-gray-500",children:r("Complete requests and share videos to begin tracking follower and audience growth.",F)})]})]}),t.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[t.jsx("button",{onClick:()=>x("Requests"),className:"bg-[var(--color-gold)] text-white px-5 py-2 rounded-lg shadow-md font-semibold",children:r("View Requests",F)}),t.jsx("button",{onClick:()=>x("Upload"),className:"px-4 py-2 rounded-lg border border-[var(--color-gold-light-bg)] text-gray-700 bg-white",children:r("Upload Video",F)})]})]})}):t.jsxs(o.Fragment,{children:[t.jsx("div",{className:"px-6 mt-7",children:t.jsxs("div",{className:"rounded-2xl bg-white border border-[var(--color-gold-light-bg)] shadow-sm p-8 flex flex-col items-center justify-center min-h-[220px]",children:[t.jsxs("div",{className:"flex justify-between w-full mb-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[18px] font-semibold text-gray-900",children:r("Performance Metrics",F)}),t.jsx("div",{className:"text-[14px] text-gray-400 font-normal",children:r("Track your success over time",F)})]}),t.jsxs("button",{className:"flex items-center gap-2 px-3 py-1 rounded-lg bg-[var(--color-gold-light-bg)] border border-[var(--color-gold-light-bg)] text-gray-900 font-semibold text-[15px] shadow-sm h-10",children:[t.jsx(I,{size:20,className:"mr-1 text-[var(--color-accent-text)]"}),r("Export",F)]})]}),t.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[t.jsx("div",{className:"w-16 h-16 rounded-xl bg-gray-50 flex items-center justify-center mb-4",children:t.jsx(I,{size:40,className:"text-[var(--color-accent-text)]"})}),t.jsx("div",{className:"text-[16px] text-gray-500 font-medium mb-1",children:r("No data to display yet",F)}),t.jsx("div",{className:"text-[14px] text-gray-400 font-normal text-center",children:r("Start accepting and completing requests to see your performance metrics",F)})]})]})}),t.jsx("div",{className:"px-6 mt-7",children:t.jsxs("div",{className:"rounded-2xl bg-white border border-[var(--color-gold-light-bg)] shadow-sm p-8 flex flex-col items-center justify-center min-h-[220px]",children:[t.jsx("div",{className:"text-[18px] font-semibold text-gray-900 mb-6 self-start",children:r("Recent Activity",F)}),t.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[t.jsx("div",{className:"w-16 h-16 rounded-xl bg-gray-50 flex items-center justify-center mb-4",children:t.jsx(d,{size:40,className:"text-[var(--color-accent-text)]"})}),t.jsx("div",{className:"text-[16px] text-gray-500 font-medium mb-1",children:r("No active requests in progress",F)}),t.jsx("div",{className:"text-[14px] text-gray-400 font-normal",children:r("Accept requests from the marketplace to see activity here",F)})]})]})}),t.jsx("div",{className:"px-6 mt-7",children:t.jsxs("div",{className:"rounded-2xl bg-white border border-[var(--color-gold-light-bg)] shadow-sm p-8 flex flex-col items-center justify-center min-h-[220px]",children:[t.jsx("div",{className:"text-[18px] font-semibold text-gray-900 mb-6 self-start",children:r("Earnings Overview",F)}),t.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[t.jsx("div",{className:"w-16 h-16 rounded-xl bg-gray-50 flex items-center justify-center mb-4",children:t.jsx("span",{className:"text-[32px] text-[var(--color-accent-text)] font-bold",children:"$"})}),t.jsx("div",{className:"text-[16px] text-gray-500 font-medium mb-1",children:r("No earnings yet",F)}),t.jsx("div",{className:"text-[14px] text-gray-400 font-normal text-center",children:r("Complete your first video request to start earning",F)})]})]})})]}),t.jsx($,{isOpen:h,onClose:()=>b(!1),onSubmit:e=>{try{console.log("Creator Feedback:",e);const t=`feedback_creator_${U||"general"}`;localStorage.setItem(t,JSON.stringify(e))}catch(t){console.error(t)}},title:r("How was the publishing process?",F),questions:[{id:"understood",type:"likert",label:r("Did you easily understand the process?",F)},{id:"length",type:"likert",label:r("Was the process fast enough?",F)},{id:"friction",type:"text",label:r("Did you face any friction? (Optional)",F),placeholder:"Describe any issues..."},{id:"satisfaction",type:"likert",label:r("Overall Satisfaction",F)},{id:"suggestions",type:"text",label:r("Suggestions for improvement",F)}]}),t.jsx(p,{selectedLanguage:F})]})};export{H as default};
