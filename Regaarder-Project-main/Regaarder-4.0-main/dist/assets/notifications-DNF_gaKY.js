import{c as e,t,j as a,g as s}from"./index-Cuabw2cT.js";import{e as r,d as n,u as l}from"./vendor-Cml8jNaD.js";import{r as i}from"./media-DUtXZMv0.js";import{C as o}from"./chevron-left-CtbPJiGe.js";import{F as c}from"./filter-LdEAWXjP.js";import{X as d}from"./x-MfhS-cbK.js";import{L as m}from"./lightbulb-vMj2a7hA.js";import{B as u}from"./bell-gplE75gX.js";import{C as h}from"./check-circle-C0joXWRi.js";import{R as x}from"./rocket-DXJwvwB-.js";import{T as p}from"./trophy-DJqpG_-4.js";import{T as f,S as g}from"./trash-2-izx1jc62.js";import"./config-DzyQUiLS.js";const y=e("Archive",[["rect",{width:"20",height:"5",x:"2",y:"4",rx:"2",key:"uhwcea"}],["path",{d:"M4 9v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9",key:"shkvi4"}],["path",{d:"M10 13h4",key:"ytezjc"}]]),b=e("CornerUpRight",[["polyline",{points:"15 14 20 9 15 4",key:"1tbx3s"}],["path",{d:"M4 20v-7a4 4 0 0 1 4-4h12",key:"1lu4f8"}]]),w=e=>{try{if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const a=Date.now()-t.getTime(),s=Math.floor(a/1e3);if(s<60)return"Just now";const r=Math.floor(s/60);if(r<60)return`${r}m ago`;const n=Math.floor(r/60);if(n<24)return`${n}h ago`;const l=Math.floor(n/24);return l<7?`${l}d ago`:t.toLocaleDateString()}catch(t){return""}},v=({currentStep:e,steps:t})=>a.jsx("div",{className:"mt-3 mb-2 px-1",children:a.jsx("div",{className:"relative flex flex-col space-y-0",children:t.map((s,r)=>{const n=r+1,l=n===e,i=n<e,o=r===t.length-1;return a.jsxs("div",{className:"flex relative pb-6 last:pb-0",children:[!o&&a.jsx("div",{className:"absolute left-[11px] top-6 w-[2px] h-full transition-colors duration-300 "+(i?"bg-green-500":"bg-gray-200"),style:{zIndex:0}}),a.jsx("div",{className:`relative z-10 flex items-center justify-center w-6 h-6 rounded-full text-[10px] font-bold border-2 transition-all duration-300 flex-shrink-0\n                                ${l?"border-[var(--color-gold)] bg-[var(--color-gold)] text-white shadow-[0_0_0_3px_rgba(234,179,8,0.2)]":""}\n                                ${i?"border-green-500 bg-green-500 text-white":""}\n                                ${l||i?"":"border-gray-200 bg-gray-50 text-gray-400"}\n                                `,children:i?"âœ“":n}),a.jsx("div",{className:"ml-3 text-xs font-medium pt-1 "+(l||i?"text-gray-900":"text-gray-400"),children:s})]},s)})})}),j=({thread:e,onReply:t,onDelete:n,onDismiss:l,currentUserId:o,selectedLanguage:c})=>{const m=e.items[e.items.length-1],h=e.items||[e],x=h.some(e=>"status_update"===e.type),p="staff_action"===e.type;let j=1;for(let a=h.length-1;a>=0;a--)if("status_update"===h[a].type&&h[a].metadata&&h[a].metadata.step){j=parseInt(h[a].metadata.step,10);break}const[N,k]=r.useState(!1),[S,C]=r.useState(""),[_,D]=r.useState(0),T=r.useRef(0),R=r.useRef(!1);let A=s("New Notification",c),E=u,I=null,U=null;const B=e.from&&e.from.id!==o?e.from:e.to&&e.to.id!==o?e.to:{name:"Unknown"},[$,z]=r.useState(i(B.avatar)||null);r.useEffect(()=>{if(!$&&B&&B.id){(async()=>{try{const e=localStorage.getItem("regaarder_token");if(!e)return;const t=window&&window.__BACKEND_URL__||"https://pwin.onrender.com",a=await fetch(`${t}/user/${B.id}`,{headers:{Authorization:`Bearer ${e}`}});if(a.ok){const e=await a.json();e.user&&e.user.profilePicture&&z(i(e.user.profilePicture))}}catch(e){}})()}},[B.id,$]),p?(A=e.title||"Moderation Notice",I=a.jsxs("div",{className:"w-10 h-10 rounded-full flex-shrink-0 flex items-center justify-center text-lg",style:{backgroundColor:"warn"===e.action?"#fef3c7":"ban"===e.action?"#fecaca":"shadowban"===e.action?"#d1d5db":"delete"===e.action?"#ddd6fe":"#f0fdf4"},children:["warn"===e.action&&"âš ï¸","ban"===e.action&&"ðŸš«","shadowban"===e.action&&"ðŸ‘ï¸","delete"===e.action&&"ðŸ—‘ï¸"]}),U=null):x?(A=s("Status Update from Creator",c),5===j&&(A=s("Request Fulfilled!",c)),I=a.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 overflow-hidden flex-shrink-0",children:$?a.jsx("img",{src:$,alt:B.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-indigo-100 text-indigo-600 font-bold text-sm",children:B.name&&B.name[0]||"C"})}),U=s("Reply",c)):(A=s("New Message",c),I=a.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 overflow-hidden flex-shrink-0",children:$?a.jsx("img",{src:$,alt:B.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-indigo-100 text-indigo-600 font-bold text-sm",children:B.name&&B.name[0]||"C"})}),U=s("Reply",c));const F=()=>{if(S.trim()){if(t){const e={...m,from:{id:B.id}};t(e,S)}C("")}};return a.jsxs("div",{className:"relative mb-3 select-none overflow-hidden rounded-2xl",children:[a.jsxs("div",{className:"absolute inset-0 flex justify-between items-center rounded-2xl",children:[!p&&a.jsxs("div",{className:"flex items-center justify-start pl-6 w-full h-full bg-blue-500 rounded-2xl transition-opacity duration-200 "+(_>0?"opacity-100":"opacity-0"),children:[a.jsx(y,{className:"w-6 h-6 text-white"}),a.jsx("span",{className:"text-white font-medium ml-2",children:"Dismiss"})]}),a.jsxs("div",{className:"absolute inset-0 flex items-center justify-end pr-6 w-full h-full bg-red-500 rounded-2xl transition-opacity duration-200 "+(_<0?"opacity-100":"opacity-0"),children:[a.jsx("span",{className:"text-white font-medium mr-2",children:"Delete"}),a.jsx(f,{className:"w-6 h-6 text-white"})]})]}),a.jsxs("div",{className:"relative p-4 bg-white rounded-2xl border border-gray-100 shadow-sm flex flex-col space-y-3 transition-transform duration-200 ease-out",style:{transform:`translateX(${_}px)`,cursor:p&&e.ctaUrl?"pointer":"default"},onTouchStart:e=>{T.current=e.touches[0].clientX,R.current=!0},onTouchMove:e=>{if(!R.current)return;const t=e.touches[0].clientX-T.current;D(t<-150?-150:t>150?150:t)},onTouchEnd:()=>{R.current=!1,_<-100?(n&&n(e),D(0)):!p&&_>100?(!e.ctaUrl&&l&&l(e),D(0)):D(0)},onClick:()=>{if(p&&e.ctaUrl){const t=e.ctaUrl.startsWith("http")?e.ctaUrl:`https://${e.ctaUrl}`;window.open(t,"_blank","noopener,noreferrer")}},children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[I||a.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0",children:a.jsx(E,{className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 leading-tight mb-0.5",children:A}),p?a.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Moderation Team"}):a.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:B.name})]}),a.jsx("button",{onClick:t=>{t.stopPropagation(),n&&n(e)},className:"p-1 text-gray-400 hover:text-red-500 transition-colors flex-shrink-0",title:"Delete notification",children:a.jsx(d,{className:"w-4 h-4"})})]}),p?a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-700 mt-2 leading-relaxed whitespace-pre-wrap",children:e.message}),e.ctaUrl&&a.jsxs("div",{children:[a.jsx("div",{style:{display:"inline-block",marginTop:"12px",padding:"10px 16px",backgroundColor:e.ctaColor||"#3b82f6",color:"white",border:"none",borderRadius:"6px",textAlign:"center",textDecoration:"none",fontSize:"13px",fontWeight:"600",transition:"all 0.2s",position:"relative",zIndex:50,cursor:"pointer",pointerEvents:"auto"},children:e.ctaText||"Learn More"}),a.jsx("p",{style:{margin:"8px 0 0",fontSize:"10px",color:"#9ca3af"},children:"Tap anywhere to open link"})]})]}):a.jsxs("div",{className:"space-y-2 mt-1 max-h-60 overflow-y-auto",children:[x&&a.jsx("div",{className:"mb-4 bg-gray-50 rounded-xl p-3 border border-gray-100",children:a.jsx(v,{currentStep:j,steps:["Request Received","Under Review","In Production","Preview Ready","Published","Completed"]})}),h.map((e,t)=>{const s=e.from&&e.from.id===o;return a.jsx("div",{className:"flex "+(s?"justify-end":"justify-start"),children:a.jsx("div",{className:"text-sm leading-snug px-3 py-2 rounded-lg max-w-[90%] "+(s?"bg-indigo-50 text-indigo-900 rounded-br-none":"bg-gray-50 text-gray-800 rounded-bl-none"),children:e.text})},t)})]}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsx("span",{className:"text-xs text-gray-400",children:w(m.createdAt||e.createdAt)}),U&&!N&&a.jsxs("button",{onClick:e=>{e.stopPropagation(),k(!0)},className:"text-xs font-medium hover:opacity-80 flex items-center px-2 py-1 rounded-md transition-colors hover:bg-gray-50",style:{color:"var(--color-gold)"},children:[U," ",a.jsx(b,{className:"w-3.5 h-3.5 ml-1"})]})]})]})]}),N&&a.jsx("div",{className:"mt-2 pl-12 pr-1 w-full animate-fadeIn",onTouchStart:e=>e.stopPropagation(),onTouchMove:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),children:a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 p-2 rounded-lg border border-gray-200",children:[a.jsx("input",{type:"text",value:S,onChange:e=>C(e.target.value),placeholder:"Type your reply...",className:"flex-1 bg-transparent border-none outline-none text-sm text-gray-800 placeholder-gray-400 min-w-0",autoFocus:!0,onKeyDown:e=>{"Enter"===e.key&&F()}}),a.jsx("button",{onClick:F,disabled:!S.trim(),className:"p-1.5 rounded-full transition-colors "+(S.trim()?"bg-[var(--color-gold)] text-white":"bg-gray-200 text-gray-400"),children:a.jsx(g,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:()=>k(!1),className:"p-1 text-gray-400 hover:text-gray-600",children:a.jsx(d,{className:"w-4 h-4"})})]})})]})]})},N=({icon:e,title:t,description:s,iconColor:r,iconBg:n})=>a.jsxs("div",{className:"flex items-center p-4 bg-white rounded-xl shadow-sm transition duration-200 border border-gray-200 cursor-pointer hover:shadow-md",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 mr-4 rounded-full",style:{backgroundColor:n},children:a.jsx(e,{className:"w-5 h-5",style:{color:r},strokeWidth:1.5})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-base font-semibold text-gray-800",children:t}),a.jsx("p",{className:"text-sm text-gray-500",children:s})]})]}),k=({onClose:e})=>{const i="undefined"!=typeof window&&window.localStorage.getItem("regaarder_language")||"English";r.useEffect(()=>{try{if("undefined"==typeof window)return;const e=window.localStorage.getItem("regaarder_language")||"English",a=t&&t[e]?t[e]:{};if(!a||0===Object.keys(a).length)return;const s=document.querySelector(".min-h-screen")||document.body;if(!s)return;const r=document.createTreeWalker(s,NodeFilter.SHOW_TEXT,null,!1),n=Object.keys(a).sort((e,t)=>t.length-e.length);let l;for(;l=r.nextNode();){const e=l.nodeValue;if(!e||!e.trim())continue;let t=e;for(let s=0;s<n.length;s++){const e=n[s],r=a[e];e&&"string"==typeof r&&(-1!==t.indexOf(e)&&(t=t.split(e).join(r)))}t!==e&&(l.nodeValue=t)}}catch(e){}},[]);const f=n(),g=l(),[y,b]=r.useState(!0),[w,v]=r.useState(!1),[k,S]=r.useState([]),[C,_]=r.useState(null),[D,T]=r.useState(!1),[R,A]=r.useState({dateRange:"all",category:"all",importance:"all",sortBy:"newest"}),[E,I]=r.useState([]),U=async()=>{try{const e=localStorage.getItem("regaarder_token");if(!e)return;const t=await fetch(`${window&&window.__BACKEND_URL__||"https://pwin.onrender.com"}/notifications`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();let a=e&&e.notifications||[];const s=F.current;s&&s.size&&(a=a.filter(e=>!s.has(String(e.id))));const r=e.userId;_(r);const n={};a.sort((e,t)=>new Date(e.createdAt)-new Date(t.createdAt)),a.forEach(e=>{let t=e.requestId?`req-${e.requestId}`:null;if(!t){const a=e.from&&e.from.id===r?e.to&&e.to.id:e.from&&e.from.id;t=a?`user-${a}`:"misc"}n[t]||(n[t]={id:t,items:[],lastTime:e.createdAt,...e}),n[t].items.push(e),n[t].lastTime=e.createdAt,e.from&&e.from.id!==r&&(n[t].from=e.from)});const l=Object.values(n).sort((e,t)=>new Date(t.lastTime)-new Date(e.lastTime));S(l),v(l.length>0)}}catch(e){}finally{b(!1)}};r.useEffect(()=>{U();const e=setInterval(U,5e3);return()=>clearInterval(e)},[]),r.useEffect(()=>{let e=[...k];if("all"!==R.dateRange){let t=new Date;"today"===R.dateRange?t.setHours(0,0,0,0):"week"===R.dateRange?t.setDate(t.getDate()-7):"month"===R.dateRange&&t.setDate(t.getDate()-30),e=e.filter(e=>new Date(e.lastTime)>=t)}"all"!==R.category&&(e=e.filter(e=>"status_update"===R.category?e.items&&e.items.some(e=>"status_update"===e.type):"staff_action"===R.category?"staff_action"===e.type:"message"!==R.category||(!e.type||"staff_action"!==e.type))),"all"!==R.importance&&(e=e.filter(e=>"high"===R.importance?"staff_action"===e.type||e.items&&e.items.some(e=>"status_update"===e.type):"medium"===R.importance||("low"!==R.importance||e.items&&!e.items.some(e=>"status_update"===e.type)&&"staff_action"!==e.type))),e="oldest"===R.sortBy?e.sort((e,t)=>new Date(e.lastTime)-new Date(t.lastTime)):e.sort((e,t)=>new Date(t.lastTime)-new Date(e.lastTime)),I(e)},[k,R]);const[B,$]=r.useState(null),z=r.useRef(null),F=r.useRef(new Set),M=e=>{S(t=>t.filter(t=>t.id!==e.id))},P=e=>{S(t=>t.filter(t=>t.id!==e.id));const t=e.items||[e];t.forEach(e=>{e&&null!=e.id&&F.current.add(String(e.id))}),z.current&&clearTimeout(z.current),$({message:"Conversation deleted",onUndo:()=>{t.forEach(e=>{e&&null!=e.id&&F.current.delete(String(e.id))}),S(t=>[...t,e].sort((e,t)=>new Date(t.lastTime)-new Date(e.lastTime))),$(null),z.current&&clearTimeout(z.current)}}),z.current=setTimeout(async()=>{const a=localStorage.getItem("regaarder_token");if(!a)return;const s=window&&window.__BACKEND_URL__||"https://pwin.onrender.com",r=await Promise.all((t||[]).map(e=>e&&null!=e.id?fetch(`${s}/notifications/${e.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}}).then(e=>e.ok).catch(()=>!1):Promise.resolve(!1))),n=!r.length||r.every(Boolean);t.forEach(e=>{e&&null!=e.id&&F.current.delete(String(e.id))}),n?U():S(t=>{if(t.some(t=>t.id===e.id))return t;return[...t,e].sort((e,t)=>new Date(t.lastTime)-new Date(e.lastTime))}),$(null)},4e3)},L=async(e,t)=>{const a=localStorage.getItem("regaarder_token");if(a)try{const s=window&&window.__BACKEND_URL__||"https://pwin.onrender.com";await fetch(`${s}/suggestion`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({text:t,targetCreatorId:e.from?e.from.id:null,requestId:e.requestId,type:"reply",parentId:e.id})}),U()}catch(s){console.error("Failed to send reply",s)}};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:"\n          /* Keyframes for the expanding ripple rings */\n          @keyframes ripple-expand {\n            0% {\n              transform: scale(0.5); /* Start small */\n              opacity: 0.7; /* Start quite visible */\n            }\n            100% {\n              transform: scale(3.5); /* Expand fully */\n              opacity: 0; /* Fully disappeared */\n            }\n          }\n\n          /* Keyframes for the bell icon's subtle pulse */\n          @keyframes bell-pulse {\n            0% { \n                opacity: 1; /* Fully visible */\n                filter: brightness(1) saturate(1); /* Normal */\n            }\n            50% { \n                opacity: 0.8; /* Slightly dimmed */\n                filter: brightness(0.9) saturate(0.8); /* Less bright, less saturated */\n            }\n            100% { \n                opacity: 1; /* Back to fully visible */\n                filter: brightness(1) saturate(1); /* Normal */\n            }\n          }\n\n          .inner-bell-container {\n            position: relative; \n            width: 48px; /* mobile-first size */\n            height: 48px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            border-radius: 50%;\n            background-color: var(--color-gold-light, rgba(202,138,4,0.3));\n          }\n\n          .inner-bell-container .bell-icon {\n            z-index: 10;\n            position: relative;\n            animation: bell-pulse 2.5s ease-in-out infinite; /* Apply bell-specific pulse */\n            transition: opacity 0.5s, filter 0.5s; /* Smooth transitions for bell changes */\n          }\n\n          .inner-bell-container::before,\n          .inner-bell-container::after {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            border-radius: 50%;\n            /* Ripple appearance color (uses accent variable when available) */\n            background-color: var(--color-gold-light, rgba(202,138,4,0.4)); \n            opacity: 0; /* Start hidden */\n            z-index: 0; /* Place behind the bell element */\n            transform: scale(0.5); /* Start small, consistent with ripple-expand */\n          }\n\n          /* Larger bell on wider screens */\n          @media (min-width: 640px) {\n            .inner-bell-container { width: 64px; height: 64px; }\n            .inner-bell-container .bell-icon { width: 28px; height: 28px; }\n          }\n\n          /* Middle Ring (::before) */\n          .inner-bell-container::before {\n            animation: ripple-expand 2.5s ease-out infinite;\n          }\n\n          /* Outer Ring (::after) - Stagger the start time for the second ripple */\n          .inner-bell-container::after {\n            animation: ripple-expand 2.5s ease-out infinite;\n            animation-delay: 1.25s; /* Start this ring halfway through the first's cycle */\n          }\n\n          /* Press/tap animation for small icon buttons (back/X) */\n          .icon-press {\n            transition: transform 160ms cubic-bezier(.2,.8,.2,1), opacity 120ms;\n            will-change: transform, opacity;\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n          }\n          .icon-press:active {\n            transform: scale(0.92);\n            opacity: 0.95;\n          }\n          .icon-press svg {\n            transition: transform 160ms cubic-bezier(.2,.8,.2,1);\n          }\n          .icon-press:active svg {\n            transform: translateY(1px) scale(0.92);\n          }\n\n          /* Custom radio button styling with accent color */\n          input[type=\"radio\"] {\n            accent-color: var(--color-gold, #ca8a04);\n            cursor: pointer;\n          }\n          .icon-press svg {\n            transition: transform 160ms cubic-bezier(.2,.8,.2,1);\n          }\n          .icon-press:active svg {\n            transform: translateY(1px) scale(0.92);\n          }\n        "}),a.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center p-0 font-sans",children:a.jsxs("div",{className:"w-full sm:max-w-sm bg-white shadow-2xl flex flex-col sm:rounded-2xl overflow-hidden",children:[a.jsxs("header",{className:"p-4 pl-12 border-b border-gray-100 flex items-center justify-start relative",style:{paddingTop:"calc(16px + env(safe-area-inset-top, 0px))"},children:[a.jsx(o,{onClick:()=>{if("function"!=typeof e){try{const e=new URLSearchParams(g.search||"").get("from");if(e)return void f(e.startsWith("/")?e:`/${e}`,{replace:!0})}catch(t){}try{if("undefined"!=typeof window&&"function"==typeof window.__setAppPage)return void window.__setAppPage("home")}catch(t){}f("/home",{replace:!0})}else e()},className:"w-6 h-6 cursor-pointer transition hover:text-gray-900 absolute left-4",style:{color:"var(--color-gold, #ca8a04)"}}),a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:s("Notifications",i)}),a.jsx("button",{onClick:()=>T(!D),className:"absolute right-4 w-9 h-9 rounded-full flex items-center justify-center bg-white border border-gray-100 shadow-sm hover:shadow-md transition",children:a.jsx(c,{className:"w-5 h-5",style:{color:"rgb(107 114 128)"}})})]}),D&&a.jsx("div",{className:"fixed inset-0 z-30 flex items-start justify-center pt-20 px-4",onClick:()=>T(!1),children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-lg border border-gray-100 max-h-[45vh] flex flex-col",onClick:e=>e.stopPropagation(),children:[a.jsx("header",{className:"p-6 border-b flex-shrink-0",children:a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>T(!1),"aria-label":"Close filters",className:"absolute right-0 top-0 -mr-2 -mt-2 w-8 h-8 flex items-center justify-center rounded-full text-gray-500 hover:text-gray-700",children:a.jsx(d,{className:"w-4 h-4"})}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:s("Filter Notifications",i)}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s("Customize what you see",i)})]})}),a.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:s("Date Range",i)}),a.jsx("div",{className:"space-y-2",children:[{value:"all",label:s("All Time",i)},{value:"today",label:s("Today",i)},{value:"week",label:s("Last 7 Days",i)},{value:"month",label:s("Last 30 Days",i)}].map(e=>a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"dateRange",value:e.value,checked:R.dateRange===e.value,onChange:e=>A({...R,dateRange:e.target.value}),className:"w-4 h-4 cursor-pointer"}),a.jsx("span",{className:"text-gray-700",children:e.label})]},e.value))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:s("Category",i)}),a.jsx("div",{className:"space-y-2",children:[{value:"all",label:s("All Categories",i)},{value:"status_update",label:s("Status Updates",i)},{value:"staff_action",label:s("Moderation Notices",i)},{value:"message",label:s("Messages",i)}].map(e=>a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"category",value:e.value,checked:R.category===e.value,onChange:e=>A({...R,category:e.target.value}),className:"w-4 h-4 cursor-pointer"}),a.jsx("span",{className:"text-gray-700",children:e.label})]},e.value))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:s("Importance",i)}),a.jsx("div",{className:"space-y-2",children:[{value:"all",label:s("All Importance Levels",i)},{value:"high",label:s("High (Status & Moderation)",i)},{value:"medium",label:s("Medium (All Notifications)",i)},{value:"low",label:s("Low (Messages Only)",i)}].map(e=>a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"importance",value:e.value,checked:R.importance===e.value,onChange:e=>A({...R,importance:e.target.value}),className:"w-4 h-4 cursor-pointer"}),a.jsx("span",{className:"text-gray-700",children:e.label})]},e.value))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:s("Sort By",i)}),a.jsx("div",{className:"space-y-2",children:[{value:"newest",label:s("Newest First",i)},{value:"oldest",label:s("Oldest First",i)}].map(e=>a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"sortBy",value:e.value,checked:R.sortBy===e.value,onChange:e=>A({...R,sortBy:e.target.value}),className:"w-4 h-4 cursor-pointer"}),a.jsx("span",{className:"text-gray-700",children:e.label})]},e.value))})]})]}),a.jsx("footer",{className:"p-6 border-t flex-shrink-0 bg-white",children:a.jsx("button",{onClick:()=>A({dateRange:"all",category:"all",importance:"all",sortBy:"newest"}),className:"w-full py-2 px-4 rounded-lg font-medium text-white transition hover:shadow-md",style:{backgroundColor:"var(--color-gold, #ca8a04)"},children:s("Reset All Filters",i)})})]})}),a.jsxs("main",{className:"p-6 flex-grow overflow-y-auto",children:[y?a.jsxs("div",{className:"pb-20",children:[a.jsx("div",{className:"w-full px-4 py-3 mb-4 bg-gray-200 rounded-xl animate-pulse",style:{height:"50px"}}),[...Array(3)].map((e,t)=>a.jsx("div",{className:"mb-4 p-4 bg-white rounded-xl shadow-sm border border-gray-200 animate-pulse",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex-shrink-0"}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})]})},t))]}):w?a.jsxs("div",{className:"pb-20",children:[a.jsxs("div",{className:"w-full px-4 py-3 mb-4 bg-[#F5F5DC] text-gray-700 rounded-xl flex items-start space-x-2",style:{borderColor:"var(--color-gold-light)",borderStyle:"solid",boxShadow:"0 6px 16px rgba(var(--color-gold-rgb,203,138,0),0.06)"},children:[a.jsx(m,{className:"w-4 h-4 mt-0.5 text-[var(--color-gold)] flex-shrink-0"}),a.jsx("p",{className:"text-xs leading-relaxed font-medium",children:s("Swipe left to delete â€¢ Swipe right to dismiss temporarily",i)})]}),E.length>0?E.map(e=>a.jsx(j,{thread:e,onReply:L,onDelete:P,onDismiss:M,currentUserId:C,selectedLanguage:i},e.id)):a.jsxs("div",{className:"text-center pt-12 pb-8",children:[a.jsx("p",{className:"text-gray-500",children:s("No notifications match your filters",i)}),a.jsx("button",{onClick:()=>A({dateRange:"all",category:"all",importance:"all"}),className:"mt-4 text-sm text-blue-600 hover:underline",children:s("Reset filters",i)})]})]}):a.jsxs("div",{className:"text-center pt-8 pb-12",children:[a.jsx("div",{className:"inner-bell-container mx-auto mb-20",children:a.jsx(u,{className:"w-8 h-8 bell-icon",strokeWidth:1.5,style:{color:"var(--color-gold, #ca8a04)"}})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:s("All caught up!",i)}),a.jsx("p",{className:"text-gray-500 text-sm max-w-xs mx-auto leading-relaxed",children:s("You don't have any notifications right now. We'll let you know when something important happens.",i)})]}),!y&&!w&&a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsx(N,{icon:h,title:s("Request Updates",i),description:s("Get notified when creators start or complete your requests",i),iconColor:"#16A34A",iconBg:"#ECFDF5"}),a.jsx(N,{icon:x,title:s("Viral Rewards",i),description:s("Earn money when your requests go viral",i),iconColor:"#F97316",iconBg:"#FFF7ED"}),a.jsx(N,{icon:p,title:s("Milestones & Achievements",i),description:s("Celebrate your progress and unlock rewards",i),iconColor:"var(--color-gold, #ca8a04)",iconBg:"var(--color-gold-light-bg, rgba(202,138,4,0.08))"})]})]}),B&&a.jsx("div",{className:"fixed bottom-20 left-0 right-0 flex justify-center z-50 pointer-events-none",children:a.jsxs("div",{className:"bg-gray-900 text-white p-3 mx-4 rounded-xl shadow-2xl flex items-center justify-between space-x-4 transition-all duration-300 max-w-sm w-full pointer-events-auto",children:[a.jsx("span",{className:"text-sm font-medium",children:B.message}),a.jsx("button",{onClick:B.onUndo,className:"text-sm font-bold text-[var(--color-gold)] hover:underline",children:"UNDO"})]})})]})})]})};export{k as default};
