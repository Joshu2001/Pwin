const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/creatordashboard-B0ucYjUG.js","assets/index-Dffz9O_H.js","assets/vendor-Cml8jNaD.js","assets/index-CLKSAEKd.css","assets/requests-CB6kn89u.js","assets/config-BQFUInJh.js","assets/media-CRtsjh58.js","assets/BoostsModal-PsakSbO-.js","assets/x-BtVIjD1R.js","assets/alert-triangle-C6n8C-dl.js","assets/trending-up-DyyEJKTd.js","assets/SharedBottomBar-ftLq5vqx.js","assets/home-Dd5N3dNo.js","assets/pencil-Dwd5jUWx.js","assets/search-BlChXm75.js","assets/check-circle-2-N6Mb3lE-.js","assets/calendar-DprmkQut.js","assets/chevron-down-DUtZ1Sn5.js","assets/sparkles-F1FsclXw.js","assets/clock-CO7zGInQ.js","assets/dollar-sign-Dt55NhB_.js","assets/heart-DAgKoHaU.js","assets/message-square-CNovjS0u.js","assets/megaphone-BUgp1_ja.js","assets/crown-FyEv4QQm.js","assets/pin-DtEqoQXO.js","assets/chevron-up-DLy_zouo.js","assets/bookmark-DxL_Xr1W.js","assets/lightbulb-Cgck_kRT.js","assets/trash-2-MuMVlyUY.js","assets/heart-off-Ccs-Hx7y.js","assets/share-2--6cONZ4L.js","assets/user-ruYZ-ydt.js","assets/link-DNNFqHIG.js","assets/image-BLevh6lw.js","assets/star-D_JFJQT4.js","assets/trophy-B6kugKtl.js","assets/zap-BLM4gJvx.js","assets/video-BU_QG1We.js","assets/line-chart-CmtNiXrl.js","assets/upload-C8y0fIyr.js","assets/headphones-CjoGntqr.js","assets/copy-CSgcHdWo.js","assets/alert-circle-BhRc8O2u.js","assets/check-circle-CWdZhztr.js","assets/more-vertical-B884SZ_i.js","assets/link-2-DlWvA-Wb.js","assets/globe-ubWQGsoq.js","assets/file-Dz96Gsvl.js"])))=>i.map(i=>d[i]);
import{c as e,_ as t,j as a,g as s,M as r,d as o,C as i,f as l,S as n,E as c,h as d}from"./index-Dffz9O_H.js";import{b as m,d as x}from"./vendor-Cml8jNaD.js";import{W as u}from"./config-BQFUInJh.js";import{S as h}from"./SharedBottomBar-ftLq5vqx.js";import{F as g,P as p,M as f}from"./pencil-Dwd5jUWx.js";import{D as b}from"./dollar-sign-Dt55NhB_.js";import{C as y}from"./chevron-up-DLy_zouo.js";import{C as v}from"./camera-BocbdLVz.js";import{M as w}from"./mail-DYaP46z6.js";import{A as j}from"./alert-circle-BhRc8O2u.js";import{C as N}from"./check-circle-CWdZhztr.js";import{U as k}from"./upload-C8y0fIyr.js";import{C}from"./chevron-down-DUtZ1Sn5.js";import{P as S}from"./play-DEEs_jtx.js";import{C as T}from"./chevron-left-BLVcuK2V.js";import{F as L,P as z}from"./pin-DtEqoQXO.js";import{I as A,S as E,a as _,T as P,M as O}from"./thumbs-down-BbHLmy5z.js";import{B as W}from"./bookmark-DxL_Xr1W.js";import{S as F}from"./sparkles-F1FsclXw.js";import{V as $}from"./video-BU_QG1We.js";import{C as I}from"./crown-FyEv4QQm.js";import{Z as B}from"./zap-BLM4gJvx.js";import{F as U}from"./folder-BM_h9G5z.js";import{U as R}from"./users-DbTPX5ht.js";import{S as Y}from"./shield-UflaCjzY.js";import{H as M}from"./history-C0HEjEPh.js";import{B as D}from"./book-open-ButPwPDd.js";import{G as V}from"./gift-DGnD2VHC.js";import{C as q}from"./credit-card-BYcmV_YY.js";import{U as J}from"./user-ruYZ-ydt.js";import{T as G}from"./trending-up-DyyEJKTd.js";import{S as K}from"./share-2--6cONZ4L.js";import{M as H}from"./message-square-CNovjS0u.js";import{H as X}from"./heart-DAgKoHaU.js";import{X as Q}from"./x-BtVIjD1R.js";import{M as Z}from"./more-vertical-B884SZ_i.js";import{L as ee}from"./lightbulb-Cgck_kRT.js";import{H as te}from"./home-Dd5N3dNo.js";import{T as ae}from"./trophy-B6kugKtl.js";import{S as se}from"./star-D_JFJQT4.js";import{S as re}from"./search-BlChXm75.js";import{S as oe}from"./settings-BP8PaU3C.js";import{B as ie}from"./bell-BCAj_mH0.js";const le=e("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),ne=e("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),ce=e("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),de=e("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),me=e=>{if(!e||0===e)return"0";const t=parseInt(e)||0;return t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"m":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"k":t.toString()},xe=({size:e=24,className:t="",...s})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`lucide lucide-pencil-line-icon lucide-pencil-line ${t}`,...s,children:[a.jsx("path",{d:"M13 21h8"}),a.jsx("path",{d:"m15 5 4 4"}),a.jsx("path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"})]}),ue=({size:e=24,className:t="",...s})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...s,children:[a.jsx("path",{d:"M22 10v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-6Z"}),a.jsx("path",{d:"M2 10V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4Z"}),a.jsx("path",{d:"m2 10 6-6"}),a.jsx("path",{d:"m8 10 6-6"}),a.jsx("path",{d:"m14 10 6-6"})]}),he=({name:e,size:t=20,className:s="",...m})=>{const x={menu:O,bell:ie,settings:oe,search:re,star:se,chart:G,cup:ae,home:te,requests:g,ideas:ee,more:f,moreVertical:Z,x:Q,heart:X,thumbsDown:P,eye:d,message:H,share:K,trendingUp:G,pencil:p,pencilLine:xe,profile:J,subscriptions:q,referral:V,marketplace:_,bookmarks:D,history:M,editor:E,creator:v,premium:I,theme:o,policies:Y,users:R,folder:U,zap:B,camera:v,crown:I,video:$,sparkles:F,pin:z,bookmark:W,info:A,eyeOff:c,flag:L,sun:n,moon:l,monitor:r,check:i,palette:o,arrowLeft:T,volumeX:de,play:S,pause:ne,save:ce,chevronDown:C,upload:k,checkCircle:N,alertCircle:j,mail:w,twitter:r,instagram:v,chevronUp:y,clapperboard:ue,coins:le,dollarSign:b},u=x[e]||x.star;return a.jsx(u,{size:t,className:s,...m})},ge=({selectedLanguage:e="English"})=>a.jsx(h,{selectedLanguage:e}),pe=({onClick:e})=>a.jsx("div",{className:"ml-2 cursor-pointer",onClick:e,children:a.jsx(he,{name:"pencilLine",size:16,className:"text-black"})}),fe=({value:e,onSave:t,onCancel:s,type:r="text",placeholder:o,prefix:i,options:l})=>{const[n,c]=m.useState(e),[d,x]=m.useState(!1),[u,h]=m.useState(!1),g=m.useRef(null);m.useEffect(()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&x(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return a.jsxs("div",{className:"flex items-center w-full gap-3 mb-3 relative",ref:g,children:[("text"===r||"textarea"===r||"select"===r&&u)&&a.jsxs("div",{className:"flex-grow bg-gray-100 rounded-xl px-4 py-3 flex items-center relative",children:[i&&a.jsx("span",{className:"text-gray-500 mr-1",children:i}),"textarea"===r?a.jsx("textarea",{value:n,onChange:e=>c(e.target.value),className:"bg-transparent w-full outline-none text-gray-900 resize-none font-medium",rows:2,placeholder:o,autoFocus:!0}):a.jsx("input",{type:"text",value:n,onChange:e=>c(e.target.value),className:"bg-transparent w-full outline-none text-gray-900 font-medium",placeholder:u?"Enter new category name":o,autoFocus:"text"===r||u})]}),"select"===r&&!u&&a.jsxs("div",{className:"flex-grow relative",children:[a.jsxs("div",{className:"w-full flex items-center justify-between cursor-pointer px-4 py-3 rounded-xl border-2 border-gray-200 hover:border-blue-400 bg-gradient-to-r from-white to-gray-50 shadow-md hover:shadow-lg transition-all duration-200",onClick:()=>x(!d),children:[a.jsx("span",{className:"text-sm font-semibold "+(n?"text-gray-900":"text-gray-600"),children:n||o}),a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-blue-100 transition-transform duration-300 "+(d?"rotate-180 bg-blue-500":""),children:a.jsx(he,{name:"chevronDown",className:"transition-colors "+(d?"text-white":"text-blue-600"),size:16})})]}),d&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-2xl border-2 border-blue-100 z-50 max-h-80 overflow-y-auto backdrop-blur-sm",children:[a.jsx("div",{className:"px-4 pt-3 pb-2 border-b border-blue-100 sticky top-0 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-2xl",children:a.jsx("span",{className:"text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Select Category"})}),l&&l.length>0?a.jsxs(a.Fragment,{children:[l.map((e,t)=>a.jsxs("div",{onClick:()=>{return t=e.value,c(t),void x(!1);var t},className:"px-4 py-3.5 cursor-pointer text-sm flex items-center justify-between hover:bg-blue-50 transition-all duration-150 "+(n===e.value?"bg-gradient-to-r from-blue-100 to-indigo-50 border-l-4 border-blue-500 text-blue-900 font-semibold":"text-gray-800 hover:pl-5"),children:[a.jsxs("span",{className:"flex items-center gap-2",children:[n===e.value&&a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-600"}),e.label]}),n===e.value&&a.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center",children:a.jsx(he,{name:"check",size:14,className:"text-white",strokeWidth:3})})]},e.value)),a.jsx("div",{className:"border-t-2 border-blue-100 mt-1",children:a.jsxs("div",{onClick:()=>{h(!0),c(""),x(!1)},className:"px-4 py-3 hover:bg-blue-50 cursor-pointer text-sm text-blue-600 font-semibold flex items-center gap-2 transition-all duration-150 hover:pl-5",children:[a.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-blue-400 flex items-center justify-center",children:a.jsx(he,{name:"plus",size:12,className:"text-blue-400"})}),a.jsx("span",{children:"Create new category"})]})})]}):a.jsx("div",{className:"px-4 py-6 text-center text-gray-500 text-sm font-medium",children:"No categories available"})]})]}),a.jsx("button",{onClick:e=>{e.stopPropagation(),s()},className:"p-2 text-gray-500 hover:text-gray-700",children:a.jsx(he,{name:"x",size:24})}),a.jsx("button",{onClick:()=>t(n),className:"p-3 bg-[var(--color-gold)] rounded-xl text-black shadow-sm hover:bg-[var(--color-gold-darker)] transition-colors flex items-center justify-center w-12 h-12",children:a.jsx(he,{name:"save",size:20})})]})},be=({label:e,value:t,selectedLanguage:r="English"})=>a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-2 flex flex-col items-center justify-center w-16 h-16 md:w-20 md:h-20 border border-gray-200",children:[a.jsx("div",{className:"text-xs text-gray-700 font-medium mb-1",children:s(e,r)}),a.jsx("div",{className:"font-bold text-sm md:text-lg",style:{background:"linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:me(t)})]}),ye=({profile:e,onUpdate:t,isPreviewMode:r,onTogglePreview:o,onTip:i,selectedCTAs:l,onCTAClick:n,availableTags:c,onShowToast:d,isSharedLink:h=!1,selectedLanguage:p="English"})=>{const f=x(),[b,y]=m.useState(null),[v,w]=m.useState(e.price),[j,N]=m.useState(e.pricingType||"One Time"),[k,C]=m.useState(!1),[S,T]=m.useState(!1),[L,z]=m.useState(0),[A,E]=m.useState(!0),[_,P]=m.useState(!1),O=m.useRef(null),[W,F]=m.useState(null),[$,I]=m.useState(!0),[B,U]=m.useState(!0),[R,Y]=m.useState(!1);m.useEffect(()=>{if(r)return;Y(!0);const e=setTimeout(()=>Y(!1),1e4);return()=>clearTimeout(e)},[r]),m.useEffect(()=>{(async()=>{if(e?.id)try{const t=localStorage.getItem("regaarder_token");if(!t)return;const a=window&&window.__BACKEND_URL__||"https://regaarder-pwin.onrender.com",s=await fetch(`${a}/following/${e.id}`,{headers:{Authorization:`Bearer ${t}`}});if(s.ok){const e=await s.json();C(e.isFollowing)}}catch(t){console.error("Failed to check following status:",t)}})()},[e?.id]),m.useEffect(()=>{if(!l||l.length<=1)return;const e=setInterval(()=>{E(!1),setTimeout(()=>{z(e=>(e+1)%l.length),E(!0)},500)},5e3);return()=>clearInterval(e)},[l]);const M=l&&l.length>0?l[L]:"Your idea → {creator}'s next video",D=(e,a)=>{t(e,a),y(null)},V=()=>{t("price",v),t("pricingType",j),y(null)},q=async()=>{try{const a=localStorage.getItem("regaarder_token");if(!a)return void(d&&d({title:s("Login Required",p),subtitle:s("Please log in to follow creators",p)}));const r=window&&window.__BACKEND_URL__||"https://regaarder-pwin.onrender.com",o=k?"/unfollow":"/follow";T(!0);const i=await fetch(`${r}${o}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({creatorId:e.id})});if(i.ok){setTimeout(()=>C(!k),120);const a=k?Math.max(0,(e.followers||0)-1):(e.followers||0)+1;t("followers",a),d&&d({title:s(k?"Unfollowed":"Following!",p),subtitle:k?s("You unfollowed {creator}",p).replace("{creator}",e.name):s("You're now following {creator}",p).replace("{creator}",e.name)})}else{const e=await i.json();d&&d({title:s("Error",p),subtitle:s(e.error||"Failed to update follow status",p)})}setTimeout(()=>T(!1),420)}catch(a){console.error("Follow error:",a),T(!1),d&&d({title:s("Error",p),subtitle:s("Network error. Please try again.",p)})}},[J,G]=m.useState(!1),[K,H]=m.useState(!1);return a.jsxs("div",{className:"relative bg-white pb-6",children:[a.jsx("style",{children:"\n                @keyframes shimmer-gold-premium {\n                    0% { background-position: 100% 0; }\n                    40% { background-position: 0% 0; }\n                    100% { background-position: 0% 0; }\n                }\n                @keyframes glow-pulse {\n                    0%, 100% { \n                        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n                    }\n                    50% { \n                        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);\n                    }\n                }\n                .shimmer-gold {\n                    background: var(--color-gold);\n                    background-size: 300% 100%;\n                }\n                @keyframes pulse-ring {\n                    0% { box-shadow: 0 0 0 0 var(--color-gold); }\n                    70% { box-shadow: 0 0 0 12px rgba(0,0,0,0); }\n                    100% { box-shadow: 0 0 0 0 rgba(0,0,0,0); }\n                }\n                .pulse-price {\n                    animation: pulse-ring 2.2s infinite;\n                }\n                .price-tooltip {\n                    pointer-events: none;\n                    transform-origin: center bottom;\n                }\n            "}),a.jsx("div",{className:"absolute top-0 left-0 right-0 h-48 bg-gradient-to-br from-purple-950 via-red-600 to-orange-500",style:{borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px"}}),a.jsxs("div",{className:"relative z-10 flex justify-between items-center px-4 text-white",style:{paddingTop:"calc(16px + env(safe-area-inset-top, 0px))"},children:[a.jsx("button",{className:"w-11 h-11 flex items-center justify-center bg-black/20 rounded-full backdrop-blur-sm hover:bg-black/30 transition "+(void 0!==K&&K?"scale-95 opacity-90":""),onClick:()=>{try{"function"==typeof H&&H(!0),setTimeout(()=>{(()=>{try{const e=localStorage.getItem("redirectBackTo"),t="creatorDashboard"===e?"/creatordashboard":"/home";"creatorDashboard"===e&&localStorage.removeItem("redirectBackTo"),f(t)}catch(e){console.warn("Navigation failed",e),window.location.href="/home"}})()},120),setTimeout(()=>{"function"==typeof H&&H(!1)},420)}catch(e){console.warn("Navigation failed",e),window.location.href="/home"}},children:a.jsx(he,{name:"arrowLeft",size:24})}),a.jsxs("div",{className:"flex space-x-3",children:[!h&&a.jsx("button",{className:"w-11 h-11 flex items-center justify-center bg-black/20 rounded-full backdrop-blur-sm hover:bg-black/30 transition",onClick:o,children:a.jsx(he,{name:r?"pencilLine":"eye",size:24,style:{width:24,height:24}})}),!h&&a.jsx("button",{className:"w-11 h-11 flex items-center justify-center bg-black/20 rounded-full backdrop-blur-sm hover:bg-black/30 transition",onClick:async()=>{const t=e?.handle||e?.id||e?.email||e?.name||"user",a=e?.name||e?.handle||"Creator",s=`${u}/share/profile/${encodeURIComponent(String(t).replace(/^@/,""))}`,r=`${a} on Regaarder`,o=`Check out ${a}'s profile on Regaarder — discover their content, ideas, and more!\n\n${s}`,i={title:"Link Copied",subtitle:"Profile link copied to clipboard"},l=()=>{d&&d(i),P(!0),setTimeout(()=>P(!1),3e3)};try{if(navigator&&navigator.share)return await navigator.share({title:r,text:o,url:s}),d&&d({title:"Shared",subtitle:"Profile shared successfully"}),P(!0),void setTimeout(()=>P(!1),3e3)}catch(n){if("AbortError"===n.name)return}try{if(!navigator.clipboard||!navigator.clipboard.writeText)throw new Error("Clipboard API unavailable");await navigator.clipboard.writeText(s),l()}catch(n){try{const e=document.createElement("textarea");e.value=s,e.style.position="fixed",e.style.left="-9999px",e.style.top="0",document.body.appendChild(e),e.focus(),e.select();const t=document.execCommand("copy");document.body.removeChild(e),t&&l()}catch(c){console.error("Failed to copy:",c)}}},children:a.jsx(he,{name:_?"check":"share",size:24})})]})]}),a.jsxs("div",{className:"relative z-10 px-4 mt-20",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-28 h-28 md:w-32 md:h-32 rounded-full p-1 shadow-lg bg-transparent",children:a.jsx("div",{className:"w-full h-full rounded-full p-1 shimmer-gold",children:a.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-transparent relative flex items-center justify-center",children:W?a.jsxs("div",{className:"flex flex-col items-center justify-center text-center px-2",children:[a.jsx(g,{className:"w-8 h-8 text-gray-700"}),a.jsx("div",{className:"text-xs text-gray-700 mt-1 break-words max-w-full",children:W.name})]}):e.image?a.jsx("img",{src:e.image,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx("img",{src:"https://placehold.co/400x400/e2e8f0/1e293b?text=User",alt:"Profile",className:"w-full h-full object-cover"})})})}),a.jsx("input",{type:"file",ref:O,className:"hidden",accept:"image/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,text/plain,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation,application/zip",onChange:async e=>{const a=e.target.files[0];if(!a)return;const r=(a.name&&a.name.split(".").pop()||"").toLowerCase(),o=a.type&&(a.type.startsWith("image/")||["image/jpeg","image/png","image/gif","image/webp","image/svg+xml","image/jfif","image/bmp","image/heic","image/heif"].includes(a.type)),i=r&&["jpg","jpeg","png","gif","webp","svg","jfif","bmp","heic","heif","pdf","txt"].includes(r);if(!o&&!i)return console.error("Unsupported file type. Allowed: images (jpg,png,gif,webp,svg,jfif,heic,heif,bmp) and small text/pdf files."),void(d&&d({title:s("Invalid File Type",p),subtitle:s("Please upload an image file (jpg, png, gif, webp, etc.)",p)}));if(a.size>10485760)return console.error("File too large. Maximum allowed is 10MB."),void(d&&d({title:s("File Too Large",p),subtitle:s("Maximum file size is 10MB",p)}));const l=a.type&&a.type.startsWith("image/")||i;try{if(l){const e=URL.createObjectURL(a);t("image",e),F(null)}else F({name:a.name,type:a.type})}catch(n){}try{const e=localStorage.getItem("regaarder_token");if(!e)return console.warn("No authentication token found. Profile changes will only be saved locally."),void(d&&d({title:s("Not Authenticated",p),subtitle:s("Changes saved locally only. Please login to sync across devices.",p)}));const r=new FormData;r.append("image",a);const o=await fetch(`${window&&window.__BACKEND_URL__||"https://pwin.onrender.com"}/creator/photo`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:r});if(!o.ok){if(401===o.status)return console.warn("Authentication failed. Token may be invalid or expired."),void(d&&d({title:s("Authentication Required",p),subtitle:s("Please login again to upload files",p)}));throw new Error(`Upload failed with status ${o.status}`)}const i=await o.json();if(i&&i.url){if(i.mimeType&&i.mimeType.startsWith("image/")){t("image",i.url);try{await fetch(`${window&&window.__BACKEND_URL__||"https://pwin.onrender.com"}/creator/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({image:i.url})})}catch(n){console.warn("Failed to persist image update",n)}}else{t("document",i.url),F(e=>({...e||{},url:i.url}));try{await fetch(`${window&&window.__BACKEND_URL__||"https://pwin.onrender.com"}/creator/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({document:i.url})})}catch(n){console.warn("Failed to persist document update",n)}}d&&d({title:s("Upload Successful",p),subtitle:s("Your profile image has been updated",p)})}else console.warn("Profile file upload failed - no URL returned",i),d&&d({title:"Upload Failed",subtitle:"Server did not return a valid file URL"})}catch(c){console.error("Profile file upload error",c),d&&d({title:"Upload Error",subtitle:"Failed to upload file. Please try again."})}}}),!r&&a.jsxs("div",{className:"absolute bottom-1 left-1 rounded-full p-2 border-4 border-white cursor-pointer z-20 transition-all shadow-sm hover:scale-110 relative overflow-hidden",style:{background:"linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},onClick:()=>O.current.click(),children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),a.jsx(he,{name:"pencilLine",size:16,className:"text-white relative z-10"})]})]}),a.jsxs("div",{className:"flex space-x-2 mb-2",children:[a.jsx(be,{label:s("Followers",p),value:e.followers||e.followerCount||0,selectedLanguage:p}),a.jsx(be,{label:s("Views",p),value:e.views||0,selectedLanguage:p}),a.jsx(be,{label:s("Fulfilled",p),value:e.comments||0,selectedLanguage:p})]})]}),a.jsxs("div",{className:"mt-4 text-left",children:["name"!==b||r?a.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[a.jsx("h1",{className:"text-2xl font-bold",style:{background:"linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:e.name}),r&&!h?a.jsxs("div",{className:"text-white text-xs font-bold px-2 py-1 rounded-md flex items-center shadow-sm",style:{background:"linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)"},children:[a.jsx(he,{name:"eye",size:12,className:"mr-1"}),s("Preview Mode",p)]}):!h&&a.jsx(pe,{onClick:()=>y("name")})]}):a.jsx(fe,{value:e.name,onSave:e=>D("name",e),onCancel:()=>y(null)}),"handle"!==b||r?a.jsxs("div",{className:"flex items-center mt-1",children:[a.jsxs("p",{className:"text-gray-700 text-lg font-medium",children:["@",e.handle]}),!r&&a.jsx(pe,{onClick:()=>y("handle")})]}):a.jsx(fe,{value:e.handle,onSave:e=>D("handle",e),onCancel:()=>y(null),prefix:"@"}),"bio"!==b||r?a.jsxs("div",{className:"flex items-start mt-3 max-w-md",children:[a.jsx("p",{className:"text-gray-700 font-normal leading-relaxed text-left",children:e.bio}),!r&&a.jsx("div",{className:"mt-1 min-w-[24px]",children:a.jsx(pe,{onClick:()=>y("bio")})})]}):a.jsx(fe,{value:e.bio,onSave:e=>D("bio",e),onCancel:()=>y(null),type:"textarea"}),"tag"!==b||r?a.jsxs("div",{className:"flex items-center mt-4",children:[a.jsx("span",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 px-4 py-2 rounded-full text-sm font-bold border border-blue-200 shadow-sm",children:s(e.tag,p)}),!r&&a.jsx(pe,{onClick:()=>y("tag")})]}):a.jsx(fe,{value:e.tag,onSave:e=>D("tag",e),onCancel:()=>y(null),type:"select",placeholder:s("Select a category",p),options:c})]}),r?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-3 mt-8",children:[k?a.jsxs("button",{className:"flex-grow bg-white border border-gray-200 text-gray-900 font-semibold py-2.5 rounded-xl text-base shadow-sm flex items-center justify-center hover:bg-gray-50 transition "+(S?"scale-95 opacity-90":""),onClick:q,children:[a.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-gray-900 flex items-center justify-center mr-2",children:a.jsx(he,{name:"check",size:12,className:"text-gray-900",strokeWidth:3})}),s("Following",p)]}):a.jsxs("button",{className:"flex-grow bg-[var(--color-gold)] text-black font-semibold py-2.5 rounded-xl text-base shadow-sm flex items-center justify-center hover:bg-[var(--color-gold-darker)] transition "+(S?"scale-95 opacity-90":""),onClick:q,children:[a.jsx(he,{name:"heart",size:18,className:"mr-2"}),s("Follow",p)]}),a.jsxs("button",{className:"px-6 bg-white border border-gray-200 text-gray-900 font-semibold py-2.5 rounded-xl text-base shadow-sm flex items-center justify-center hover:bg-gray-50 transition",onClick:i,children:[a.jsx(he,{name:"dollarSign",size:18,className:"mr-1"}),s("Tip",p)]})]}),a.jsx("div",{className:"mt-3",children:a.jsxs("button",{onClick:()=>{G(!0),setTimeout(()=>{n&&n()},120),setTimeout(()=>G(!1),420)},className:"w-full shimmer-gold text-black font-medium py-4 px-4 rounded-xl text-base shadow-sm hover:opacity-90 transition flex items-center justify-center "+(J?"scale-95 opacity-90":""),children:[a.jsx(he,{name:"video",size:18,className:"mr-2 flex-shrink-0"}),a.jsx("span",{className:"text-center leading-tight transition-opacity duration-500 "+(A?"opacity-100":"opacity-0"),children:s(M,p).replace("{creator}",e.name)})]})})]}):"price"===b?a.jsxs("div",{className:"w-full mt-8 flex flex-col gap-3",children:[a.jsxs("div",{className:"flex-grow bg-[var(--color-gold-light-bg)] rounded-xl px-4 py-3 flex items-center shadow-sm",children:[a.jsx("span",{className:"mr-2 opacity-50 text-gray-800 font-semibold text-lg",children:"$"}),a.jsx("input",{type:"number",value:v,onChange:e=>w(e.target.value),className:"bg-transparent w-24 outline-none text-gray-800 font-semibold text-lg placeholder-gray-600",autoFocus:!0,onKeyDown:e=>{"Enter"===e.key&&V()}}),a.jsx("div",{className:"h-6 w-px bg-black/10 mx-2"}),a.jsxs("select",{value:j,onChange:e=>N(e.target.value),className:"bg-transparent outline-none text-gray-800 font-semibold text-sm appearance-none flex-grow cursor-pointer",children:[a.jsx("option",{value:"One Time",children:s("One Time",p)}),a.jsx("option",{value:"Series",children:"Series"}),a.jsx("option",{value:"Recurrent",children:"Recurrent"})]}),a.jsx(he,{name:"chevronDown",size:16,className:"text-gray-800 opacity-50 ml-1 pointer-events-none"})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{onClick:()=>y(null),className:"px-4 py-2 text-gray-500 hover:text-gray-700 bg-white rounded-xl shadow-sm border border-gray-100 transition-colors",children:a.jsx(he,{name:"x",size:20})}),a.jsx("button",{onClick:V,className:"px-6 py-2 bg-[var(--color-gold)] text-black rounded-xl shadow-sm hover:bg-[var(--color-gold-dark)] transition-colors font-semibold",title:"Save price",children:"Save"})]})]}):a.jsx("div",{className:"w-full mt-8 relative",children:a.jsxs("div",{className:"group w-full relative",children:[$?a.jsxs("button",{className:"w-full bg-[var(--color-gold-light-bg)] text-gray-800 font-semibold py-4 rounded-xl text-lg shadow-sm flex items-center justify-center "+(B?"pulse-price":""),onClick:()=>{w(e.price),N(e.pricingType||"One Time"),y("price")},"aria-label":`Price per request: $${e.price} / ${s(e.pricingType||"One Time",p)}`,children:[a.jsx("span",{className:"mr-2 opacity-50",children:"$"}),"$",e.price,a.jsxs("span",{className:"opacity-50 ml-1",children:["/ ",s(e.pricingType||"One Time",p)]})]}):a.jsx("div",{className:"w-full bg-gray-100 text-gray-500 font-medium py-4 rounded-xl text-lg shadow-sm flex items-center justify-center border border-gray-200",children:s("Price hidden",p)}),!r&&a.jsx("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition duration-150 text-xs bg-black text-white px-2 py-1 rounded-md price-tooltip",children:$?"Price per request. Click to edit":"Price is hidden from fans"}),!B&&$&&a.jsx("div",{className:"absolute left-6 right-6 bottom-0 h-0.5 bg-[var(--color-gold)] rounded-full"}),a.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center gap-1",children:[a.jsx("div",{className:"cursor-pointer p-2 rounded-md hover:bg-gray-100 transition",onClick:t=>{t.stopPropagation(),w(e.price),N(e.pricingType||"One Time"),y("price")},title:"Edit price",children:a.jsx(he,{name:"pencilLine",size:18,className:"text-black"})}),a.jsx("button",{className:"p-2 rounded-md hover:bg-gray-100 transition "+($?"":"opacity-80"),onClick:e=>{e.stopPropagation(),I(e=>!e)},"aria-pressed":$,title:$?"Hide price":"Show price",children:a.jsx(he,{name:$?"eye":"eyeOff",size:18})})]})]})})]})]})},ve=({title:e,progress:t,missingFields:r,icon:o,isPopup:i,onClick:l,onPreview:n,selectedLanguage:c="English"})=>a.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 mb-4 cursor-pointer transition hover:shadow-md",onClick:l,children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mr-3 relative overflow-hidden",style:{background:"linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.3)"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),a.jsx(he,{name:o,size:20,className:"text-white relative z-10"})]}),a.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:e})]}),t&&a.jsxs("span",{className:"text-[var(--color-gold)] font-bold",children:[t,"%"]})]}),t?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:a.jsx("div",{className:"bg-[var(--color-gold)] h-2 rounded-full",style:{width:`${t}%`}})}),a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:s("8 of 10 fields completed • Tap to edit",c)}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-md",children:s("Missing fields:",c)}),r.map((e,t)=>a.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded-md font-medium",children:e},t))]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-500 text-sm mb-4 leading-relaxed",children:s("Create a personalized greeting for fans who visit your profile",c)}),a.jsxs("button",{onClick:e=>{e.stopPropagation(),n&&n()},className:"flex items-center px-4 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition",children:[a.jsx(he,{name:"eye",size:16,className:"mr-2"}),s("Preview",c)]})]})]}),we=({isPreviewMode:e,video:t,onUpload:r,onDelete:o,selectedLanguage:i})=>{const l=m.useRef(null),n=m.useRef(null),[c,d]=m.useState(!1);return m.useEffect(()=>{const e=n.current;if(!e)return;const t=()=>d(!0),a=()=>d(!1);return e.addEventListener("play",t),e.addEventListener("pause",a),()=>{e.removeEventListener("play",t),e.removeEventListener("pause",a)}},[]),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-normal text-gray-900 mb-4 px-1",children:s("Featured Video",i)}),t?a.jsxs("div",{className:"relative bg-black rounded-2xl overflow-hidden shadow-sm border border-gray-100 aspect-video group",children:[a.jsx("video",{ref:n,src:t.url,className:"w-full h-full object-contain bg-black cursor-pointer",onClick:()=>{n.current&&(n.current.paused?n.current.play():n.current.pause())}}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("button",{onClick:()=>{n.current&&(n.current.paused?(n.current.play(),d(!0)):(n.current.pause(),d(!1)))},onMouseEnter:()=>{n.current&&!n.current.paused?d(!0):n.current&&n.current.paused&&d(!1)},className:"p-4 bg-white/20 hover:bg-white/30 rounded-full backdrop-blur-sm transition-all",children:c?a.jsx(he,{name:"pause",size:32,className:"text-white"}):a.jsx(he,{name:"play",size:32,className:"text-white"})})}),!e&&a.jsx("button",{onClick:o,className:"absolute top-3 right-3 p-2 bg-black/50 text-white rounded-full hover:bg-red-500 transition backdrop-blur-sm opacity-0 group-hover:opacity-100",title:"Remove video",children:a.jsx(he,{name:"x",size:16})})]}):a.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 flex flex-col items-center text-center",children:[a.jsxs("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-4 relative overflow-hidden",style:{background:"linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.3)"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),a.jsx(he,{name:"video",size:32,className:"text-white relative z-10"})]}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:s("No featured video yet",i)}),a.jsx("p",{className:"text-gray-500 text-sm mb-6 max-w-xs leading-relaxed",children:s("Upload an introduction video to showcase your content",i)}),a.jsx("input",{type:"file",ref:l,className:"hidden",accept:"video/*",onChange:e=>{const t=e.target.files[0];if(t){const e=URL.createObjectURL(t);r({url:e,file:t})}}}),!e&&a.jsxs("button",{onClick:()=>{l.current.click()},className:"w-full border border-gray-200 rounded-xl py-3 flex items-center justify-center font-medium text-gray-700 hover:bg-gray-50 transition",children:[a.jsx(he,{name:"upload",size:18,className:"mr-2"}),s("Upload Intro Video",i)]})]})]})},je=({videos:e,creatorId:t,onClose:r,onDelete:o,isPreview:i=!1,selectedLanguage:l="English"})=>{const[n,c]=m.useState(e),[d,x]=m.useState(!1);return m.useEffect(()=>{(async()=>{if(t){x(!0);try{const a=window&&window.__BACKEND_URL__||"https://pwin.onrender.com",s=await fetch(`${a}/videos/${t}`,{credentials:"include"});if(s.ok){const e=await s.json();c(e.videos||[])}else c(e)}catch(a){console.error("Failed to fetch videos:",a),c(e)}finally{x(!1)}}})()},[t]),a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[a.jsx("div",{className:i?"absolute inset-0 bg-black/90":"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:r}),a.jsxs("div",{className:"relative bg-white rounded-3xl w-full max-w-md p-6 shadow-2xl animate-in fade-in zoom-in duration-200 max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:s("All Videos",l)}),a.jsxs("p",{className:"text-gray-500 text-sm",children:[d?"Loading...":n.length," videos"]})]}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:a.jsx(he,{name:"x",size:24})})]}),d?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"text-gray-400",children:s("Loading videos...",l)})}):n.length>0?a.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.map(e=>a.jsxs("div",{className:"relative group",children:[a.jsxs("div",{className:"relative aspect-video rounded-xl overflow-hidden bg-gray-200 shadow-sm",children:[a.jsx("img",{src:e.image||e.thumbnail,alt:e.title,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"}),a.jsx("button",{onClick:t=>{t.stopPropagation(),o(e.id)},className:"absolute top-2 right-2 p-1.5 bg-black/50 text-white rounded-full hover:bg-red-500 transition backdrop-blur-sm",children:a.jsx(he,{name:"x",size:12})}),a.jsx("div",{className:"absolute bottom-2 left-2",children:a.jsxs("div",{className:"flex items-center text-white text-xs font-medium drop-shadow-md bg-black/40 px-1.5 py-0.5 rounded-md backdrop-blur-sm",children:[a.jsx(he,{name:"eye",size:10,className:"mr-1"}),e.views||0]})})]}),a.jsx("h3",{className:"text-gray-900 text-sm font-medium mt-2 leading-tight line-clamp-2",children:e.title})]},e.id))}):a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"text-gray-400",children:s("No videos yet",l)})})]})]})},Ne=({videos:e,onViewAll:t,isPreviewMode:r,selectedLanguage:o="English"})=>{const[i,l]=m.useState(null),n=e.slice(0,3),[c,d]=m.useState(!0),[x,u]=m.useState(!1),[h,g]=m.useState(!1);return r&&!c?null:(m.useEffect(()=>{if(r)return;g(!0);const e=setTimeout(()=>g(!1),1e4);return()=>clearTimeout(e)},[r]),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"relative flex justify-between items-center mb-4 px-1",children:[a.jsx("h2",{className:"text-xl font-normal text-gray-900",children:s("Top Videos",o)}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:t,className:"text-gray-500 text-sm font-medium hover:text-gray-900",children:s("View All",o)}),!r&&a.jsx("button",{onClick:()=>{u(!0),d(e=>!e),setTimeout(()=>u(!1),300)},"aria-pressed":!c,title:s(c?"Hide in preview":"Show in preview",o),className:"p-2 rounded-lg transition "+(x?"scale-95 opacity-90":"hover:bg-gray-100"),children:a.jsx(he,{name:c?"eye":"eyeOff",size:18})})]}),h&&!r&&a.jsx("div",{className:"absolute right-0 -top-10 text-xs bg-black text-white px-2 py-1 rounded-md",children:s("Toggle this section in Preview. Click the eye to show/hide.",o)})]}),a.jsx("div",{className:"flex overflow-x-auto gap-3 pb-2 -mx-4 px-4 scrollbar-hide snap-x",children:n.map(e=>{return a.jsxs("div",{className:"relative min-w-[85%] aspect-video rounded-xl overflow-hidden bg-gray-200 shadow-sm snap-center flex-shrink-0",children:[a.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover"}),!r&&a.jsxs("div",{className:"absolute top-2 right-2 bg-black/60 backdrop-blur-sm text-white text-[10px] px-2 py-1 rounded-md flex items-center cursor-pointer hover:bg-black/70 transition",children:[a.jsx(he,{name:"pencilLine",size:10,className:"mr-1 text-white"}),s("Edit",o)]}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black/90 via-black/50 to-transparent pt-10",children:[a.jsx("h3",{className:"text-white text-sm font-medium mb-1 leading-tight line-clamp-1",children:i===e.id?e.fullTitle||e.title:(t=e.title,t.endsWith("...")?a.jsx("span",{className:"cursor-pointer underline decoration-dotted",onClick:()=>l(e.id),children:e.title}):e.title)}),a.jsxs("div",{className:"flex items-center text-gray-300 text-xs",children:[a.jsx(he,{name:"eye",size:12,className:"mr-1"}),e.views]})]})]},e.id);var t})})]}))},ke=({onCustomize:e,selectedLanguage:t="English"})=>a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex justify-between items-start mb-1 px-1",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s("Quick CTA Templates",t)}),a.jsx(he,{name:"more",className:"text-gray-400",size:20})]}),a.jsx("p",{className:"text-gray-500 text-sm mb-4 px-1",children:s("Customize how fans request videos from you",t)}),a.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("span",{className:"text-gray-400 text-sm mr-2",children:s("Current CTA Preview:",t)}),a.jsx("span",{className:"text-[var(--color-gold)] text-xs font-medium px-2 py-0.5 rounded-full border border-[var(--color-gold)]",children:s("Rotating (2/2)",t)})]}),a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("p",{className:"text-gray-900 font-medium text-lg pr-4 leading-tight",children:s("Your idea → Alex Morgan's next video",t)}),a.jsx("button",{onClick:e,className:"text-[var(--color-gold)] border border-[var(--color-gold)] px-3 py-1.5 rounded-lg text-sm font-medium whitespace-nowrap hover:bg-[var(--color-gold-light-bg)] transition",children:s("Customize",t)})]}),a.jsxs("div",{className:"flex items-center text-gray-400 text-xs",children:[a.jsx(he,{name:"ideas",size:14,className:"text-[var(--color-gold)] mr-1.5"}),s("CTAs rotate every 30 seconds",t)]})]})]}),Ce=({isOpen:e,onClose:t,onShowToast:r,categories:o,onToggleCategory:i,onToggleTemplate:l,onCreateTemplate:n,isPreview:c=!1,selectedLanguage:d="English"})=>{if(!e)return null;const[x,u]=m.useState(!1),[h,g]=m.useState({categoryId:"custom",text:"",heading:"",subtext:""});return a.jsxs("div",{className:"fixed inset-0 z-[80] flex items-end sm:items-center justify-center sm:px-4",children:[a.jsx("div",{className:c?"absolute inset-0 bg-black/90":"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),a.jsx("div",{className:"relative bg-white w-full max-w-md h-[85vh] sm:h-auto sm:max-h-[90vh] rounded-t-3xl sm:rounded-3xl shadow-2xl animate-in slide-in-from-bottom-full sm:zoom-in duration-300 flex flex-col overflow-hidden",children:x?a.jsxs("div",{className:"flex flex-col h-full border-2 border-[var(--color-gold)] rounded-t-3xl sm:rounded-3xl m-1",children:[a.jsxs("div",{className:"p-6 pb-2 bg-white z-10 flex items-center gap-3",children:[a.jsx("button",{onClick:()=>u(!1),className:"text-gray-500 hover:text-gray-700 p-1 -ml-2",children:a.jsx(he,{name:"arrowLeft",size:24})}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:s("Create Custom CTA",d)})]}),a.jsxs("div",{className:"p-6 pt-4 overflow-y-auto flex-grow scrollbar-hide",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("Category",d)}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:h.categoryId,onChange:e=>g({...h,categoryId:e.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 outline-none appearance-none focus:border-[var(--color-gold)] text-gray-900",children:o.map(e=>a.jsxs("option",{value:e.id,children:[e.emoji?`${e.emoji} `:"",e.name]},e.id))}),a.jsx(he,{name:"chevronDown",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:20})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("CTA Text (use {creator} for name)",d)}),a.jsx("input",{type:"text",value:h.text,onChange:e=>g({...h,text:e.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 outline-none focus:border-[var(--color-gold)] text-gray-900",placeholder:s("e.g., Tell {creator} what to create next",d)})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("Heading (optional)",d)}),a.jsx("input",{type:"text",value:h.heading,onChange:e=>g({...h,heading:e.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 outline-none focus:border-[var(--color-gold)] text-gray-900",placeholder:s("e.g., Your ideas matter",d)})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("Subtext (optional)",d)}),a.jsx("textarea",{value:h.subtext,onChange:e=>g({...h,subtext:e.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 outline-none focus:border-[var(--color-gold)] resize-none text-gray-900",rows:3,placeholder:s("e.g., Every request helps {creator} create better content",d)})]}),a.jsxs("div",{className:"flex gap-3 mt-auto",children:[a.jsxs("button",{onClick:()=>{if(!h.text)return;const e={id:Date.now(),text:h.text,label:h.heading,subtext:h.subtext,selected:!0};n(h.categoryId,e),u(!1),g({categoryId:"custom",text:"",heading:"",subtext:""}),r&&r({title:"Template Saved",subtitle:"Added to Your Templates"})},className:"flex-1 bg-[var(--color-gold)] text-black font-semibold py-3 rounded-xl shadow-sm hover:bg-[var(--color-gold-darker)] transition flex items-center justify-center",children:[a.jsx(he,{name:"check",size:18,className:"mr-2"}),s("Create Template",d)]}),a.jsx("button",{onClick:()=>u(!1),className:"flex-1 bg-white border border-gray-200 text-gray-700 font-semibold py-3 rounded-xl hover:bg-gray-50 transition",children:s("Cancel",d)})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-6 pb-2 bg-white z-10 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:s("Quick CTA Templates",d)}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:s("Customize how fans request videos from you",d)})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 p-1",children:a.jsx(he,{name:"x",size:24})})]}),a.jsxs("div",{className:"overflow-y-auto p-6 pt-4 space-y-4 scrollbar-hide pb-20",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start gap-4 mb-4",children:[a.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:s("Choose from 140+ templates across 23 categories (Max 3 selected)",d)}),a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-1 px-3 py-1.5 border border-[var(--color-gold)] text-[var(--color-gold)] rounded-lg text-sm font-medium whitespace-nowrap hover:bg-[var(--color-gold-light-bg)] transition",children:[a.jsx("span",{className:"text-lg leading-none mb-0.5",children:"+"}),a.jsx("span",{children:s("New Template",d)})]})]}),a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsxs("span",{className:"px-3 py-1 border border-[var(--color-gold)] text-[var(--color-gold)] rounded-lg text-xs font-medium bg-[var(--color-gold-light-bg)]",children:[o.reduce((e,t)=>e+(t.templates?.filter(e=>e.selected).length||0),0)," ",s("templates selected",d)]}),a.jsx("span",{className:"text-gray-400 text-xs",children:s("CTAs will rotate randomly on your profile",d)})]})]}),a.jsx("div",{className:"space-y-3",children:o.map(e=>a.jsxs("div",{className:"border border-gray-200 rounded-2xl overflow-hidden bg-white",children:[a.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition",onClick:()=>i(e.id),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-xl w-6 text-center",children:e.icon?a.jsx(he,{name:e.icon,className:"default"===e.id?"text-[var(--color-gold)]":"text-gray-700"}):e.emoji}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:s(e.name,d)}),e.count>0&&a.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full border border-[var(--color-gold)] text-[var(--color-gold)] text-[10px] font-bold",children:e.count})]}),e.description&&a.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:s(e.description,d)}),"default"===e.id&&a.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:s("Simple, direct CTAs that work for any creator",d)})]})]}),a.jsx(he,{name:e.isOpen?"chevronUp":"chevronDown",className:"text-gray-400",size:20})]}),e.isOpen&&e.templates&&a.jsx("div",{className:"px-4 pb-4 space-y-3",children:e.templates.map(t=>a.jsxs("div",{onClick:()=>l(e.id,t.id),className:"p-4 rounded-xl border transition-all cursor-pointer flex items-center justify-between "+(t.selected?"border-[var(--color-gold)] bg-[var(--color-gold-light-bg)]":"border-gray-200 bg-gray-50 hover:border-gray-300"),children:[a.jsxs("div",{className:"pr-4",children:[t.label&&a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s(t.label,d)}),a.jsx("p",{className:"text-sm font-medium "+(t.selected?"text-[var(--color-gold-darker)]":"text-gray-900"),children:s(t.text,d)}),t.subtext&&a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s(t.subtext,d)})]}),t.selected&&a.jsx("div",{className:"w-6 h-6 rounded-full bg-[var(--color-gold)] flex items-center justify-center flex-shrink-0",children:a.jsx(he,{name:"check",size:14,className:"text-white",strokeWidth:3})})]},t.id))})]},e.id))}),a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-5 border border-gray-100 mt-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(he,{name:"ideas",className:"text-[var(--color-gold)]",size:24}),a.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:s("How CTAs Work",d)})]}),a.jsxs("ul",{className:"space-y-3 text-gray-500 text-sm",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-1.5 w-1 h-1 rounded-full bg-gray-400 flex-shrink-0"}),a.jsx("span",{children:s("Select multiple templates - they'll rotate every 30 seconds on your profile",d)})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-1.5 w-1 h-1 rounded-full bg-gray-400 flex-shrink-0"}),a.jsx("span",{children:s("Hover over any template to edit or delete (custom templates only)",d)})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-1.5 w-1 h-1 rounded-full bg-gray-400 flex-shrink-0"}),a.jsx("span",{children:s("All {creator} placeholders automatically use your name",d)})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-1.5 w-1 h-1 rounded-full bg-gray-400 flex-shrink-0"}),a.jsx("span",{children:s("23 specialized categories: Tech, Podcasts, Fashion, Business, Psychology & more",d)})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-1.5 w-1 h-1 rounded-full bg-gray-400 flex-shrink-0"}),a.jsx("span",{children:"Emotional CTAs convert better than transactional ones"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-1.5 w-1 h-1 rounded-full bg-gray-400 flex-shrink-0"}),a.jsx("span",{children:"Create and customize CTAs to match your unique style"})]})]})]})]})]})})]})},Se=({selectedCTAs:e,profileName:t,onCTAClick:r,selectedLanguage:o="English"})=>{const[i,l]=m.useState(0),[n,c]=m.useState(!0),[d,u]=m.useState(!1),[h,g]=m.useState(0),p=x(),f=[s("Your idea could become the next video here",o),s("Turn your request into part of {name}'s collection",o).replace("{name}",t)];m.useEffect(()=>{const e=()=>{"visible"===document.visibilityState&&g(0)};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[]),m.useEffect(()=>{if(f.length<=1)return;const e=setInterval(()=>{g(e=>(e+1)%f.length)},5e3);return()=>clearInterval(e)},[f.length,t]);const b=f[h];m.useEffect(()=>{if(e.length<=1)return;const t=setInterval(()=>{c(!1),setTimeout(()=>{l(t=>(t+1)%e.length),c(!0)},500)},5e3);return()=>clearInterval(t)},[e.length]);const y=e.length>0?e[i].replace("{creator}",t):`Your idea → ${t}'s next video`;return a.jsxs("div",{className:"mb-24",children:[a.jsx("h2",{className:"text-xl font-normal text-gray-900 mb-4 px-1",children:s("All Videos",o)}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 flex flex-col items-center text-center min-h-[280px] justify-center",children:[a.jsx("div",{className:"mb-6 text-gray-400",children:a.jsx(he,{name:"video",size:48,strokeWidth:1.5})}),a.jsx("h3",{className:"text-gray-400 text-lg mb-10",children:b}),a.jsx("button",{onClick:()=>{u(!0),setTimeout(()=>{p("/ideas"),r&&r()},120),setTimeout(()=>u(!1),420)},className:"w-full shimmer-gold text-black font-medium py-4 rounded-xl text-base shadow-sm hover:opacity-90 transition flex items-center justify-center "+(d?"scale-95 opacity-90":""),children:a.jsx("span",{className:"transition-opacity duration-500 "+(n?"opacity-100":"opacity-0"),children:y})})]})]})},Te=({profile:e,onUpdate:t,isPreviewMode:r,selectedLanguage:o="English"})=>{const[i,l]=m.useState(!1),[n,c]=m.useState(e?.bio||""),[d,x]=m.useState(e?.social||{twitter:"",instagram:""}),u=()=>{t("bio",n),t("social",d),l(!1)};return i?a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-normal text-gray-900 mb-4 px-1",children:s("About",o)}),a.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-2 text-sm",children:s("About You",o)}),a.jsx("div",{className:"bg-gray-100 rounded-xl px-4 py-3",children:a.jsx("textarea",{className:"bg-transparent w-full outline-none text-gray-900 text-base resize-none",rows:4,value:n,onChange:e=>c(e.target.value),autoFocus:!0})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-2 text-sm",children:s("Social Links (Optional)",o)}),a.jsxs("div",{className:"bg-gray-100 rounded-xl px-4 py-3 mb-3 flex items-center",children:[a.jsx(he,{name:"twitter",size:18,className:"text-gray-500 mr-3"}),a.jsx("input",{type:"text",placeholder:s("Twitter/X username (without @)",o),value:d.twitter,onChange:e=>x({...d,twitter:e.target.value}),className:"bg-transparent w-full outline-none text-gray-900 text-base"})]}),a.jsxs("div",{className:"bg-gray-100 rounded-xl px-4 py-3 flex items-center",children:[a.jsx(he,{name:"instagram",size:18,className:"text-gray-500 mr-3"}),a.jsx("input",{type:"text",placeholder:s("Instagram username (without @)",o),value:d.instagram,onChange:e=>x({...d,instagram:e.target.value}),className:"bg-transparent w-full outline-none text-gray-900 text-base"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsxs("button",{onClick:()=>l(!1),className:"px-4 py-2 rounded-lg border border-gray-200 text-gray-700 font-medium hover:bg-gray-50 flex items-center text-sm",children:[a.jsx(he,{name:"x",size:16,className:"mr-2"}),s("Cancel",o)]}),a.jsxs("button",{onClick:u,className:"px-6 py-2 rounded-lg bg-[var(--color-gold)] font-medium text-black hover:bg-[var(--color-gold-darker)] flex items-center shadow-sm text-sm",children:[a.jsx(he,{name:"save",size:16,className:"mr-2"}),s("Save",o)]})]})]})]}):a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 px-1",children:[a.jsx("h2",{className:"text-xl font-normal text-gray-900",children:s("About",o)}),!r&&a.jsxs("button",{onClick:()=>{c(e.bio),x(e.social||{twitter:"",instagram:""}),l(!0)},className:"flex items-center text-gray-900 font-medium text-sm hover:text-gray-600 transition",children:[a.jsx(he,{name:"pencilLine",size:16,className:"mr-1"}),s("Edit",o)]})]}),a.jsx("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:a.jsx("p",{className:"text-gray-800 leading-relaxed whitespace-pre-wrap",children:e.bio})})]})},Le=({profile:e,onCopy:t,selectedLanguage:r="English"})=>a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-3 relative overflow-hidden",style:{background:"linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.3)"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),a.jsx(he,{name:"share",size:20,className:"text-white relative z-10"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:s("Share Your Profile",r)}),a.jsx("p",{className:"text-gray-500 text-sm",children:s("Share your unique profile link",r)})]})]}),a.jsxs("button",{onClick:async()=>{const a=e?.handle||e?.id||e?.email||e?.name||"user",s=e?.name||e?.handle||"Creator",r=`${u}/share/profile/${encodeURIComponent(String(a).replace(/^@/,""))}`,o=`${s} on Regaarder`,i=`Check out ${s}'s profile on Regaarder — discover their content, ideas, and more!`,l={title:"Link Copied",subtitle:"Profile link copied to clipboard"};try{if(navigator&&navigator.share)return await navigator.share({title:o,text:i,url:r}),void(t&&t({title:"Shared",subtitle:"Profile shared successfully"}))}catch(n){if("AbortError"===n.name)return}try{if(!navigator.clipboard||!navigator.clipboard.writeText)throw new Error("Clipboard API unavailable");await navigator.clipboard.writeText(r),t&&t(l)}catch(n){try{const e=document.createElement("textarea");e.value=r,e.style.position="fixed",e.style.left="-9999px",e.style.top="0",document.body.appendChild(e),e.focus(),e.select();const a=document.execCommand("copy");document.body.removeChild(e),a&&t&&t(l)}catch(c){console.error("Failed to copy:",c)}}},className:"flex items-center px-4 py-2 border border-gray-200 rounded-xl text-sm font-medium text-gray-900 hover:bg-gray-50 transition whitespace-nowrap active:scale-95 active:bg-gray-100",children:[a.jsx(he,{name:"share",size:16,className:"mr-2"}),s("Share",r)]})]})}),ze=({data:e,onClose:t})=>{const[s,r]=m.useState(0),[o,i]=m.useState(!1),l=m.useRef(0),n=m.useRef(null);m.useEffect(()=>{const e=setTimeout(()=>{c()},3e3);return()=>clearTimeout(e)},[t]);const c=()=>{i(!0),setTimeout(()=>{t()},300)},d=()=>{Math.abs(s)>80?c():r(0),l.current=0,n.current&&(n.current.style.cursor="grab")};return e?a.jsxs("div",{ref:n,className:"fixed left-1/2 transform -translate-x-1/2 z-[100] flex items-center gap-3 px-4 py-3 rounded-2xl shadow-2xl min-w-[280px] max-w-[360px] transition-all duration-300 cursor-grab select-none backdrop-blur-xl "+(o?"opacity-0 scale-95 -translate-y-4":"opacity-100 scale-100"),style:{top:"calc(12px + env(safe-area-inset-top, 0px))",transform:`translateX(calc(-50% + ${s}px))`,animation:o?"none":"toastSlideDown 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(249, 250, 251, 0.95) 100%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04), inset 0 1px 0 rgba(255, 255, 255, 0.6)"},onTouchStart:e=>{l.current=e.touches[0].clientX},onTouchMove:e=>{const t=e.touches[0].clientX-l.current;r(t)},onTouchEnd:()=>{Math.abs(s)>80?c():r(0)},onMouseDown:e=>{l.current=e.clientX,n.current.style.cursor="grabbing"},onMouseMove:e=>{if(0===l.current)return;const t=e.clientX-l.current;r(t)},onMouseUp:d,onMouseLeave:d,children:[a.jsx("style",{children:"\n                @keyframes toastSlideDown {\n                    0% {\n                        opacity: 0;\n                        transform: translateX(-50%) translateY(-30px) scale(0.9);\n                    }\n                    50% {\n                        transform: translateX(-50%) translateY(5px) scale(1.02);\n                    }\n                    100% {\n                        opacity: 1;\n                        transform: translateX(-50%) translateY(0) scale(1);\n                    }\n                }\n                @keyframes checkPop {\n                    0% { transform: scale(0) rotate(-45deg); }\n                    50% { transform: scale(1.2) rotate(5deg); }\n                    100% { transform: scale(1) rotate(0deg); }\n                }\n                .toast-check-icon {\n                    animation: checkPop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) 0.2s backwards;\n                }\n            "}),a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsxs("div",{className:"w-10 h-10 rounded-full flex items-center justify-center relative overflow-hidden",style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.3)"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),a.jsx(he,{name:"check",size:18,className:"text-white relative z-10 toast-check-icon",strokeWidth:3})]}),a.jsx("div",{className:"absolute -inset-1 rounded-full animate-pulse",style:{background:"radial-gradient(circle, rgba(16, 185, 129, 0.2) 0%, transparent 70%)",animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}})]}),a.jsxs("div",{className:"flex-grow min-w-0",children:[a.jsx("h4",{className:"font-semibold text-sm text-gray-900 leading-tight",children:e.title}),e.subtitle&&a.jsx("p",{className:"text-gray-600 text-xs mt-0.5 leading-snug",children:e.subtitle})]})]}):null},Ae=({isOpen:e,onClose:t,profile:r,isPreview:o=!1,selectedLanguage:i="English"})=>{if(!e)return null;const[l,n]=m.useState(""),[c,d]=m.useState(null),[x,u]=m.useState(!1),[h,g]=m.useState("One Time"),[p,f]=m.useState(!1),b=()=>{if(c)return c;const e=Number(l);return e>0?e:null},y=!!b();return x?(window.location.href="https://www.paypal.com/ncp/payment/LABFRAJUV5B9J",null):a.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center px-4",children:[a.jsx("div",{className:o?"absolute inset-0 bg-black/90":"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative bg-white rounded-3xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in duration-200 max-h-[85vh] flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"p-6 pb-4 border-b border-gray-50 bg-white z-10 relative",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-[var(--color-gold)] font-semibold text-xl",children:"$"}),a.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold text-gray-900 tracking-tight",children:s("Send Tip",i)})]}),a.jsx("p",{className:"text-gray-600 text-sm sm:text-base leading-relaxed mt-1",children:s("Show your appreciation and support {name}'s work",i).replace("{name}",r.name)})]}),a.jsxs("div",{className:"overflow-y-auto p-5 pt-2 space-y-4 scrollbar-hide flex-1",children:[a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:a.jsx("img",{src:r.image||"https://placehold.co/400x400/e2e8f0/1e293b?text=User",alt:"Profile",className:"w-full h-full object-cover"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:s("Sending tip to",i)}),a.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:r.name})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("h3",{className:"text-gray-600 text-sm mb-2 font-medium",children:s("Select Tip Type",i)}),a.jsxs("button",{onClick:()=>f(!p),className:"w-full bg-white border border-gray-200 rounded-xl px-4 py-3 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[a.jsx("span",{className:"font-medium text-gray-900",children:h}),a.jsx(he,{name:p?"chevron-up":"chevron-down",size:20,className:"text-gray-400"})]}),p&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-lg z-20 overflow-hidden",children:[{label:"One Time",value:"One Time",multiplier:1},{label:"Monthly",value:"Monthly",multiplier:.8}].map(e=>a.jsxs("button",{onClick:()=>{g(e.value),f(!1)},className:"w-full px-4 py-3 text-left transition-colors flex justify-between items-center "+(h===e.value?"bg-[var(--color-gold-cream)] border-b border-gray-100":"hover:bg-gray-50 border-b border-gray-50 last:border-b-0"),children:[a.jsx("span",{className:"font-medium text-gray-900",children:e.label}),h===e.value&&a.jsx(he,{name:"check",size:18,className:"text-[var(--color-gold)]"})]},e.value))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-600 text-sm mb-2 font-medium",children:s("Quick Amount",i)}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:[5,10,25,50,100].map(e=>{const t=c===e;return a.jsx("button",{onClick:()=>{d(e),n("")},className:"rounded-xl py-3 flex flex-col items-center justify-center transition-colors border text-sm "+(t?"bg-[#173A66] text-white border-[#173A66]":"bg-gray-50 hover:bg-gray-100 border-gray-100"),children:a.jsxs("span",{className:"font-semibold",children:["$",e]})},e)})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-600 text-sm mb-2 font-medium",children:s("Custom Amount",i)}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("div",{className:"flex-grow bg-gray-50 border border-gray-200 rounded-xl px-3 py-2 flex items-center focus-within:border-[var(--color-gold)] transition-colors",children:[a.jsx("span",{className:"text-gray-400 mr-2 text-lg",children:"$"}),a.jsx("input",{type:"number",value:l,onChange:e=>{n(e.target.value),d(null)},className:"bg-transparent w-full outline-none text-gray-900 font-semibold text-sm",placeholder:s("Amount",i)})]})})]}),a.jsxs("div",{className:"bg-[var(--color-gold-cream)]/40 rounded-xl p-3 flex gap-3 border border-[var(--color-gold-cream)]/50 text-xs",children:[a.jsx("div",{className:"text-[var(--color-gold)] flex-shrink-0",children:a.jsx("div",{className:"w-6 h-6 bg-[var(--color-gold-cream)] rounded-md flex items-center justify-center",children:a.jsx("span",{className:"font-bold text-sm",children:"$"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-900 font-medium mb-0.5",children:s("100% to creator",i)}),a.jsx("p",{className:"text-gray-500 leading-snug",children:s("One Time"===h?"No fees, goes directly to support their work":"Monthly recurring, cancel anytime",i)})]})]}),a.jsx("div",{className:"sticky bottom-0 pt-3 bg-white border-t border-gray-100",children:a.jsx("button",{onClick:()=>{b()&&u(!0)},disabled:!y,className:"w-full px-4 py-3 rounded-2xl text-base font-semibold transition-colors focus:outline-none "+(y?"bg-gray-900 text-white hover:bg-gray-800":"bg-gray-100 text-gray-400 cursor-not-allowed"),children:y?`${s("Continue",i)} — $${b()||"0"} / ${h}`:s("Select an amount",i)})})]})]})]})},Ee=({isOpen:e,onClose:t,profile:r,onBecomeSponsor:o,onSendTip:i,customData:l,isPreview:n=!1,isSharedLink:c=!1,selectedLanguage:d="English"})=>{if(!e)return null;const u=(l?.title||s("{name} is waiting for you!",d)).replace(/{name}/g,r.name),h=(l?.message||s("Tell {name} what video(s) to create next",d)).replace(/{name}/g,r.name),g=(l?.ctaText||s("Tell {name}",d)).replace(/{name}/g,r.name),p=x(),[f,b]=m.useState(!1);return a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-0",children:[a.jsx("style",{children:"\n                @keyframes shine {\n                    0% { left: -100%; }\n                    20% { left: 100%; }\n                    100% { left: 100%; }\n                }\n                @keyframes shimmer-gold-premium {\n                    0% { background-position: 100% 0; }\n                    40% { background-position: 0% 0; }\n                    100% { background-position: 0% 0; }\n                }\n                @keyframes img-brighten {\n                    0% { filter: brightness(0.96) saturate(0.98); }\n                    40% { filter: brightness(1.12) saturate(1.03); }\n                    100% { filter: brightness(0.96) saturate(0.98); }\n                }\n                .shimmer-gold {\n                    background: linear-gradient(100deg, var(--color-gold) 0%, var(--color-gold) 42%, var(--color-gold-cream) 45%, var(--color-gold-cream) 55%, var(--color-gold) 58%, var(--color-gold) 100%);\n                    background-size: 300% 100%;\n                    animation: shimmer-gold-premium 3s ease-in-out infinite;\n                }\n                .img-shimmer {\n                    animation: img-brighten 3.5s ease-in-out infinite;\n                    will-change: filter;\n                }\n            "}),a.jsx("div",{className:n||c?"absolute inset-0 bg-black/90":"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:c?void 0:t}),a.jsxs("div",{className:"relative bg-white rounded-xl w-full max-w-md mx-4 px-6 py-8 sm:px-6 sm:py-8 shadow-2xl animate-in fade-in zoom-in duration-200 flex flex-col items-center",children:[!n&&!c&&a.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:a.jsx(he,{name:"x",size:24})}),a.jsx("div",{className:"mb-4 relative",children:a.jsx("div",{className:"w-28 h-28 rounded-full p-1 shadow-sm bg-transparent",children:a.jsx("div",{className:"w-full h-full rounded-full p-1 shimmer-gold",children:a.jsx("div",{className:"w-full h-full rounded-full border-4 border-white overflow-hidden bg-gray-200 relative",children:a.jsx("img",{src:r.image||"https://placehold.co/400x400/e2e8f0/1e293b?text=User",alt:"Profile",className:"w-full h-full object-cover img-shimmer"})})})})}),a.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold text-gray-900 text-center mb-2 tracking-tight leading-snug",children:u}),a.jsx("div",{className:"flex items-center justify-center mb-3 text-4xl","aria-hidden":"true",children:"🎬"}),a.jsx("p",{className:"text-gray-600 text-center text-base sm:text-lg font-normal whitespace-pre-wrap mb-6 max-w-[44rem] leading-relaxed",children:h}),r.price&&a.jsxs("div",{className:"bg-gray-100 text-gray-900 px-5 py-2 rounded-xl text-sm font-medium mb-4",children:[s("From",d)," $",r.price," USD"]}),a.jsxs("button",{className:"relative overflow-hidden w-full bg-[var(--color-gold)] text-white font-semibold py-4 rounded-full text-lg tracking-wide shadow-md hover:bg-[var(--color-gold-darker)] transition flex items-center justify-center mb-4 "+(f?"scale-95 opacity-90":""),onClick:()=>{const e={id:r.id||r.handle||r.name,name:r.name,handle:r.handle,displayName:r.name,photoURL:r.image,image:r.image,price:r.price||0};try{localStorage.setItem("ideas_selectedCreator_v1",JSON.stringify(e))}catch(t){console.warn("Failed to store creator data:",t)}b(!0),setTimeout(()=>{try{window.setFooterTab&&window.setFooterTab("ideas")}catch(t){}p("/ideas")},120)},"aria-label":g,children:[a.jsx("div",{className:"absolute top-0 h-full w-2/3 bg-gradient-to-r from-transparent via-white/30 to-transparent",style:{animation:"shine 6s infinite"}}),a.jsx(he,{name:"video",size:20,className:"mr-2 text-white relative z-10"}),a.jsx("span",{className:"relative z-10",children:g})]}),a.jsxs("div",{className:"flex gap-3 w-full mb-4 flex-nowrap",children:[a.jsxs("button",{onClick:i,className:"flex-1 min-w-0 border border-gray-200 rounded-full py-2 sm:py-3 flex items-center justify-center font-medium text-gray-700 hover:bg-gray-50 transition text-sm tracking-wide",children:[a.jsx(he,{name:"heart",size:18,className:"mr-2 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:s("Send Tip",d)})]}),a.jsxs("button",{onClick:o,className:"flex-1 min-w-0 border border-gray-200 rounded-full py-2 sm:py-3 flex items-center justify-center font-medium text-gray-700 hover:bg-gray-50 transition text-sm tracking-wide",children:[a.jsx(he,{name:"star",size:18,className:"mr-2 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:s("Become a Sponsor",d)})]})]}),!c&&a.jsx("button",{onClick:t,className:"text-gray-500 text-sm hover:text-gray-700 font-normal mt-1",children:s("Maybe later",d)})]})]})},_e=({isOpen:e,onClose:t,data:r,onSave:o,onPreview:i,isPreview:l=!1,selectedLanguage:n="English"})=>{if(!e)return null;const c=()=>({title:s("{name} is waiting for you! 🎬",n),message:s("Where should {name} go next?",n),ctaText:s("Tell {name}",n)}),[d,x]=m.useState(r||c()),u=(e,t)=>{x(a=>({...a,[e]:t}))};return a.jsxs("div",{className:"fixed inset-0 z-[90] flex items-end sm:items-center justify-center sm:px-4",children:[a.jsx("div",{className:l?"absolute inset-0 bg-black/90":"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative bg-white w-full max-w-md h-[90vh] sm:h-auto rounded-t-3xl sm:rounded-3xl shadow-2xl animate-in slide-in-from-bottom-full sm:zoom-in duration-300 flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"p-6 pb-2 bg-white z-10 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold text-gray-900 tracking-tight",children:s("Customize Welcome Popup",n)}),a.jsx("p",{className:"text-gray-600 text-sm sm:text-base leading-relaxed mt-1",children:s("Personalize the greeting message that fans see when they visit your profile",n)})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 p-1",children:a.jsx(he,{name:"x",size:24})})]}),a.jsxs("div",{className:"overflow-y-auto p-6 pt-4 space-y-4 scrollbar-hide pb-20",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("Title",n)}),a.jsx("div",{className:"bg-gray-100 rounded-xl px-4 py-3",children:a.jsx("input",{type:"text",value:d.title,onChange:e=>u("title",e.target.value),className:"bg-transparent w-full outline-none text-gray-900 font-medium",placeholder:s("Enter a title",n),autoFocus:!0})}),a.jsxs("div",{className:"text-right text-xs text-gray-400 mt-1",children:[d.title.length,"/60 ",s("characters",n)]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("Message",n)}),a.jsx("div",{className:"bg-gray-100 rounded-xl px-4 py-3",children:a.jsx("textarea",{value:d.message,onChange:e=>u("message",e.target.value),className:"bg-transparent w-full outline-none text-gray-900 resize-none font-medium",rows:3,placeholder:s("Enter your message",n)})}),a.jsxs("div",{className:"text-right text-xs text-gray-400 mt-1",children:[d.message.length,"/200 ",s("characters",n)]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("CTA Button Text",n)}),a.jsx("div",{className:"bg-gray-100 rounded-xl px-4 py-3",children:a.jsx("input",{type:"text",value:d.ctaText,onChange:e=>u("ctaText",e.target.value),className:"bg-transparent w-full outline-none text-gray-900 font-medium",placeholder:s("Enter CTA button text",n)})}),a.jsxs("div",{className:"text-right text-xs text-gray-400 mt-1",children:[d.ctaText.length,"/40 ",s("characters",n)]})]}),a.jsxs("div",{className:"flex gap-3 mt-auto",children:[a.jsxs("button",{onClick:()=>{x(c())},className:"flex-1 bg-white border border-gray-200 text-gray-700 font-semibold py-3 rounded-xl hover:bg-gray-50 transition flex items-center justify-center",children:[a.jsx(he,{name:"refresh",size:18,className:"mr-2"}),s("Reset",n)]}),a.jsxs("button",{onClick:()=>i(d),className:"flex-1 bg-white border border-gray-200 text-gray-700 font-semibold py-3 rounded-xl hover:bg-gray-50 transition flex items-center justify-center",children:[a.jsx(he,{name:"eye",size:18,className:"mr-2"}),s("Preview",n)]}),a.jsxs("button",{onClick:()=>{o(d),t()},className:"flex-grow flex items-center justify-center px-4 py-3 bg-[var(--color-gold)] rounded-xl text-sm font-bold text-black hover:bg-[var(--color-gold-darker)] transition shadow-sm",children:[a.jsx(he,{name:"save",size:18,className:"mr-2"}),"Save"]})]})]})]})]})},Pe=({isOpen:e,onClose:t,profile:r,isPreview:o=!1,selectedLanguage:i="English"})=>{if(!e)return null;const l=[{name:s("Support",i),price:"5",description:s("Help me create more content",i),perks:[s("Early access to videos",i),s("Supporter badge",i)]},{name:s("Enthusiast",i),price:"15",description:s("Show your enthusiasm",i),perks:[s("All Support perks",i),s("Monthly Q&A access",i),s("Name in credits",i)]},{name:s("Patron",i),price:"50",description:s("Become a patron",i),perks:[s("All Enthusiast perks",i),s("1-on-1 consultation (quarterly)",i),s("Custom video request priority",i)],popular:!0}],[n,c]=m.useState(null),[d,x]=m.useState(""),[u,h]=m.useState(""),[g,p]=m.useState(!1),[f,b]=m.useState(null),y=!!n||Number(d)>0,v=n?l.find(e=>e.name===n)?.price||null:Number(d)>0?d:null,w=async(e,t)=>{if(t&&!(Number(t)<=0)){p(!0),b(null);try{const a=window&&window.__BACKEND_URL__?window.__BACKEND_URL__:"https://pwin.onrender.com",r=localStorage.getItem("authToken");if(!r)return b(s("Please log in to continue",i)),void p(!1);const o=await fetch(`${a}/payment/init`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({amount:Number(t),paymentType:"subscription",subscriptionTier:n||"custom",paymentMode:"monthly"===e?"monthly":"one-time"})});if(!o.ok)throw new Error("Failed to initialize payment session");const l=(await o.json()).sessionId;localStorage.setItem("pending_payment_session",JSON.stringify({sessionId:l,amount:Number(t),tier:n||"custom",mode:"monthly"===e?"monthly":"one-time",timestamp:Date.now()})),console.log("✅ Payment session initialized:",l),window.location.href="https://www.paypal.com/ncp/payment/XWKNU42XM5ZPQ"}catch(a){console.error("Payment initialization error:",a),b(a.message||s("Payment failed. Please try again.",i)),p(!1)}}};return a.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center px-4",children:[a.jsx("div",{className:o?"absolute inset-0 bg-black/90":"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative bg-white rounded-3xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in duration-200 max-h-[85vh] flex flex-col overflow-hidden",children:[a.jsx("div",{className:"p-4 pb-3 border-b border-gray-50 bg-white z-10 relative",children:a.jsxs("div",{className:"text-center px-4",children:[a.jsx("h2",{className:"text-lg sm:text-2xl md:text-3xl font-semibold text-gray-900 tracking-tight leading-tight",children:s("Become a Sponsor",i)}),a.jsx("p",{className:"text-gray-600 text-sm sm:text-base leading-relaxed mt-1 max-w-[90%] mx-auto",children:s("Support {name} and get exclusive perks",i).replace("{name}",r.name)})]})}),a.jsxs("div",{className:"overflow-y-auto p-5 pt-2 space-y-3 scrollbar-hide flex-1",children:[f&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 flex gap-3",children:[a.jsx(he,{name:"alert-circle",size:18,className:"text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-red-700 text-sm",children:f})]}),a.jsx("div",{className:"grid grid-cols-3 gap-2 mb-3",children:l.map(e=>{const t=n===e.name;return a.jsxs("button",{type:"button",onClick:()=>c(e.name),"aria-pressed":t,"aria-label":`${e.name} tier ${e.price} dollars per month`,className:`relative p-3 rounded-xl flex flex-col items-center justify-center text-center transition-shadow focus:outline-none ${t?"bg-[#173A66] text-white shadow-lg ring-2 ring-[#173A66]":"bg-white border border-gray-200 hover:shadow-sm hover:bg-gray-50"} focus:ring-2 focus:ring-[#173A66] focus:ring-offset-2`,children:[e.popular&&a.jsx("div",{className:"absolute -top-1.5 right-1 text-[9px] bg-[var(--color-gold-cream)] text-[var(--color-gold)] px-1.5 py-0.5 rounded-full font-bold",children:s("Popular",i)}),a.jsx("div",{className:"text-xs font-medium truncate",children:e.name}),a.jsxs("div",{className:"text-lg font-extrabold mt-1 "+(t?"text-white":"text-gray-900"),children:["$",e.price]})]},e.name)})}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:s("Custom Amount",i)}),a.jsx("div",{className:"text-xs text-gray-400",children:s("/month",i)})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("div",{className:"flex-grow bg-gray-50 border border-gray-200 rounded-xl px-3 py-2 flex items-center focus-within:border-[#173A66] transition-colors",children:[a.jsx("span",{className:"text-gray-400 mr-2 text-sm",children:"$"}),a.jsx("input",{type:"number",value:d,onChange:e=>{x(e.target.value),c(null)},className:"bg-transparent w-full outline-none text-gray-900 font-medium text-sm",placeholder:"0"})]})})]}),a.jsxs("div",{className:"mb-2 border border-gray-200 rounded-xl p-3 bg-white shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:s("One-time Tip",i)}),a.jsx("div",{className:"text-xs text-gray-400",children:s("Optional",i)})]}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsxs("div",{className:"flex-grow bg-gray-50 border border-gray-200 rounded-xl px-3 py-2 flex items-center focus-within:border-[#173A66] transition-colors",children:[a.jsx("span",{className:"text-gray-400 mr-2 text-sm",children:"$"}),a.jsx("input",{type:"number",value:u,onChange:e=>h(e.target.value),className:"bg-transparent w-full outline-none text-gray-900 font-medium text-sm",placeholder:"0"})]}),a.jsx("button",{type:"button",onClick:()=>w("one-time",u),disabled:!u||Number(u)<=0||g,className:"px-3 py-2 rounded-lg text-xs transition-colors "+(u&&Number(u)>0&&!g?"bg-[var(--color-gold-light-bg)] text-black font-semibold hover:bg-[var(--color-gold-darker)]":"bg-gray-100 text-gray-400 cursor-not-allowed"),children:s(g?"Processing...":"Send",i)})]})]}),a.jsx("div",{className:"sticky bottom-0 pt-3 bg-white border-t border-gray-100",children:a.jsx("button",{type:"button",onClick:()=>w("monthly",v),disabled:!y||g,className:"w-full px-4 py-3 rounded-2xl text-base font-semibold transition-colors focus:outline-none "+(y&&!g?"bg-gray-900 text-white hover:bg-gray-800":"bg-gray-100 text-gray-400 cursor-not-allowed"),children:g?`${s("Processing",i)}...`:y?`${s("Continue",i)} — $${v} / ${s("mo",i)}`:s("Select amount",i)})})]})]})]})},Oe=({onClose:e,profile:t,onUpdate:r,isPreview:o=!1})=>{const[i,l]=m.useState(null),[n,c]=m.useState(t.tagline||""),[d,x]=m.useState(t.price||""),[u,h]=m.useState(t.email||""),[g,p]=m.useState(!1),[f,b]=m.useState(!1),y=!!n,v=!!d&&Number(d)>=7,w=!!t.emailVerified;m.useRef(null);return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-2",children:[a.jsx("div",{className:o?"absolute inset-0 bg-black/90":"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),a.jsxs("div",{className:"relative bg-white rounded-2xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in duration-200",style:{maxHeight:"90vh",minHeight:"480px"},children:[a.jsx("div",{className:"px-6 pt-6 pb-2 flex items-center justify-between",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(he,{name:"sparkles",size:22,className:"text-[var(--color-gold)]"}),a.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold text-gray-900 tracking-tight",children:s("Complete Your Profile",selectedLanguage)})]}),a.jsx("div",{className:"text-gray-600 text-sm sm:text-base font-normal leading-relaxed",children:s("Fill in all fields to maximize your profile visibility and attract more fans",selectedLanguage)})]})}),a.jsx("div",{className:"px-6 pt-2 pb-2",children:a.jsx("div",{className:"w-full h-0.5 bg-gradient-to-r from-transparent via-[var(--color-gold)] to-transparent rounded-full"})}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-4 pt-2 scrollbar-hide",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("span",{className:"text-gray-900 font-normal text-base",children:s("Tagline (optional)",selectedLanguage)}),a.jsx("div",{className:"flex items-center mt-1",children:"tagline"===i?a.jsx("input",{type:"text",value:n,onChange:e=>c(e.target.value),className:"w-full bg-gray-100 rounded-xl px-4 py-3 outline-none text-gray-900 font-normal",placeholder:s("Not set",selectedLanguage),autoFocus:!0}):a.jsx("div",{className:"flex w-full items-center",children:a.jsx("div",{className:"flex-grow bg-gray-100 rounded-xl px-4 py-3 text-gray-900 font-normal",children:n||a.jsx("span",{className:"text-gray-400",children:s("Not set",selectedLanguage)})})})}),"tagline"===i&&a.jsxs("div",{className:"flex gap-2 mt-2 justify-end",children:[a.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 rounded-lg border border-gray-200 text-gray-700 text-sm font-normal",children:s("Cancel",selectedLanguage)}),a.jsx("button",{onClick:()=>{r("tagline",n),l(null)},className:"px-4 py-2 rounded-lg bg-[var(--color-gold)] text-white font-bold text-sm",children:s("Save Tagline",selectedLanguage)})]}),a.jsx("div",{className:"flex items-center mt-2",children:!y&&a.jsx(he,{name:"alertCircle",size:18,className:"text-gray-400 mr-1"})}),a.jsxs("button",{className:"w-full bg-white border border-gray-200 rounded-xl py-2 mt-2 flex items-center justify-center font-medium text-gray-700 hover:bg-gray-50 transition",onClick:()=>l("tagline"),children:[a.jsx(he,{name:"pencilLine",size:18,className:"mr-2"}),s("Edit Tagline",selectedLanguage)]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("span",{className:"text-gray-900 font-normal text-base",children:s("Price per Request (min. $7 USD)",selectedLanguage)}),a.jsx("div",{className:"flex items-center mt-1",children:"price"===i?a.jsx("input",{type:"number",value:d,onChange:e=>x(e.target.value),className:"w-full bg-gray-100 rounded-xl px-4 py-3 outline-none text-gray-900 font-normal",placeholder:"Not set (min. $7.00)",min:7,autoFocus:!0}):a.jsx("div",{className:"flex w-full items-center",children:a.jsx("div",{className:"flex-grow bg-gray-100 rounded-xl px-4 py-3 text-gray-900 font-normal",children:d?`$${d}`:a.jsx("span",{className:"text-gray-400",children:s("Not set (min. $7.00)",selectedLanguage)})})})}),"price"===i&&a.jsxs("div",{className:"flex gap-2 mt-2 justify-end",children:[a.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 rounded-lg border border-gray-200 text-gray-700 text-sm font-normal",children:s("Cancel",selectedLanguage)}),a.jsx("button",{onClick:()=>{r("price",d),l(null)},className:"px-4 py-2 rounded-lg bg-[var(--color-gold)] text-white font-bold text-sm",children:s("Save Price",selectedLanguage)})]}),a.jsx("div",{className:"flex items-center mt-2",children:!v&&a.jsx(he,{name:"alertCircle",size:20,className:"text-orange-400 mr-1"})}),a.jsxs("button",{className:"w-full bg-white border border-gray-200 rounded-xl py-2 mt-2 flex items-center justify-center font-medium text-gray-700 hover:bg-gray-50 transition",onClick:()=>l("price"),children:[a.jsx(he,{name:"pencilLine",size:18,className:"mr-2"}),s("Edit Price",selectedLanguage)]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("span",{className:"text-gray-900 font-normal text-base",children:s("Email Verification",selectedLanguage)}),a.jsxs("div",{className:"flex items-center mt-1",children:[a.jsx("div",{className:"flex-grow bg-gray-100 rounded-xl px-4 py-3 text-gray-900 font-normal",children:w?s("Email verified",selectedLanguage):f?a.jsxs("span",{className:"text-green-600",children:[s("Verification sent to",selectedLanguage)," ",u]}):g?a.jsx("input",{type:"email",value:u,onChange:e=>h(e.target.value),className:"bg-transparent w-full outline-none text-gray-900",placeholder:s("Enter your email",selectedLanguage),autoFocus:!0}):a.jsx("span",{className:"text-gray-400",children:s("Email not verified yet",selectedLanguage)})}),!w&&a.jsx(he,{name:"alertCircle",size:20,className:"text-orange-400 ml-2"})]}),!w&&!g&&!f&&a.jsxs("button",{className:"w-full bg-white border border-gray-200 rounded-xl py-2 mt-2 flex items-center justify-center font-medium text-gray-700 hover:bg-gray-50 transition",onClick:()=>p(!0),children:[a.jsx(he,{name:"mail",size:18,className:"mr-2"}),s("Verify Email",selectedLanguage)]}),g&&!w&&a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx("button",{className:"px-4 py-2 rounded-lg border border-gray-200 text-gray-700 text-sm font-normal",onClick:()=>p(!1),children:s("Cancel",selectedLanguage)}),a.jsx("button",{className:"px-4 py-2 rounded-lg bg-[var(--color-gold)] text-white font-bold text-sm",onClick:()=>{u&&(b(!0),setTimeout(()=>b(!1),3e3),r("email",u))},disabled:!u,children:s("Send Verification",selectedLanguage)})]}),f&&a.jsx("div",{className:"text-green-600 text-sm mt-2",children:s("Verification email sent!",selectedLanguage)})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-100 bg-white",children:[a.jsxs("button",{onClick:e,className:"px-4 py-2 rounded-lg border border-gray-200 text-gray-700 text-sm font-normal flex items-center",children:[a.jsx(he,{name:"x",size:18,className:"mr-1"}),s("Exit",selectedLanguage)]}),a.jsxs("button",{onClick:()=>{r("tagline",n),r("price",d),e()},className:"px-6 py-2 rounded-lg bg-[var(--color-gold)] text-white font-bold text-sm flex items-center gap-2",children:[a.jsx(he,{name:"save",size:18,className:"mr-1"}),s("Save",selectedLanguage)]})]})]})]})},We=()=>{const[e,r]=m.useState(()=>localStorage.getItem("regaarder_language")||"English");m.useEffect(()=>{const e=()=>{const e=localStorage.getItem("regaarder_language")||"English";r(e)};return window.addEventListener("languageChanged",e),()=>window.removeEventListener("languageChanged",e)},[]);const[o,i]=m.useState(!1),[l,n]=m.useState(!1),[c,d]=m.useState(!1),[x,u]=m.useState(!1),[h,g]=m.useState(!1),[p,f]=m.useState(!1),[b,y]=m.useState(!1),[v,w]=m.useState(!1),[j,N]=m.useState(!1),[k,C]=m.useState(null),[S,T]=m.useState(null),[L,z]=m.useState({name:"Nejdkr",handle:"nejdkr",bio:"Exploring human motivation through real-world experiments",tag:"general",price:"50",tagline:"",social:{twitter:"",instagram:""},email:""}),[A,E]=m.useState(null),[_,P]=m.useState(null),[O,W]=m.useState(!1);m.useEffect(()=>{let e;if(o){e=setTimeout(()=>{u(!0)},O?500:1e3)}return()=>clearTimeout(e)},[o,O]),m.useEffect(()=>{"true"===new URLSearchParams(window.location.search||"").get("request")&&!O&&(i(!0),W(!0))},[O]),m.useEffect(()=>{(async()=>{try{const t=new URLSearchParams(window.location.search||""),a=t.get("id"),s=t.get("handle")||t.get("h"),r=window.location.pathname.startsWith("/@")?window.location.pathname.slice(2).split("?")[0]:null,o="true"===t.get("shared")||"true"===t.get("request"),l=window&&window.__BACKEND_URL__||"https://pwin.onrender.com",c=r||s;o&&(i(!0),W(!0));const d=(()=>{try{return JSON.parse(localStorage.getItem("regaarder_user")||"null")}catch(e){return null}})(),m=async(e,t)=>{let a;if(e)a=await fetch(`${l}/users/${encodeURIComponent(e)}`);else if(t){const e=String(t).trim().replace(/^@/,"");a=await fetch(`${l}/users/handle/${encodeURIComponent(e)}`)}if(!a||!a.ok)return null;const s=await a.json();if(!s||!s.user)return null;const r={...s.user};if(r.image&&String(r.image).startsWith("blob:")&&(r.image=""),r.image)try{const e=new URL(r.image);window&&window.location&&window.location.protocol&&(e.protocol=window.location.protocol),r.image=e.toString()}catch(o){}r.document&&String(r.document).startsWith("blob:")&&(r.document="");try{const e=await fetch(`${l}/videos`);if(e.ok){const t=await e.json(),a=(Array.isArray(t)?t:t.videos||[]).filter(e=>e.authorId===r.id||e.authorId===r.email||e.author&&e.author.toLowerCase()===(r.name||"").toLowerCase()),s=a.reduce((e,t)=>e+(parseInt(t.views)||0),0),o=a.reduce((e,t)=>e+(parseInt(t.comments)||0),0);r.views=s,r.comments=o,r.videoCount=a.length}}catch(o){console.error("Error fetching videos for stats:",o)}return r};if(a)try{const t=await m(a,null);if(t){z(e=>({...e,...t}));const a=d&&(d.id===t.id||d.email===t.email||d.name&&d.name.toLowerCase()===t.name.toLowerCase());if(n(a),t.introVideo&&T({url:t.introVideo}),t.categories&&Array.isArray(t.categories))try{$(t.categories)}catch(e){}return}}catch(e){}if(c)try{const t=await m(null,c);if(t){z(e=>({...e,...t}));const a=d&&(d.id===t.id||d.email===t.email||d.name&&d.name.toLowerCase()===t.name.toLowerCase());if(n(a),t.introVideo&&T({url:t.introVideo}),t.categories&&Array.isArray(t.categories))try{$(t.categories)}catch(e){}return}}catch(e){}try{const t=JSON.parse(localStorage.getItem("regaarder_user")||"null");if(t&&"object"==typeof t){const a={...t};if(a.image&&String(a.image).startsWith("blob:")&&(a.image=""),a.image)try{const e=new URL(a.image);window&&window.location&&window.location.protocol&&(e.protocol=window.location.protocol),a.image=e.toString()}catch(e){}a.document&&String(a.document).startsWith("blob:")&&(a.document="");try{const e=await fetch(`${l}/videos`);if(e.ok){const t=await e.json(),s=(Array.isArray(t)?t:t.videos||[]).filter(e=>e.authorId===a.id||e.authorId===a.email||e.author&&e.author.toLowerCase()===(a.name||"").toLowerCase());a.views=s.reduce((e,t)=>e+(parseInt(t.views)||0),0),a.comments=s.reduce((e,t)=>e+(parseInt(t.comments)||0),0),a.videoCount=s.length}}catch(e){console.error("Error fetching videos for stats:",e)}if(z(e=>({...e,...a})),n(!0),t.introVideo&&T({url:t.introVideo}),t.categories&&Array.isArray(t.categories))try{$(t.categories)}catch(e){}}}catch(e){}localStorage.getItem("regaarder_token")||(console.info("No authentication token found. You can still edit your profile locally, but changes won't sync to the server until you log in."),setTimeout(()=>{C({title:"Local Mode",subtitle:"Profile edits saved locally. Login to sync across devices."})},2e3))}catch(t){}})()},[]),m.useEffect(()=>{const e=setInterval(async()=>{try{if(!L.id)return;const e=window&&window.__BACKEND_URL__||"https://pwin.onrender.com",t=await fetch(`${e}/users/${encodeURIComponent(L.id)}`);if(t.ok){const e=await t.json();if(e&&e.user){const t={};void 0!==e.user.followers&&(t.followers=e.user.followers),void 0!==e.user.views&&(t.views=e.user.views),void 0!==e.user.comments&&(t.comments=e.user.comments),Object.keys(t).length>0&&z(e=>({...e,...t}))}}}catch(e){console.error("Error refreshing profile stats:",e)}},3e3);return()=>clearInterval(e)},[L.id]),m.useEffect(()=>{const e=async()=>{if(l)console.log("Stats refresh skipped: viewing own profile");else try{const e=window&&window.__BACKEND_URL__||"https://pwin.onrender.com",t=await fetch(`${e}/videos`);if(t.ok){const e=await t.json(),a=(Array.isArray(e)?e:e.videos||[]).filter(e=>e.authorId===L.id||e.authorId===L.email||e.author&&e.author.toLowerCase()===(L.name||"").toLowerCase()),s=a.reduce((e,t)=>e+(parseInt(t.views)||0),0),r=a.reduce((e,t)=>e+(parseInt(t.comments)||0),0);z(e=>({...e,views:s,comments:r,videoCount:a.length}))}}catch(e){console.error("Error refreshing stats:",e)}},t=t=>{console.log("Comment event detected, refreshing stats:",t.detail),e()},a=t=>{console.log("Watch history updated, refreshing stats"),e()};return window.addEventListener("request:comment_added",t),window.addEventListener("watchhistory:updated",a),()=>{window.removeEventListener("request:comment_added",t),window.removeEventListener("watchhistory:updated",a)}},[L.id,L.email,L.name,l]);const[F,$]=m.useState([{id:"custom",name:"Your Templates",icon:"user",count:0,isOpen:!0,templates:[]},{id:"default",name:"Default",icon:"sparkles",count:1,isOpen:!0,templates:[{id:1,text:"Tell {creator} what video(s) to create next",selected:!1},{id:2,text:"Your idea → {creator}'s next video",selected:!0}]},{id:"premium",name:"Premium & Elegant",emoji:"🎩",description:"Sophisticated, refined tone for artistic creators",isOpen:!1,templates:[{id:"p1",label:"Work with a creator you admire",text:"Commission a video from {creator}",selected:!1},{id:"p2",label:"Your idea → {creator}'s next video",text:"Inspire {creator}'s next creation",selected:!1},{id:"p3",text:"Collaborate with {creator} on a new video",selected:!1},{id:"p4",text:"Shape {creator}'s next masterpiece",selected:!1}]},{id:"personal",name:"Personal & Ownership",emoji:"🤝",description:"Triggers co-creation feelings and influence",isOpen:!1,templates:[{id:"po1",label:"You decide what happens next",text:"Make {creator} create your idea",selected:!1},{id:"po2",text:"You decide what {creator} creates next",selected:!1},{id:"po3",label:"Your influence, their creation",text:"Be part of {creator}'s next video",selected:!1},{id:"po4",text:"Turn your idea into {creator}'s next release",selected:!1}]},{id:"action",name:"Action-Oriented",icon:"zap",description:"Exciting, energetic marketing-style CTAs",isOpen:!1,templates:[{id:"ao1",label:"Ready to see your idea come to life?",text:"Get your custom video from {creator} now",selected:!1},{id:"ao2",text:"Start your request — {creator} is taking ideas",selected:!1},{id:"ao3",text:"Send your idea — {creator} might make it next!",selected:!1},{id:"ao4",text:"Your story could become {creator}'s next video",selected:!1},{id:"ao5",text:"Pitch your idea — watch {creator} bring it to life",selected:!1}]},{id:"weekend",name:"Weekend / Emotional",emoji:"🌅",description:"Netflix-like, entertainment-focused prompts",isOpen:!1,templates:[{id:"w1",text:"What do you want to watch {creator} create this weekend?",selected:!1},{id:"w2",text:"Tell {creator} your idea",selected:!1},{id:"w3",text:"Request from {creator}",selected:!1},{id:"w4",text:"{creator} is taking requests",selected:!1},{id:"w5",text:"Your weekend idea — {creator}'s next creation",selected:!1},{id:"w6",text:"What should {creator} film next for you?",selected:!1},{id:"w7",text:"Need something new to watch? Ask {creator} to create it",selected:!1},{id:"w8",text:"What's the next video you'd love {creator} to make?",selected:!1}]},{id:"conversational",name:"Conversational",icon:"message",description:"Warm, human, and effortless tone",isOpen:!1,templates:[{id:"c1",text:"What do you want {creator} to make next?",selected:!1},{id:"c2",text:"Got a topic you'd love {creator} to cover?",selected:!1},{id:"c3",text:"Your idea could be {creator}'s next video",selected:!1},{id:"c4",text:"Ask {creator} to bring your idea to life",selected:!1},{id:"c5",text:"What would you love to see {creator} create?",selected:!1},{id:"c6",text:"Tell {creator} your idea — they'll make it happen",selected:!1},{id:"c7",text:"You imagine it. {creator} creates it.",selected:!1},{id:"c8",text:"Let's turn your idea into {creator}'s next hit",selected:!1}]},{id:"playful",name:"Playful & Light",emoji:"🪄",description:"Fun, softly persuasive approach",isOpen:!1,templates:[{id:"pl1",text:"Got a wild idea? Drop it for {creator}",selected:!1},{id:"pl2",text:"Give {creator} a challenge — what should they make?",selected:!1},{id:"pl3",text:"Your wish, {creator}'s camera",selected:!1},{id:"pl4",text:"Go on, make {creator} work for it 😉",selected:!1},{id:"pl5",text:"You think it, {creator} films it",selected:!1},{id:"pl6",text:"One click away from seeing your idea come alive",subtext:"Request from {creator}",selected:!1},{id:"pl7",text:"Inspire {creator}'s next upload",selected:!1},{id:"pl8",text:"Start something new with {creator} today",selected:!1}]},{id:"entertainment",name:"Entertainment",emoji:"🎬",description:"Fun, engaging content for everyone",isOpen:!1,templates:[{id:"ent1",text:"What should {creator} react to next?",selected:!1},{id:"ent2",text:"Suggest a movie or show for {creator} to review",selected:!1}]},{id:"educational",name:"Educational",emoji:"📚",description:"Perfect for educators and explainers",isOpen:!1,templates:[{id:"t1",text:"Got a tech problem? Ask {creator} to break it down",selected:!1},{id:"t2",text:"What gadget or tool should {creator} review next?",selected:!1},{id:"t3",text:"Let {creator} explain the tech behind your favorite thing",selected:!1},{id:"t4",text:"Your question → {creator}'s next tech deep dive",selected:!1},{id:"t5",text:"Curious about how something works? Ask {creator}",selected:!1},{id:"t6",text:"Tell {creator} which tech mystery to uncover",selected:!1},{id:"t7",text:"Your idea could power {creator}'s next innovation video",selected:!1},{id:"t8",text:"What should {creator} decode next in tech?",selected:!1},{id:"t9",text:"Tech confusing you? Let {creator} make sense of it",selected:!1},{id:"t10",text:"Give {creator} a tech challenge — what should they test?",selected:!1}]},{id:"diy",name:"DIY / Science",emoji:"🧬",description:"Curiosity + excitement + creation for makers",isOpen:!1,templates:[{id:"d1",text:"What experiment should {creator} try next?",selected:!1},{id:"d2",text:"Got a crazy idea? Let {creator} test it!",selected:!1},{id:"d3",text:"Tell {creator} what to build or blow up (safely)",selected:!1},{id:"d4",text:"Your curiosity → {creator}'s next experiment",selected:!1},{id:"d5",text:"Let {creator} bring your science idea to life",selected:!1},{id:"d6",text:"What if {creator} tested your theory next?",selected:!1},{id:"d7",text:"Got a DIY hack in mind? Share it with {creator}",selected:!1},{id:"d8",text:"You imagine it. {creator} builds it.",selected:!1},{id:"d9",text:"Your idea might just explode — in a good way",subtext:"Share with {creator}",selected:!1},{id:"d10",text:"Ask {creator} to turn your idea into a science project",selected:!1}]},{id:"debates",name:"Debates / Philosophy",emoji:"🗣️",description:"Thought leadership + perspective + dialogue",isOpen:!1,templates:[{id:"db1",text:"Let {creator} unpack your big question",selected:!1},{id:"db2",text:"What issue should {creator} dive into next?",selected:!1},{id:"db3",text:"Join the conversation — what should {creator} discuss?",selected:!1},{id:"db4",text:"Your idea could spark {creator}'s next debate",selected:!1},{id:"db5",text:"What truth do you want {creator} to tackle?",selected:!1},{id:"db6",text:"Got a topic {creator} should debate next?",selected:!1},{id:"db7",text:"What question deserves {creator}'s take?",selected:!1},{id:"db8",text:"Tell {creator} which side you want them to argue",selected:!1},{id:"db9",text:"Your question → {creator}'s next discussion",selected:!1},{id:"db10",text:"Challenge {creator} — what should they debate?",selected:!1}]},{id:"creative",name:"Creative / Art",emoji:"🎨",description:"Inspiration + collaboration + beauty",isOpen:!1,templates:[{id:"cr1",text:"Got a concept {creator} should turn into art?",selected:!1},{id:"cr2",text:"Tell {creator} what to create next — song, sketch, or scene",selected:!1},{id:"cr3",text:"Your vision → {creator}'s next masterpiece",selected:!1},{id:"cr4",text:"What should {creator} draw, compose, or craft?",selected:!1},{id:"cr5",text:"Inspire {creator}'s next creative work",selected:!1},{id:"cr6",text:"Let {creator} bring your imagination to life",selected:!1},{id:"cr7",text:"You dream it, {creator} makes it",selected:!1},{id:"cr8",text:"Your emotion → {creator}'s next piece",selected:!1},{id:"cr9",text:"Co-create something beautiful with {creator}",selected:!1},{id:"cr10",text:"Share an idea, and let {creator} create around it",selected:!1}]},{id:"academic",name:"Educational / Academic",emoji:"🎓",description:"Clarity + curiosity + learning satisfaction",isOpen:!1,templates:[{id:"ac1",text:"Tell {creator} what you want to learn next",selected:!1},{id:"ac2",text:"What concept should {creator} break down for you?",selected:!1},{id:"ac3",text:"Turn your confusion into {creator}'s next explainer",selected:!1},{id:"ac4",text:"Ask {creator} to teach what you've always wondered",selected:!1},{id:"ac5",text:"Your question starts the next lesson",subtext:"Ask {creator}",selected:!1},{id:"ac6",text:"Got a topic you want {creator} to explain?",selected:!1},{id:"ac7",text:"Ask {creator} to simplify something complex",selected:!1},{id:"ac8",text:"Your question could become {creator}'s next lesson",selected:!1},{id:"ac9",text:"Let {creator} turn your curiosity into a clear answer",selected:!1},{id:"ac10",text:"What topic should {creator} make easier to understand?",selected:!1}]},{id:"travel",name:"Travel / Culture",emoji:"🌍",description:"Discovery + immersion + wonder",count:2,isOpen:!1,templates:[{id:"tr1",text:"Where should {creator} go next?",selected:!1},{id:"tr2",text:"Tell {creator} what place or story to explore",selected:!1},{id:"tr3",text:"Your curiosity → {creator}'s next destination",selected:!1},{id:"tr4",text:"What culture should {creator} uncover next?",selected:!1},{id:"tr5",text:"Suggest {creator}'s next adventure",selected:!1},{id:"tr6",text:"Got a place you wish you could visit? Send {creator}",selected:!1},{id:"tr7",text:"Let {creator} capture your story idea on the road",selected:!1},{id:"tr8",text:"What story from the world should {creator} tell?",selected:!1},{id:"tr9",text:"Your idea could guide {creator}'s next journey",selected:!1},{id:"tr10",text:"Point {creator}'s camera to your curiosity",selected:!1}]},{id:"motivation",name:"Motivation / Lifestyle",emoji:"❤️",description:"Inspiration + empathy + relatability",isOpen:!1,templates:[{id:"m1",text:"Let {creator} create something meaningful for you",selected:!1},{id:"m2",text:"Your idea → {creator}'s next motivation video",selected:!1},{id:"m3",text:"What story should {creator} tell to lift others?",selected:!1},{id:"m4",text:"You share. {creator} inspires.",selected:!1},{id:"m5",text:"Your experience could spark {creator}'s next message",selected:!1},{id:"m6",text:"What topic should {creator} inspire next?",selected:!1},{id:"m7",text:"Got a life question? Ask {creator} to talk about it",selected:!1},{id:"m8",text:"Your struggle could inspire {creator}'s next video",selected:!1},{id:"m9",text:"Tell {creator} what message people need to hear",selected:!1},{id:"m10",text:"What truth should {creator} share next?",selected:!1}]},{id:"podcasts",name:"Podcasts & Conversations",emoji:"🎙️",description:"Curiosity + intimacy + authenticity",isOpen:!1,templates:[{id:"pc1",text:"What topic should {creator} discuss next?",selected:!1},{id:"pc2",text:"Who do you want {creator} to talk with?",selected:!1},{id:"pc3",text:"Got a deep question? Let {creator} unpack it",selected:!1},{id:"pc4",text:"Your question → {creator}'s next podcast episode",selected:!1},{id:"pc5",text:"Which conversation should {creator} start?",selected:!1},{id:"pc6",text:"Tell {creator} what voices need to be heard",selected:!1},{id:"pc7",text:"What idea should {creator} debate next?",selected:!1},{id:"pc8",text:"Request a one-on-one talk on your favorite topic",selected:!1},{id:"pc9",text:"Your idea could become {creator}'s next dialogue",selected:!1},{id:"pc10",text:"What discussion do you want {creator} to open up?",selected:!1}]},{id:"journalistic",name:"Journalistic Investigations",emoji:"🕵️",description:"Intrigue + justice + curiosity",isOpen:!1,templates:[{id:"j1",text:"What story should {creator} investigate next?",selected:!1},{id:"j2",text:"Which mystery do you want {creator} to uncover?",selected:!1},{id:"j3",text:"Got a lead or hidden truth? Send it to {creator}",selected:!1},{id:"j4",text:"Tell {creator} what deserves a spotlight",selected:!1},{id:"j5",text:"Your curiosity → {creator}'s next investigation",selected:!1},{id:"j6",text:"What issue should {creator} expose next?",selected:!1},{id:"j7",text:"Help {creator} reveal what's been ignored",selected:!1},{id:"j8",text:"Which hidden story should {creator} chase?",selected:!1},{id:"j9",text:"Request {creator} to dig into what matters to you",selected:!1},{id:"j10",text:"What truth do you want {creator} to uncover?",selected:!1}]},{id:"entrepreneurship",name:"Entrepreneurship & Success",emoji:"💼",description:"Ambition + inspiration + insight",isOpen:!1,templates:[{id:"e1",text:"Your curiosity → {creator}'s next business story",selected:!1},{id:"e2",text:"What lessons should {creator} reveal next?",selected:!1},{id:"e3",text:"Who built it best? Tell {creator} to unpack their story",selected:!1},{id:"e4",text:"Ask {creator} to uncover how they made it happen",selected:!1},{id:"e5",text:"Which success story deserves {creator}'s spotlight?",selected:!1},{id:"e6",text:"What brand or founder should {creator} decode next?",selected:!1},{id:"e7",text:"Whose success story should {creator} break down next?",selected:!1},{id:"e8",text:"Got a business hero? Ask {creator} to analyze them",selected:!1},{id:"e9",text:"What startup story do you want {creator} to tell?",selected:!1},{id:"e10",text:"Which entrepreneur's journey inspires you most?",selected:!1}]},{id:"business_history",name:"Business History",emoji:"🏛️",description:"Curiosity + admiration + intelligence",isOpen:!1,templates:[{id:"bh1",text:"Which company should {creator} analyze next?",selected:!1},{id:"bh2",text:"What business story do you want {creator} to uncover?",selected:!1},{id:"bh3",text:"Ask {creator} to explain how your favorite brand really makes money",selected:!1},{id:"bh4",text:"Your curiosity → {creator}'s next company deep dive",selected:!1},{id:"bh5",text:"Which business legacy should {creator} explore?",selected:!1},{id:"bh6",text:"Tell {creator} which strategy to decode next",selected:!1},{id:"bh7",text:"What startup or empire fascinates you most?",selected:!1},{id:"bh8",text:"Ask {creator} to dissect your favorite brand",selected:!1},{id:"bh9",text:"What can we learn from history's greatest companies?",selected:!1},{id:"bh10",text:"Let {creator} reveal how success was engineered",selected:!1}]},{id:"fashion",name:"Modeling & Fashion",emoji:"👠",description:"Aspiration + artistry + self-expression",isOpen:!1,templates:[{id:"f1",text:"What look should {creator} model next?",selected:!1},{id:"f2",text:"Got a concept? Ask {creator} to bring it to life",selected:!1},{id:"f3",text:"Your style idea → {creator}'s next photo or video",selected:!1},{id:"f4",text:"What fashion era or trend should {creator} recreate?",selected:!1},{id:"f5",text:"Tell {creator} what vibe to embody next",selected:!1},{id:"f6",text:"Your vision could shape {creator}'s next shoot",selected:!1},{id:"f7",text:"What aesthetic should {creator} explore next?",selected:!1},{id:"f8",text:"Suggest a creative look or concept for {creator}",selected:!1},{id:"f9",text:"Help {creator} design their next masterpiece",selected:!1},{id:"f10",text:"What style moment do you want {creator} to capture?",selected:!1}]},{id:"psychology",name:"Psychology & Behavior",emoji:"🧩",description:"Curiosity + relatability + intellect",isOpen:!1,templates:[{id:"psy1",text:"Ask {creator} to explain a mystery of human nature",selected:!1},{id:"psy2",text:"Tell {creator} what behavior fascinates you most",selected:!1},{id:"psy3",text:"What makes people tick? Let {creator} find out",selected:!1},{id:"psy4",text:"Request {creator} to decode your curiosity",selected:!1},{id:"psy5",text:"Your thought → {creator}'s next mind experiment",selected:!1},{id:"psy6",text:"What human behavior should {creator} analyze next?",selected:!1},{id:"psy7",text:"Got a question about people? Ask {creator}",selected:!1},{id:"psy8",text:"Your idea → {creator}'s next psychological breakdown",selected:!1},{id:"psy9",text:"Which bias or habit should {creator} explore?",selected:!1},{id:"psy10",text:"What social experiment should {creator} run?",selected:!1}]},{id:"catalogue",name:"Catalogue",emoji:"📚",description:"Curated collection of creator works",isOpen:!1,templates:[{id:"cat1",text:"Browse {creator}'s full portfolio",selected:!1},{id:"cat2",text:"View all of {creator}'s creations",selected:!1},{id:"cat3",text:"Explore {creator}'s collection",selected:!1},{id:"cat4",text:"See {creator}'s complete works",selected:!1}]},{id:"health",name:"Health & Fitness",emoji:"🧬",description:"Motivation + trust + self-improvement",isOpen:!1,templates:[{id:"h1",text:"What routine should {creator} test next?",selected:!1},{id:"h2",text:"Ask {creator} to demystify a fitness myth",selected:!1},{id:"h3",text:"What wellness hack do you want {creator} to verify?",selected:!1},{id:"h4",text:"Suggest a body or mind challenge for {creator}",selected:!1},{id:"h5",text:"Let {creator} test your fitness idea",selected:!1},{id:"h6",text:"What challenge should {creator} try next?",selected:!1},{id:"h7",text:"Got a health goal? Ask {creator} to tackle it",selected:!1},{id:"h8",text:"Your idea → {creator}'s next fitness experiment",selected:!1},{id:"h9",text:"What topic should {creator} break down for you?",selected:!1},{id:"h10",text:"Tell {creator} what transformation you want to see",selected:!1}]}]),I=F.filter(e=>"catalogue"===e.id||!["custom","default","premium","personal","action","weekend","conversational","playful"].includes(e.id)).sort((e,t)=>"catalogue"===e.id?-1:"catalogue"===t.id?1:e.name.localeCompare(t.name)).map(e=>({value:e.name,label:e.name}));console.log("DEBUG: All categories count:",F.length),console.log("DEBUG: Filtered creatorTags =",I),console.log("DEBUG: Catalogue in creatorTags?",I.some(e=>"Catalogue"===e.label));const[B,U]=m.useState([]);m.useEffect(()=>{let e=!0;return(async()=>{try{const a=await t(()=>import("./creatordashboard-B0ucYjUG.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48])),s=a.publishedVideos||a.default&&a.default.publishedVideos||("function"==typeof a.getPublishedVideos?await a.getPublishedVideos():null);e&&s&&Array.isArray(s)&&s.length>0&&U(s)}catch(a){}})(),()=>{e=!1}},[]);const R=async(e,t)=>{z(a=>({...a,[e]:t}));try{const a={...JSON.parse(localStorage.getItem("regaarder_user")||"{}"),[e]:t};localStorage.setItem("regaarder_user",JSON.stringify(a))}catch(a){console.warn("Failed to persist profile locally",a)}try{const a=localStorage.getItem("regaarder_token");if(!a)return void console.warn("No authentication token found. Profile changes saved locally only.");const s={[e]:t},r=await fetch(`${window&&window.__BACKEND_URL__||"https://pwin.onrender.com"}/creator/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(s)});if(!r.ok)throw 401===r.status&&console.warn("Authentication failed. Token may be invalid or expired. Changes saved locally only."),new Error(`Server returned ${r.status}`)}catch(a){console.warn("Failed to persist profile update to server",a)}},Y=()=>{const e=[];return F.forEach(t=>{t.templates&&t.templates.forEach(t=>{t.selected&&e.push(t.text)})}),e},M=()=>{try{try{const t=window.localStorage.getItem("regaarder_user");let a=null;try{a=t?JSON.parse(t):null}catch(e){a=null}const s=a?String(a.id||a.handle||a.name||"").replace(/^@+/,"").toLowerCase():null,r=String(L?.id||L?.handle||L?.name||"").replace(/^@+/,"").toLowerCase();if(s&&r&&s===r)return void C({title:"Can't request yourself",subtitle:"You can't request a video from your own profile — try another creator."});const o="ideas_selectedCreator_v1",i={id:L?.id||(L?.handle||L?.tag||String(L?.name||"").replace(/^@+/,"")).toLowerCase(),name:L?.handle?`@${L.handle}`:L?.name||"",handle:L?.handle,image:L?.image||null};window.localStorage.setItem(o,JSON.stringify(i))}catch(e){}window.location.href="/ideas"}catch(e){console.warn("Navigation failed",e)}};return a.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-gray-50 font-sans relative overflow-hidden",children:[k&&a.jsx(ze,{data:k,onClose:()=>C(null)}),c&&a.jsx(Oe,{isPreview:o,onClose:()=>d(!1),profile:L,onUpdate:R,selectedLanguage:e}),x&&a.jsx(Ee,{isOpen:x,isPreview:o,isSharedLink:O,onClose:()=>{u(!1),P(null)},profile:L,customData:_||A,onBecomeSponsor:()=>{u(!1),O?navigate("/ideas"):f(!0)},onSendTip:()=>{u(!1),O?navigate("/ideas"):y(!0)},selectedLanguage:e}),h&&a.jsx(_e,{isOpen:h,isPreview:o,onClose:()=>g(!1),data:A,selectedLanguage:e,onSave:E,onPreview:e=>{P(e),u(!0)}}),p&&a.jsx(Pe,{isOpen:p,isPreview:o,onClose:()=>f(!1),profile:L,selectedLanguage:e}),b&&a.jsx(Ae,{isOpen:b,isPreview:o,onClose:()=>y(!1),profile:L,selectedLanguage:e}),v&&a.jsx(Ce,{isOpen:v,isPreview:o,onClose:()=>w(!1),onShowToast:C,categories:F,onToggleCategory:e=>{$(F.map(t=>t.id===e?{...t,isOpen:!t.isOpen}:t))},onToggleTemplate:(e,t)=>{const a=Y().length;let s=!1;const r=F.find(t=>t.id===e);if(r&&r.templates){const e=r.templates.find(e=>e.id===t);e&&!e.selected&&(s=!0)}if(s&&a>=3)return void C({title:"Limit Reached",subtitle:"You can only select up to 3 CTAs at a time"});const o=F.map(a=>a.id!==e?a:a.templates?{...a,templates:a.templates.map(e=>e.id===t?{...e,selected:!e.selected}:e)}:a);$(o);try{const e=JSON.parse(localStorage.getItem("regaarder_user")||"{}");localStorage.setItem("regaarder_user",JSON.stringify({...e,categories:o}))}catch(i){console.warn("Failed saving categories locally",i)}(async()=>{try{const e=localStorage.getItem("regaarder_token");if(!e)return void console.warn("No authentication token. Categories saved locally only.");const t=await fetch(`${window&&window.__BACKEND_URL__||"https://pwin.onrender.com"}/creator/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({categories:o})});t.ok||401!==t.status||console.warn("Authentication failed when saving categories")}catch(i){console.warn("Failed to persist categories to server",i)}})()},onCreateTemplate:(e,t)=>{const a=F.map(a=>{if(a.id===e){const e=a.templates||[];return{...a,templates:[t,...e],isOpen:!0,count:(a.count||0)+1}}return a});$(a);try{const e=JSON.parse(localStorage.getItem("regaarder_user")||"{}");localStorage.setItem("regaarder_user",JSON.stringify({...e,categories:a}))}catch(s){console.warn("Failed saving new template locally",s)}(async()=>{try{const e=localStorage.getItem("regaarder_token");if(!e)return void console.warn("No authentication token. Template saved locally only.");const t=await fetch(`${window&&window.__BACKEND_URL__||"https://pwin.onrender.com"}/creator/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({categories:a})});t.ok||401!==t.status||console.warn("Authentication failed when saving template")}catch(s){console.warn("Failed to persist new template to server",s)}})()},selectedLanguage:e}),j&&a.jsx(je,{videos:B,creatorId:L.id,isPreview:o,onClose:()=>N(!1),onDelete:e=>{U(B.filter(t=>t.id!==e))},selectedLanguage:e}),a.jsxs("div",{className:"h-screen overflow-y-auto pb-20 scrollbar-hide",children:[a.jsx(ye,{profile:L,onUpdate:R,isPreviewMode:o,onTogglePreview:()=>{const e=!o;i(e),e&&C({title:"Preview Mode Active",subtitle:"You are viewing your profile as a fan"})},onTip:()=>y(!0),selectedCTAs:Y(),onCTAClick:M,availableTags:I,onShowToast:C,isSharedLink:O,selectedLanguage:e}),a.jsxs("div",{className:"px-4 mt-6",children:[!o&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 mb-4 cursor-pointer transition hover:shadow-md",onClick:()=>d(!0),children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mr-3 relative overflow-hidden",style:{background:"linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.3)"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),a.jsx(he,{name:"sparkles",size:20,className:"text-white relative z-10"})]}),a.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:s("Complete Your Profile",e)})]}),a.jsx("span",{className:"text-blue-600 font-bold text-base",children:"0%"})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:a.jsx("div",{className:"h-2 rounded-full",style:{width:"80%",background:"linear-gradient(90deg, #3B82F6 0%, #8B5CF6 100%)"}})}),a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:s("0 of 10 fields completed • Tap to edit",e)}),a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-md",children:s("Missing fields:",e)}),a.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded-md font-medium",children:s("Tagline",e)}),a.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded-md font-medium",children:s("Email Verified",e)})]})]}),a.jsx(ve,{title:s("Customize Welcome Popup",e),icon:"sparkles",isPopup:!0,onClick:()=>g(!0),onPreview:()=>u(!0),selectedLanguage:e})]}),a.jsx(we,{isPreviewMode:o,video:S,onUpload:e=>{T(e),C({title:"Video Uploaded",subtitle:"Your featured video is now live"});try{const t=JSON.parse(localStorage.getItem("regaarder_user")||"{}");localStorage.setItem("regaarder_user",JSON.stringify({...t,introVideo:e.url}))}catch(t){console.warn("Failed saving featured video locally",t)}(async()=>{try{const t=localStorage.getItem("regaarder_token");if(!t)return void console.warn("No authentication token. Featured video saved locally only.");const a=await fetch(`${window&&window.__BACKEND_URL__||"https://pwin.onrender.com"}/creator/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({introVideo:e.url})});a.ok||401!==a.status||console.warn("Authentication failed when saving featured video")}catch(t){console.warn("Failed to persist featured video to server",t)}})()},onDelete:()=>{T(null);try{const e={...JSON.parse(localStorage.getItem("regaarder_user")||"{}")};delete e.introVideo,localStorage.setItem("regaarder_user",JSON.stringify(e))}catch(e){console.warn("Failed removing featured video locally",e)}(async()=>{try{const e=localStorage.getItem("regaarder_token");if(!e)return void console.warn("No authentication token. Featured video deleted locally only.");const t=await fetch(`${window&&window.__BACKEND_URL__||"https://pwin.onrender.com"}/creator/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({introVideo:null})});t.ok||401!==t.status||console.warn("Authentication failed when deleting featured video")}catch(e){console.warn("Failed to delete featured video on server",e)}})()},selectedLanguage:e}),a.jsx(Ne,{videos:B,onViewAll:()=>N(!0),isPreviewMode:o,selectedLanguage:e}),a.jsx(Te,{profile:L,onUpdate:R,isPreviewMode:o,selectedLanguage:e}),!o&&a.jsx(ke,{onCustomize:()=>w(!0),selectedLanguage:e}),!o&&a.jsx(Le,{profile:L,onCopy:C,selectedLanguage:e}),a.jsx(Se,{selectedCTAs:Y(),profileName:L.name,onCTAClick:M,selectedLanguage:e})]})]}),a.jsx(ge,{selectedLanguage:e})]})};export{We as default};
