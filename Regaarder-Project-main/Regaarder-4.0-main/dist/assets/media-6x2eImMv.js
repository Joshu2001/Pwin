import{g as t}from"./config-DzyQUiLS.js";const r=r=>{if(!r)return"";const n=String(r).trim();if(!n)return"";if(n.startsWith("blob:")||n.startsWith("data:"))return"";const o=(()=>{try{const r=t();return r?String(r).replace(/\/$/,""):""}catch{return""}})();if(n.startsWith("uploaded:")){const t=n.split(":")[1]||n.slice(9);return o?`${o}/uploads/${t}`:n}try{if(/^https?:\/\//i.test(n)){if(n.startsWith("http://"))try{const t=o?new URL(o):null,r=new URL(n);if(t&&r.hostname===t.hostname)return r.protocol=t.protocol,r.toString();if(t&&"https:"===t.protocol&&/onrender\.com$/i.test(r.hostname))return r.protocol="https:",r.toString()}catch{}return n}if(n.startsWith("/"))return o?`${o}${n}`:n;if(o){return new URL(n,`${o}/`).toString()}}catch{return n}return n};export{r};
