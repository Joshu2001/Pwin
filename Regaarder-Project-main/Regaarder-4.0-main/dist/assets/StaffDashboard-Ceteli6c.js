import{c as e,j as t,h as o,E as r}from"./index-CDLvsHig.js";import{b as n}from"./vendor-Cml8jNaD.js";import{L as i}from"./loader-X9k6BzMl.js";import{T as s,S as a}from"./trash-2-CrIhpkDU.js";import{S as l}from"./search-0IVNTpOf.js";import{M as d}from"./message-square-1Q_4_xQK.js";import{X as p}from"./x-DDjMse-C.js";import{D as c,T as x}from"./trash-C_KAVD4_.js";import{A as g}from"./alert-circle-DDjw3v1i.js";import{C as f}from"./check-circle-DYQuHbjP.js";import{C as u}from"./clock-DPoV4f73.js";import{C as b}from"./chevron-down-dLGymyOb.js";import{M as h}from"./megaphone-Cd4wD-1H.js";import{C as y}from"./chevron-up-Ct3Oxjvd.js";import{C as m}from"./crown-DVmf_WXw.js";import{U as v}from"./users-BiCMxHCp.js";import{G as j}from"./gift-DtMPeLUS.js";import{A as w}from"./alert-triangle-DDTO-rMn.js";import{B as S}from"./ban-C3DL2y6M.js";import{C}from"./copy-CTSo_4Np.js";import{S as k}from"./star-CZ5tILF0.js";import{F as z}from"./filter-gJEsvUad.js";import{H as T}from"./home-DAn91k--.js";import{I as R}from"./image-B2MNaf9d.js";const I=e("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),W=e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),B=e("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),M=({selectedLanguage:e="English"})=>{const[o,r]=n.useState([]),[x,b]=n.useState([]),[h,y]=n.useState(null),[m,v]=n.useState(!0),[j,w]=n.useState(""),[S,C]=n.useState("all"),[k,z]=n.useState("all"),[T,R]=n.useState(""),[I,M]=n.useState(!1),[A,E]=n.useState(""),[L,P]=n.useState(null),[N,D]=n.useState(!1),O={English:{title:"Support Tickets",noTickets:"No support tickets",noTicketsSubtext:"Tickets will appear here when users submit them",ticket:"Ticket",from:"From",status:"Status",priority:"Priority",created:"Created",updated:"Updated",open:"Open",inProgress:"In Progress",resolved:"Resolved",closed:"Closed",low:"Low",normal:"Normal",high:"High",urgent:"Urgent",search:"Search tickets...",filterStatus:"All Statuses",filterPriority:"All Priorities",viewDetails:"View Details",close:"Close",delete:"Delete Ticket",responses:"Responses",noResponses:"No responses yet",addResponse:"Add Response",responseText:"Type your response...",send:"Send Response",attachments:"Attachments",noAttachments:"No attachments",changeStatus:"Change Status",changePriority:"Change Priority",loading:"Loading tickets...",markedAs:"Marked as",by:"by",description:"Description",selectTicket:"Select a ticket to view details",deleteConfirmTitle:"Delete Ticket?",deleteConfirmText:"Are you sure you want to delete this ticket? This action cannot be undone.",cancel:"Cancel",confirmDelete:"Yes, Delete",refresh:"Refresh"},Spanish:{title:"Tickets de Soporte",noTickets:"Sin tickets de soporte",noTicketsSubtext:"Los tickets aparecerÃ¡n aquÃ­ cuando los usuarios los envÃ­en",ticket:"Ticket",from:"De",status:"Estado",priority:"Prioridad",created:"Creado",updated:"Actualizado",open:"Abierto",inProgress:"En Progreso",resolved:"Resuelto",closed:"Cerrado",low:"Baja",normal:"Normal",high:"Alta",urgent:"Urgente",search:"Buscar tickets...",filterStatus:"Todos los Estados",filterPriority:"Todas las Prioridades",viewDetails:"Ver Detalles",close:"Cerrar",delete:"Eliminar Ticket",responses:"Respuestas",noResponses:"Sin respuestas aÃºn",addResponse:"AÃ±adir Respuesta",responseText:"Escriba su respuesta...",send:"Enviar Respuesta",attachments:"Archivos Adjuntos",noAttachments:"Sin archivos adjuntos",changeStatus:"Cambiar Estado",changePriority:"Cambiar Prioridad",loading:"Cargando tickets...",markedAs:"Marcado como",by:"por",description:"DescripciÃ³n",selectTicket:"Seleccione un ticket para ver detalles",deleteConfirmTitle:"Â¿Eliminar Ticket?",deleteConfirmText:"Â¿EstÃ¡ seguro de que desea eliminar este ticket? Esta acciÃ³n no se puede deshacer.",cancel:"Cancelar",confirmDelete:"SÃ­, Eliminar",refresh:"Actualizar"},French:{title:"Tickets de Support",noTickets:"Aucun ticket de support",noTicketsSubtext:"Les tickets apparaÃ®tront ici lorsque les utilisateurs les soumettront",ticket:"Ticket",from:"De",status:"Ã‰tat",priority:"PrioritÃ©",created:"CrÃ©Ã©",updated:"Mis Ã  jour",open:"Ouvert",inProgress:"En cours",resolved:"RÃ©solu",closed:"FermÃ©",low:"Basse",normal:"Normal",high:"Haute",urgent:"Urgent",search:"Rechercher des tickets...",filterStatus:"Tous les Ã‰tats",filterPriority:"Toutes les PrioritÃ©s",viewDetails:"Voir les dÃ©tails",close:"Fermer",delete:"Supprimer le Ticket",responses:"RÃ©ponses",noResponses:"Pas de rÃ©ponses encore",addResponse:"Ajouter une rÃ©ponse",responseText:"Tapez votre rÃ©ponse...",send:"Envoyer la RÃ©ponse",attachments:"PiÃ¨ces jointes",noAttachments:"Aucune piÃ¨ce jointe",changeStatus:"Changer le statut",changePriority:"Changer la prioritÃ©",loading:"Chargement des tickets...",markedAs:"MarquÃ© comme",by:"par",description:"Description",selectTicket:"SÃ©lectionnez un ticket pour voir les dÃ©tails",deleteConfirmTitle:"Supprimer le Ticket?",deleteConfirmText:"ÃŠtes-vous sÃ»r de vouloir supprimer ce ticket? Cette action ne peut pas Ãªtre annulÃ©e.",cancel:"Annuler",confirmDelete:"Oui, Supprimer",refresh:"Actualiser"}},F=O[e]||O.English,$=()=>{try{const e=localStorage.getItem("staffSession");if(e)return JSON.parse(e)}catch(e){console.error("Error reading staff session:",e)}return null},U=()=>window.__BACKEND_URL__||"https://pwin.onrender.com",Y=async()=>{try{v(!0),E("");const e=$();if(!e||!e.id)return E("Staff session not found. Please log in again."),void v(!1);const t=`${U()}/support/tickets?employeeId=${e.id}`;console.log("Fetching support tickets:",t);const o=await fetch(t);if(o.ok){const e=await o.json();console.log("Support tickets received:",e.tickets?.length||0),r(e.tickets||[])}else{const e=await o.json().catch(()=>({}));console.error("Support tickets fetch error:",o.status,e),E(e.error||"Failed to load tickets")}}catch(e){console.error("Error fetching tickets:",e),E("Server error while loading tickets")}finally{v(!1)}};n.useEffect(()=>{Y()},[]),n.useEffect(()=>{let e=o;if(j){const t=j.toLowerCase();e=e.filter(e=>(e.title||"").toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t)||(e.userEmail||"").toLowerCase().includes(t)||(e.userName||"").toLowerCase().includes(t)||(e.id||"").toLowerCase().includes(t))}"all"!==S&&(e=e.filter(e=>e.status===S)),"all"!==k&&(e=e.filter(e=>e.priority===k)),b(e)},[o,j,S,k]);const q=e=>({open:"#ef4444","in-progress":"#f59e0b",resolved:"#10b981",closed:"#6b7280"}[e]||"#6b7280"),H=e=>{switch(e){case"open":return t.jsx(g,{size:14});case"in-progress":return t.jsx(u,{size:14});case"resolved":return t.jsx(f,{size:14});case"closed":return t.jsx(B,{size:14});default:return t.jsx(d,{size:14})}},V=e=>({low:"#10b981",normal:"#3b82f6",high:"#f59e0b",urgent:"#ef4444"}[e]||"#3b82f6"),J=async e=>{if(!h)return;const t=$();if(t)try{const n=U(),i=await fetch(`${n}/support/ticket/${h.id}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e,employeeId:t.id})});if(i.ok){const e=await i.json();y(e.ticket),r(o.map(t=>t.id===e.ticket.id?e.ticket:t))}}catch(n){console.error("Error updating status:",n)}},G=e=>e?new Date(e).toLocaleDateString()+" "+new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-",X=e=>{if(!e)return"";const t=new Date(e),o=new Date-t,r=Math.floor(o/6e4),n=Math.floor(o/36e5),i=Math.floor(o/864e5);return r<1?"Just now":r<60?`${r}m ago`:n<24?`${n}h ago`:i<7?`${i}d ago`:t.toLocaleDateString()};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 p-6 md:p-8",children:[m&&t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx(i,{className:"w-10 h-10 animate-spin mx-auto mb-4",style:{color:"var(--color-gold)"}}),t.jsx("p",{className:"text-gray-600 font-medium",children:F.loading})]})}),!m&&t.jsxs(t.Fragment,{children:[L&&t.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl animate-in fade-in scale-95",children:[t.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-6 rounded-full bg-red-100",children:t.jsx(s,{size:24,className:"text-red-600"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 text-center mb-2",children:F.deleteConfirmTitle}),t.jsx("p",{className:"text-gray-600 text-center mb-6",children:F.deleteConfirmText}),t.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl mb-6 border border-gray-200",children:[t.jsxs("p",{className:"text-sm font-mono text-gray-600 mb-2 truncate",children:["#",String(L.id||"").slice(-10)]}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:L.title})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>P(null),className:"flex-1 py-3 px-4 border border-gray-300 rounded-xl text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:F.cancel}),t.jsxs("button",{onClick:async()=>{if(!L)return;const e=$();if(e)try{D(!0);const t=U(),n=await fetch(`${t}/support/ticket/${L.id}?employeeId=${e.id}`,{method:"DELETE"});if(n.ok)r(o.filter(e=>e.id!==L.id)),h?.id===L.id&&y(null),P(null);else{const e=await n.json().catch(()=>({}));E(e.error||"Failed to delete ticket")}}catch(t){console.error("Error deleting ticket:",t),E("Server error")}finally{D(!1)}},disabled:N,className:"flex-1 py-3 px-4 bg-red-600 text-white rounded-xl font-medium hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[N?t.jsx(i,{size:16,className:"animate-spin"}):t.jsx(s,{size:16}),F.confirmDelete]})]})]})}),t.jsxs("div",{className:"mb-12",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:F.title}),t.jsx("button",{onClick:Y,className:"p-3 text-gray-500 hover:text-gray-700 hover:bg-white rounded-xl transition-all hover:shadow-md",title:F.refresh,children:t.jsx(W,{size:20})})]}),t.jsx("p",{className:"text-gray-500",children:"Manage and respond to customer support requests"})]}),t.jsxs("div",{className:"mb-8 bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(l,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:F.search,value:j,onChange:e=>w(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border-0 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-gold)] focus:bg-white transition-all"})]}),t.jsxs("select",{value:S,onChange:e=>C(e.target.value),className:"px-4 py-3 bg-gray-50 border-0 rounded-lg text-sm font-medium focus:outline-none focus:ring-2 focus:ring-[var(--color-gold)] cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:F.filterStatus}),t.jsx("option",{value:"open",children:F.open}),t.jsx("option",{value:"in-progress",children:F.inProgress}),t.jsx("option",{value:"resolved",children:F.resolved}),t.jsx("option",{value:"closed",children:F.closed})]}),t.jsxs("select",{value:k,onChange:e=>z(e.target.value),className:"px-4 py-3 bg-gray-50 border-0 rounded-lg text-sm font-medium focus:outline-none focus:ring-2 focus:ring-[var(--color-gold)] cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:F.filterPriority}),t.jsx("option",{value:"low",children:F.low}),t.jsx("option",{value:"normal",children:F.normal}),t.jsx("option",{value:"high",children:F.high}),t.jsx("option",{value:"urgent",children:F.urgent})]})]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-4 font-medium",children:[x.length," ",1===x.length?"ticket":"tickets"]})]}),h?t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-in fade-in",children:[t.jsxs("div",{className:"lg:col-span-2",children:[t.jsxs("button",{onClick:()=>y(null),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 font-medium transition-colors",children:[t.jsx(p,{size:20}),"Back to tickets"]}),t.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"flex items-start justify-between mb-8",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 break-words",children:h.title}),t.jsxs("p",{className:"text-gray-600",children:["From ",t.jsx("span",{className:"font-semibold break-words",children:h.userName||"Unknown"}),t.jsx("br",{}),t.jsx("span",{className:"text-gray-500 text-sm font-mono truncate",children:h.userEmail})]})]}),t.jsx("button",{onClick:()=>P(h),className:"p-3 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-colors",title:F.delete,children:t.jsx(s,{size:20})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8 pb-8 border-b border-gray-100",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3 block",children:"Status"}),t.jsxs("select",{value:h.status,onChange:e=>J(e.target.value),className:"w-full px-4 py-3 bg-gray-50 border-0 rounded-lg text-sm font-medium focus:outline-none focus:ring-2 focus:ring-[var(--color-gold)] cursor-pointer",children:[t.jsx("option",{value:"open",children:F.open}),t.jsx("option",{value:"in-progress",children:F.inProgress}),t.jsx("option",{value:"resolved",children:F.resolved}),t.jsx("option",{value:"closed",children:F.closed})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3 block",children:"Priority"}),t.jsxs("div",{className:"px-4 py-3 rounded-lg text-sm font-medium flex items-center gap-2",style:{backgroundColor:`${V(h.priority)}10`,color:V(h.priority)},children:[t.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:V(h.priority)}}),h.priority?.charAt(0).toUpperCase()+h.priority?.slice(1)]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8 pb-8 border-b border-gray-100 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500 mb-1",children:"Created"}),t.jsx("p",{className:"font-medium text-gray-900",children:G(h.createdAt)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500 mb-1",children:"Last Updated"}),t.jsx("p",{className:"font-medium text-gray-900",children:G(h.updatedAt)})]})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3 uppercase tracking-wider",children:"Description"}),t.jsx("div",{className:"bg-gray-50 p-6 rounded-lg text-gray-700 whitespace-pre-wrap leading-relaxed border border-gray-100 break-words overflow-hidden",children:h.description})]}),h.attachments&&h.attachments.length>0&&t.jsxs("div",{className:"mb-8",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3 uppercase tracking-wider",children:"Attachments"}),t.jsx("div",{className:"space-y-2",children:h.attachments.map((e,o)=>t.jsxs("a",{href:`${U()}${e.path}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors border border-gray-100",children:[t.jsx(c,{size:16,className:"text-gray-400 flex-shrink-0"}),t.jsx("span",{className:"text-sm text-gray-700 flex-1 truncate",children:e.originalName}),t.jsxs("span",{className:"text-xs text-gray-400",children:[(e.size/1024).toFixed(0)," KB"]})]},o))})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-4 uppercase tracking-wider",children:[F.responses," (",h.responses?.length||0,")"]}),h.responses&&h.responses.length>0?t.jsx("div",{className:"space-y-4 mb-8",children:h.responses.map(e=>t.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-50/50 border border-blue-200 p-6 rounded-xl",children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-[var(--color-gold)] flex items-center justify-center text-white text-xs font-bold",children:e.staffName?.charAt(0)||"S"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:e.staffName}),t.jsx("p",{className:"text-xs text-gray-500",children:X(e.createdAt)})]})]})}),t.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:e.message})]},e.id))}):t.jsx("p",{className:"text-sm text-gray-400 italic mb-8",children:F.noResponses})]})]})]}),t.jsx("div",{children:t.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 sticky top-6 space-y-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-6 uppercase text-xs tracking-wider",children:"Quick Actions"}),"closed"!==h.status&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-medium text-gray-600 mb-3 block uppercase tracking-wider",children:"Add Response"}),t.jsx("textarea",{value:T,onChange:e=>R(e.target.value),placeholder:F.responseText,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-gold)] focus:border-transparent resize-none",rows:4}),t.jsxs("button",{onClick:async()=>{if(!T.trim()||!h)return;const e=$();if(e)try{M(!0);const t=U(),n=await fetch(`${t}/support/ticket/${h.id}/response`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:T,employeeId:e.id})});if(n.ok){const e=await n.json();y(e.ticket),r(o.map(t=>t.id===e.ticket.id?e.ticket:t)),R("")}else{const e=await n.json().catch(()=>({}));E(e.error||"Failed to send response")}}catch(t){console.error("Error sending response:",t),E("Server error")}finally{M(!1)}},disabled:!T.trim()||I,className:"w-full mt-3 py-3 rounded-lg font-medium text-white bg-[var(--color-gold)] hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all",children:[I?t.jsx(i,{size:16,className:"animate-spin"}):t.jsx(a,{size:16}),F.send]})]}),t.jsx("div",{className:"pt-4 border-t border-gray-100 space-y-2",children:"closed"!==h.status&&t.jsxs(t.Fragment,{children:["resolved"!==h.status&&t.jsx("button",{onClick:()=>J("resolved"),className:"w-full py-3 px-4 bg-green-50 hover:bg-green-100 text-green-700 font-medium rounded-lg transition-colors border border-green-200 text-sm",children:"âœ“ Mark Resolved"}),t.jsx("button",{onClick:()=>{J("closed"),setTimeout(()=>y(null),500)},className:"w-full py-3 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg transition-colors border border-gray-200 text-sm",children:"Close Ticket"})]})}),t.jsx("div",{className:"pt-4 border-t border-gray-100",children:t.jsxs("button",{onClick:()=>P(h),className:"w-full py-3 px-4 bg-red-50 hover:bg-red-100 text-red-700 font-medium rounded-lg transition-colors border border-red-200 text-sm flex items-center justify-center gap-2",children:[t.jsx(s,{size:16}),"Delete Ticket"]})}),t.jsx("div",{className:"pt-4 border-t border-gray-100 text-xs text-gray-500 space-y-2",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-600",children:"Ticket ID"}),t.jsxs("p",{className:"font-mono text-gray-400 truncate",children:["#",String(h.id||"").slice(-10)]})]})})]})})]}):t.jsx("div",{children:0===x.length?t.jsxs("div",{className:"text-center py-20",children:[t.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gray-100 flex items-center justify-center",children:t.jsx(d,{size:40,className:"text-gray-300"})}),t.jsx("p",{className:"text-lg font-medium text-gray-600 mb-2",children:F.noTickets}),t.jsx("p",{className:"text-gray-400",children:F.noTicketsSubtext})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(e=>t.jsxs("div",{onClick:()=>y(e),className:"group bg-white rounded-xl p-6 shadow-sm hover:shadow-lg border border-gray-100 hover:border-gray-200 cursor-pointer transition-all duration-300 hover:translate-y-[-4px]",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("span",{className:"text-xs px-3 py-1.5 rounded-full font-medium flex items-center gap-1.5",style:{backgroundColor:`${q(e.status)}15`,color:q(e.status)},children:[H(e.status),e.status]}),t.jsx("span",{className:"text-xs px-3 py-1.5 rounded-full font-medium",style:{backgroundColor:`${V(e.priority)}15`,color:V(e.priority)},children:e.priority})]}),t.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 group-hover:text-[var(--color-gold)] transition-colors break-words",children:e.title}),t.jsx("p",{className:"text-sm text-gray-600 mb-4 truncate",children:e.userEmail}),t.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2 break-words",children:e.description}),t.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[t.jsx("span",{className:"text-xs text-gray-400",children:X(e.createdAt)}),e.responses&&e.responses.length>0&&t.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium",children:[e.responses.length," ",1===e.responses.length?"reply":"replies"]})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-4 text-center group-hover:text-[var(--color-gold)] transition-colors",children:"Click to view details"})]},e.id))})}),A&&t.jsxs("div",{className:"fixed bottom-6 right-6 bg-red-600 text-white px-6 py-4 rounded-xl shadow-lg flex items-center gap-3 z-50 animate-in slide-in-from-bottom",children:[t.jsx(g,{size:18}),t.jsx("span",{className:"text-sm font-medium",children:A}),t.jsx("button",{onClick:()=>E(""),className:"ml-2 hover:opacity-75 transition-opacity",children:t.jsx(p,{size:16})})]})]})]})},A="undefined"!=typeof window&&window.__BACKEND_URL__||"https://pwin-copy-production.up.railway.app",E=()=>"undefined"!=typeof window&&window.__BACKEND_URL__?window.__BACKEND_URL__:A,L=(e,t)=>{const o=E();return((...e)=>globalThis.fetch(...e))("string"==typeof e?e.replace(A,o):e,t)};function P(e,t=1){if(!e)return`rgba(0,0,0,${t})`;const o=e.replace("#",""),r=parseInt(3===o.length?o.split("").map(e=>e+e).join(""):o,16);return`rgba(${r>>16&255}, ${r>>8&255}, ${255&r}, ${t})`}function N({value:e,onChange:o,options:r,label:i}){const[s,a]=n.useState(!1),l=r.find(t=>t.value===e);return t.jsxs("div",{style:{position:"relative"},children:[t.jsxs("button",{onClick:()=>a(!s),style:{width:"100%",padding:"10px 12px",marginTop:6,borderRadius:8,border:"1px solid #e5e7eb",background:"white",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",fontSize:13,fontWeight:500,color:"#374151",transition:"all 0.2s"},onMouseEnter:e=>e.target.style.borderColor="#3b82f6",onMouseLeave:e=>e.target.style.borderColor="#e5e7eb",children:[t.jsxs("span",{style:{display:"flex",alignItems:"center",gap:8},children:[t.jsx("span",{style:{fontSize:16},children:l?.icon}),l?.label]}),t.jsx(b,{size:16,style:{transition:"transform 0.2s",transform:s?"rotate(180deg)":"rotate(0)"}})]}),s&&t.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:4,background:"white",border:"1px solid #e5e7eb",borderRadius:8,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",zIndex:1e3,overflow:"hidden"},children:r.map(r=>t.jsxs("button",{onClick:()=>{o(r.value),a(!1)},style:{width:"100%",padding:"12px 12px",border:"none",background:e===r.value?"#eff6ff":"white",borderBottom:"1px solid #f3f4f6",cursor:"pointer",display:"flex",alignItems:"center",gap:8,fontSize:13,color:"#374151",transition:"all 0.2s",textAlign:"left"},onMouseEnter:e=>{e.target.style.background="#f0f9ff",e.target.style.color="#0369a1"},onMouseLeave:t=>{t.target.style.background=e===r.value?"#eff6ff":"white",t.target.style.color="#374151"},children:[t.jsx("span",{style:{fontSize:18},children:r.icon}),t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontWeight:600},children:r.label}),r.description&&t.jsx("div",{style:{fontSize:11,color:"#9ca3af",marginTop:2},children:r.description})]})]},r.value))})]})}function D({profileName:e,profileAvatar:o,textItems:r,textInterval:i,textAnimation:s,cardAnimation:a,cardEffect:l,link:d}){const[p,c]=n.useState(0);n.useEffect(()=>{if(0===r.length)return;const e=setInterval(()=>{c(e=>(e+1)%r.length)},i);return()=>clearInterval(e)},[r.length,i]);const x=r[p]||"Your ad text goes here";return t.jsxs("div",{style:{position:"absolute",left:16,right:16,bottom:20,background:"rgba(17,24,39,0.9)",color:"white",borderRadius:12,padding:"8px 10px",display:"flex",alignItems:"center",gap:10,maxWidth:"calc(100% - 32px)",animation:(()=>{const e=(()=>{switch(a){case"line-first":return"lineAppear 0.3s ease, slideDown 0.4s ease 0.3s";case"slide-down":return"slideDown 0.4s ease";case"bounce-in":return"bounceInCard 0.5s ease";case"scale-up":return"scaleUpCard 0.4s ease";default:return"fadeInOut 0.6s ease"}})();return l&&"none"!==l?`${e}, ${l} 2s ease-in-out infinite 0.5s`:e})(),borderLeft:"line-first"===a?"3px solid #8b5cf6":"none"},children:[o?t.jsx("img",{src:o,alt:"avatar",style:{width:44,height:44,borderRadius:10,objectFit:"cover",flexShrink:0}}):t.jsx("div",{style:{width:44,height:44,borderRadius:10,background:"#111827",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af",fontWeight:700,flexShrink:0},children:(e||"").charAt(0).toUpperCase()||"A"}),t.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",minWidth:0},children:[t.jsx("div",{style:{fontSize:13,fontWeight:800},children:e||"Advertiser"}),t.jsx("div",{style:{fontSize:13,color:"#e6eef8",outline:"none",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",animation:(()=>{const e=(i/1e3).toFixed(2);switch(s){case"slide-left":return"slideLeftIn 0.4s ease";case"slide-right":return"slideRightIn 0.4s ease";case"bounce":return"bounceIn 0.5s ease";case"scale":return"scaleIn 0.4s ease";default:return`fadeInOut ${e}s ease`}})()},children:x},p)]}),t.jsx("a",{href:d||"#",target:"_blank",rel:"noreferrer",style:{background:"#fff",color:"#111827",padding:"8px 10px",borderRadius:8,textDecoration:"none",fontWeight:800,fontSize:13,flexShrink:0},children:"Learn more"})]})}function O(){const[e,i]=n.useState(null),[a,d]=n.useState([]),[p,c]=n.useState([]),[W,B]=n.useState("English"),[A,O]=n.useState("videos"),[F,$]=n.useState([]),[U,Y]=n.useState([]),[q,H]=n.useState(null),[V,J]=n.useState({isPlaying:!1,currentTime:0,videoDuration:100,overlayPosition:{x:50,y:50},overlaySize:{width:80,height:60},isDragging:!1,dragStart:{x:0,y:0}}),[G,_]=n.useState(!1),[K,Q]=n.useState(!1),[Z,ee]=n.useState("all"),[te,oe]=n.useState([]),[re,ne]=n.useState([]),[ie,se]=n.useState([]),[ae]=n.useState([]),[le,de]=n.useState([]),[pe,ce]=n.useState([]),[xe,ge]=n.useState([]),[fe,ue]=n.useState([]),[be,he]=n.useState(!0),[ye,me]=n.useState(""),[ve,je]=n.useState(null),[we,Se]=n.useState(!1),[Ce,ke]=n.useState(null),[ze,Te]=n.useState(""),[Re,Ie]=n.useState(""),[We,Be]=n.useState(""),[Me,Ae]=n.useState([]),[Ee,Le]=n.useState(5e3),[Pe,Ne]=n.useState("fade"),[De,Oe]=n.useState("fade"),[Fe,$e]=n.useState("none"),[Ue,Ye]=n.useState("fadeOut"),[qe,He]=n.useState("rgba(255, 0, 255, 0.6)"),[Ve,Je]=n.useState(""),[Ge,Xe]=n.useState(!1),[_e,Ke]=n.useState(""),[Qe,Ze]=n.useState(""),[et,tt]=n.useState("âš¡"),[ot,rt]=n.useState([]),[nt,it]=n.useState("#E41E24"),[st,at]=n.useState("#fff"),[lt,dt]=n.useState("#ffffff"),[pt,ct]=n.useState("#000000"),[xt,gt]=n.useState(1),[ft,ut]=n.useState(1),[bt,ht]=n.useState("bottom"),[yt,mt]=n.useState("Learn More"),[vt,jt]=n.useState(""),[wt,St]=n.useState(""),[Ct,kt]=n.useState("fade"),[zt,Tt]=n.useState(!1),[Rt,It]=n.useState("ad"),[Wt,Bt]=n.useState("#ff0000"),[Mt,At]=n.useState(""),[Et,Lt]=n.useState("top-left-video"),[Pt,Nt]=n.useState(!1),[Dt,Ot]=n.useState(!1),[Ft,$t]=n.useState(""),[Ut,Yt]=n.useState("#4B9EFF"),[qt,Ht]=n.useState("text"),[Vt,Jt]=n.useState(""),[Gt,Xt]=n.useState(0),[_t,Kt]=n.useState(3),[Qt,Zt]=n.useState("marquee"),[eo,to]=n.useState(!1),[oo,ro]=n.useState(!1),[no,io]=n.useState(!1),[so,ao]=n.useState(()=>{try{return JSON.parse(localStorage.getItem("overlayTemplates")||"[]")}catch(e){return[]}}),[lo,po]=n.useState(""),[co,xo]=n.useState(!1),[go,fo]=n.useState(!1),[uo,bo]=n.useState(!1),[ho,yo]=n.useState(""),[mo,vo]=n.useState(0),[jo,wo]=n.useState(30),[So,Co]=n.useState([]),[ko,zo]=n.useState(!0),[To,Ro]=n.useState(!0),[Io,Wo]=n.useState([]),[Bo,Mo]=n.useState(!1),[Ao,Eo]=n.useState(null),[Lo,Po]=n.useState(null),[No,Do]=n.useState({}),[Oo,Fo]=n.useState(""),[$o,Uo]=n.useState("Learn More"),[Yo,qo]=n.useState("#0b74de"),[Ho,Vo]=n.useState(""),[Jo,Go]=n.useState(!1),[Xo,_o]=n.useState("#d946ef"),[Ko,Qo]=n.useState("#ffffff"),[Zo,er]=n.useState("#111827"),[tr,or]=n.useState(""),[rr,nr]=n.useState(""),[ir,sr]=n.useState(""),[ar,lr]=n.useState(""),[dr,pr]=n.useState(!1),[cr,xr]=n.useState(()=>{try{return JSON.parse(localStorage.getItem("default2Templates")||"[]")}catch(e){return[]}}),[gr,fr]=n.useState(!1),[ur,br]=n.useState(""),[hr,yr]=n.useState(!1),[mr,vr]=n.useState(!1),[jr,wr]=n.useState(""),[Sr,Cr]=n.useState(0),[kr,zr]=n.useState(30),[Tr,Rr]=n.useState(1),[Ir,Wr]=n.useState([]);n.useEffect(()=>{(async()=>{try{const e=await L(`${E()}/templates/bottom`);if(e.ok){const t=await e.json();return Wo(t.templates||[]),void localStorage.setItem("bottomAdTemplates",JSON.stringify(t.templates||[]))}}catch(e){}try{const e=localStorage.getItem("bottomAdTemplates"),t=e?JSON.parse(e):[];Wo(t)}catch(e){Wo([])}})()},[]);const Br=async()=>{if(!ze||0===Me.length)return void je({type:"error",title:"Missing fields",message:"Please provide profile name and at least one text item."});const e={name:ze,avatar:Re,textItems:Me,textInterval:Ee,textAnimation:Pe,cardAnimation:De,cardEffect:Fe,cardExitAnimation:Ue,borderColor:qe,link:Ve,assets:U};try{const t=await L(`${E()}/templates/bottom`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){const e=[(await t.json()).template,...Io||[]];return Wo(e),localStorage.setItem("bottomAdTemplates",JSON.stringify(e)),void je({type:"success",title:"Saved",message:"Template saved."})}}catch(t){}try{const t=localStorage.getItem("bottomAdTemplates"),o=t?JSON.parse(t):[],r={id:Date.now(),...e};o.unshift(r),localStorage.setItem("bottomAdTemplates",JSON.stringify(o)),Wo(o),je({type:"success",title:"Saved",message:"Template saved locally."})}catch(t){je({type:"error",title:"Save failed",message:"Could not save template."})}},Mr=async(t,o,r=null)=>{try{if((await L(`${E()}/staff/remove-ad-from-video`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e?.id,videoId:t,adType:o,adId:r})})).ok){je({type:"success",title:"Removed",message:r?"Ad removed":`All ${o} ads removed`}),e&&(hs(e),setTimeout(()=>{const e=pe.find(e=>e.id===t);e&&Po(e)},500))}else je({type:"error",title:"Failed",message:"Unable to remove ads."})}catch(n){console.error("Remove ads failed:",n),je({type:"error",title:"Error",message:"Error removing ads."})}};n.useEffect(()=>{if(!ve)return;const e=setTimeout(()=>je(null),4e3);return()=>clearTimeout(e)},[ve]);const[Ar,Er]=n.useState({isOpen:!1,itemId:null,itemType:null}),[Lr,Pr]=n.useState({isOpen:!1,action:null,itemId:null,itemType:null}),[Nr,Dr]=n.useState({isOpen:!1,action:null,itemId:null,itemType:null,reason:""}),[Or,Fr]=n.useState({isOpen:!1,userId:null,action:null}),[$r,Ur]=n.useState({isOpen:!1,title:"",message:"",recipientType:"individual",selectedUsers:[],promotionType:"offer",ctaText:"Learn More",ctaIcon:"gift",ctaColor:"#f59e0b",ctaUrl:""}),[Yr,qr]=n.useState(!1),[Hr,Vr]=n.useState(()=>{try{const e=localStorage.getItem("promoTemplates");return e?JSON.parse(e):[]}catch(e){return[]}}),[Jr,Gr]=n.useState(!1),[Xr,_r]=n.useState(null);n.useEffect(()=>{try{localStorage.setItem("promoTemplates",JSON.stringify(Hr||[]))}catch(e){}},[Hr]);const[Kr,Qr]=n.useState(null),[Zr,en]=n.useState(null),[tn,on]=n.useState(""),[rn,nn]=n.useState(!1),[sn,an]=n.useState(!1),[ln,dn]=n.useState(!1),[pn,cn]=n.useState("all"),[xn,gn]=n.useState(""),[fn,un]=n.useState(""),[bn,hn]=n.useState("all"),[yn,mn]=n.useState("all"),[vn,jn]=n.useState(""),[wn,Sn]=n.useState({}),[Cn,kn]=n.useState("all"),[zn,Tn]=n.useState("all"),[Rn,In]=n.useState(""),Wn=re.filter(e=>{const t=(tn||"").trim().toLowerCase();if(sn&&!e.isCreator)return!1;if(ln&&e.isCreator)return!1;if("all"!==pn&&e.creatorCategory!==pn)return!1;if(xn&&Number(e.requestCount||0)<Number(xn))return!1;if(fn&&Number(e.avgPerRequest||0)<Number(fn))return!1;const o=wn[e.id];if(o){if("hasplan"===bn&&!o.hasPlan)return!1;if("noplan"===bn&&o.hasPlan)return!1;if("created"===yn&&0===o.createdRequestsCount)return!1;if("fulfilled"===yn&&0===o.fulfilledRequestsCount)return!1;if("free"===yn&&0===o.freeRequestsCount)return!1;if("none"===yn&&o.totalRequestsEngagement>0)return!1;if(vn&&o.daysSinceLastActivity>Number(vn))return!1}return!t||((e.name||"").toLowerCase().includes(t)||(e.email||"").toLowerCase().includes(t)||(String(e.id)||"").toLowerCase().includes(t))}),[Bn,Mn]=n.useState("permanent"),[An,En]=n.useState({value:7,unit:"days"}),[Ln,Pn]=n.useState(!1),[Nn,Dn]=n.useState(!1),[On,Fn]=n.useState({isVisible:!1,userId:null,userName:null,action:null,reason:null,timestamp:null}),[$n,Un]=n.useState(""),[Yn,qn]=n.useState(""),[Hn,Vn]=n.useState(""),[Jn,Gn]=n.useState(""),[Xn,_n]=n.useState(""),[Kn,Qn]=n.useState(""),[Zn,ei]=n.useState(""),[ti,oi]=n.useState(""),[ri,ni]=n.useState(()=>{try{const e=localStorage.getItem("requestAccentColorSelection");return e?JSON.parse(e):{}}catch(e){return{}}}),[ii,si]=n.useState({isOpen:!1,account:null,permissions:{},grantAdmin:!1}),[ai,li]=n.useState([]),[di,pi]=n.useState(""),[ci,xi]=n.useState(null),[gi,fi]=n.useState({isOpen:!1,member:null,permissions:{},grantAdmin:!1,blocked:!1}),[ui,bi]=n.useState({isOpen:!1,account:null,selectedReason:"",customMessage:""}),[hi,yi]=n.useState({isOpen:!1,account:null,permissions:{},grantAdmin:!1,instructions:""}),[mi,vi]=n.useState({isOpen:!1,showPasswordChange:!1,name:"",email:"",currentPasswords:["","",""],newPassword1:"",newPassword2:"",newPassword3:"",showPassword1:!1,showPassword2:!1,showPassword3:!1,showCurrentPassword1:!1,showCurrentPassword2:!1,showCurrentPassword3:!1}),[ji,wi]=n.useState({isOpen:!1,pageName:""}),[Si,Ci]=n.useState({name:"",email:"",newPassword:"",confirmPassword:"",showPasswordChange:!1,isEditing:!1}),ki={videos:"Videos",requests:"Requests",comments:"Comments",reports:"Report Queue",users:"Users",creators:"Creators",shadowDeleted:"Shadow Deleted",approvals:"Account Approvals",staffManagement:"Manage Staff",promotions:"Promotions"},zi=t=>"administrator"===e?.role||(!e?.permissions||!1!==e.permissions[t]),Ti=(e,t,o)=>{zi(t)?(O(e),Q(!1)):wi({isOpen:!0,pageName:ki[t]||e})},[Ri,Ii]=n.useState(new Set),[Wi,Bi]=n.useState(new Set),[Mi,Ai]=n.useState(new Set),[Ei,Li]=n.useState({}),[Pi,Ni]=n.useState({x:0,y:0}),[Di,Oi]=n.useState(!1),[Fi,$i]=n.useState({x:0,y:0}),[Ui,Yi]=n.useState(null),[qi,Hi]=n.useState("portrait"),[Vi,Ji]=n.useState(!1),[Gi,Xi]=n.useState(()=>{try{return JSON.parse(localStorage.getItem("overlayTemplates")||"[]")}catch(e){return[]}}),[_i,Ki]=n.useState(""),[Qi,Zi]=n.useState(null),[es,ts]=n.useState([]),[os,rs]=n.useState("beginning"),[ns,is]=n.useState(!1),[ss,as]=n.useState(""),[ls,ds]=n.useState(0),[ps,cs]=n.useState(30),[xs,gs]=n.useState(1),[fs,us]=n.useState([]);n.useEffect(()=>{const e=()=>{Li(e=>({...e,[A]:window.scrollY}))};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[A]),n.useEffect(()=>{const e=e=>{Di&&Ni({x:e.clientX-Fi.x,y:e.clientY-Fi.y})},t=()=>{Oi(!1)};return Di&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}},[Di,Fi]),n.useEffect(()=>{const e=()=>{try{const e=Math.max(0,window.innerWidth-320),t=Math.max(0,window.innerHeight-40);Ni(o=>{const r=Math.min(Math.max(0,o.x),e),n=Math.min(Math.max(0,o.y),t);return r!==o.x||n!==o.y?{x:r,y:n}:o})}catch(e){}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),n.useEffect(()=>{const e=localStorage.getItem("staffSession");e&&(i(JSON.parse(e)),hs(JSON.parse(e)))},[]),n.useEffect(()=>{if(!V.isPlaying)return;const e=setInterval(()=>{J(e=>{const t=pe.find(e=>e.id===q),o=t?.duration||100,r=e.currentTime+.033;return r>=o?{...e,currentTime:o,isPlaying:!1}:{...e,currentTime:r}})},33);return()=>clearInterval(e)},[V.isPlaying,q,pe]);const bs=(e,t=[],o="beginning")=>{const r=Gi.find(t=>t.id===e);if(!r)return;window.confirm("Applying overlays at specific positions (beginning/end) may affect monetization. Ensure Google AdSense/YouTube policies allow this. Proceed?")&&(ce(e=>e.map(e=>{if(!t.includes(e.id))return e;const n=e.appliedTemplates?[...e.appliedTemplates]:[];return n.push({templateId:r.id,placement:o}),{...e,appliedTemplates:n}})),alert(`Applied template "${r.name}" to ${t.length} video(s) at ${o}.`))};n.useEffect(()=>{const e=document.querySelector("[data-video-preview]");e&&(e.currentTime=V.currentTime,V.isPlaying?e.play().catch(()=>{}):e.pause())},[V.currentTime,V.isPlaying]),n.useEffect(()=>{try{localStorage.setItem("overlayTemplates",JSON.stringify(Gi))}catch(e){}},[Gi]),n.useEffect(()=>{const e=()=>{const e=window.innerWidth>window.innerHeight;Hi(e?"landscape":"portrait")};return window.addEventListener("orientationchange",e),window.addEventListener("resize",e),e(),()=>{window.removeEventListener("orientationchange",e),window.removeEventListener("resize",e)}},[]);const hs=async e=>{try{he(!0),me("");const t=await L(`${E()}/staff/notifications?employeeId=${e.id}`);if(t.ok){const e=await t.json();d(e.notifications||[])}const o=await L(`${E()}/staff/reports?employeeId=${e.id}`);if(o.ok){const e=await o.json();oe(e.reports||[])}const r=await L(`${E()}/staff/videos?employeeId=${e.id}`);if(r.ok){const e=((await r.json()).videos||[]).map(e=>({...e,duration:e.duration||ys(e.time)}));ce(e)}const n=await L(`${E()}/staff/users?employeeId=${e.id}`);if(n.ok){const e=await n.json();ne(e.users||[]);const t=(e.users||[]).filter(e=>e.isCreator);se(t)}const i=await L(`${E()}/staff/user-metrics?employeeId=${e.id}`);if(i.ok){const e=await i.json(),t={};(e.metrics||[]).forEach(e=>{t[e.id]=e}),Sn(t)}const s=await L(`${E()}/staff/requests?employeeId=${e.id}`);if(s.ok){const e=await s.json();ge(e.requests||[])}const a=await L(`${E()}/staff/comments?employeeId=${e.id}`);if(a.ok){const e=await a.json();ue(e.comments||[])}const l=await L(`${E()}/support/tickets?employeeId=${e.id}`);if(l.ok){const e=await l.json();console.log("Support tickets loaded:",e.tickets?.length||0),c(e.tickets||[])}else{const e=await l.text();console.error("Support tickets fetch failed:",l.status,e)}const p=await L(`${E()}/staff/onboarding-info?employeeId=${e.id}`);if(p.ok){const e=await p.json();$(e.onboardingInfo||[])}if("administrator"===e.role){const t=await L(`${E()}/staff/pending-accounts?employeeId=${e.id}`);if(t.ok){const e=await t.json();de(e.pendingAccounts||[])}const o=await L(`${E()}/staff/all?employeeId=${e.id}`);if(o.ok){const e=await o.json();li(e.members||[])}}}catch(t){me("Failed to load data"),console.error(t)}finally{he(!1)}},ys=e=>{if(!e||"string"!=typeof e)return 0;const t=e.split(":");return 2===t.length?60*parseInt(t[0])+parseInt(t[1]):0},ms=async(t,o)=>{if(t){console.log(`Click registered: ${o?"Approve":"Deny"} for ${t.name}`);try{(await L(`${E()}/staff/approve-account`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id,pendingId:t.employeeId,approve:o,denialReason:o?null:"Application denied by staff"})})).ok?(de(le.filter(e=>e.employeeId!==t.employeeId)),je({type:"success",message:o?`Account approved for ${t.name}`:`Account denied for ${t.name}`})):je({type:"error",message:`Failed to ${o?"approve":"deny"} account`})}catch(r){console.error((o?"Approval":"Denial")+" failed:",r),je({type:"error",message:`Failed to ${o?"approve":"deny"} account`})}}},vs=e=>{yi(t=>({...t,permissions:{videos:e,requests:e,comments:e,reports:e,users:e,creators:e,shadowDeleted:e,approvals:e,promotions:e,templates:e,ads:e}}))},js=async t=>{const o=Nr.reason.trim();if(o)try{(await L(`${E()}/staff/delete-video/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id,reason:o})})).ok?(ce(pe.map(r=>r.id===t?{...r,deleted:!0,deletedReason:o,deletedBy:e.id,deletedAt:(new Date).toISOString()}:r)),Dr({isOpen:!1,action:null,itemId:null,itemType:null,reason:""}),me(""),je({type:"success",message:"Video deleted"})):(me("Failed to delete video"),je({type:"error",message:"Failed to delete video"}))}catch(r){console.error("Delete failed:",r),me("Error deleting video")}else me("Please enter a reason")},ws=async t=>{const o=Nr.reason.trim();if(o)try{(await L(`${E()}/staff/hide-video/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id,reason:o})})).ok?(ce(pe.map(r=>r.id===t?{...r,hidden:!0,hiddenReason:o,hiddenBy:e.id,hiddenAt:(new Date).toISOString()}:r)),Dr({isOpen:!1,action:null,itemId:null,itemType:null,reason:""}),me(""),je({type:"success",message:"Video hidden"})):(me("Failed to hide video"),je({type:"error",message:"Failed to hide video"}))}catch(r){console.error("Hide failed:",r),me("Error hiding video")}else me("Please enter a reason")},Ss=async t=>{const o=Nr.reason.trim();if(o)try{(await L(`${E()}/staff/delete-request/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id,reason:o})})).ok?(ge(xe.map(r=>r.id===t?{...r,deleted:!0,deletedReason:o,deletedBy:e.id,deletedAt:(new Date).toISOString()}:r)),Dr({isOpen:!1,action:null,itemId:null,itemType:null,reason:""}),me(""),je({type:"success",message:"Request deleted"})):(me("Failed to delete request"),je({type:"error",message:"Failed to delete request"}))}catch(r){console.error("Delete failed:",r),me("Error deleting request")}else me("Please enter a reason")},Cs=async t=>{const o=Nr.reason.trim();if(o)try{(await L(`${E()}/staff/hide-request/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id,reason:o})})).ok?(ge(xe.map(r=>r.id===t?{...r,hidden:!0,hiddenReason:o,hiddenBy:e.id,hiddenAt:(new Date).toISOString()}:r)),Dr({isOpen:!1,action:null,itemId:null,itemType:null,reason:""}),me(""),je({type:"success",message:"Request hidden"})):(me("Failed to hide request"),je({type:"error",message:"Failed to hide request"}))}catch(r){console.error("Hide failed:",r),me("Error hiding request")}else me("Please enter a reason")},ks=async t=>{const o=Nr.reason.trim();if(o)try{(await L(`${E()}/staff/delete-comment/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id,reason:o})})).ok?(ue(fe.map(r=>r.id===t?{...r,deleted:!0,deletedReason:o,deletedBy:e.id,deletedAt:(new Date).toISOString()}:r)),Dr({isOpen:!1,action:null,itemId:null,itemType:null,reason:""}),me(""),je({type:"success",message:"Comment deleted"})):(me("Failed to delete comment"),je({type:"error",message:"Failed to delete comment"}))}catch(r){console.error("Delete failed:",r),me("Error deleting comment")}else me("Please enter a reason")},zs=async t=>{const o=Nr.reason.trim();if(o)try{(await L(`${E()}/staff/hide-comment/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id,reason:o})})).ok?(ue(fe.map(r=>r.id===t?{...r,hidden:!0,hiddenReason:o,hiddenBy:e.id,hiddenAt:(new Date).toISOString()}:r)),Dr({isOpen:!1,action:null,itemId:null,itemType:null,reason:""}),me(""),je({type:"success",message:"Comment hidden"})):(me("Failed to hide comment"),je({type:"error",message:"Failed to hide comment"}))}catch(r){console.error("Hide failed:",r),me("Error hiding comment")}else me("Please enter a reason")},Ts=(e,t)=>{let o="";if("ban"===e)if("temporary"===Bn){const e=1===An.value?An.unit.slice(0,-1):An.unit;o=`Your account has been temporarily banned for ${An.value} ${e}.\n\nReason: ${t||"Violating terms of service"}`}else o=`Your account has been permanently banned.\n\nReason: ${t||"Violating terms of service"}`;en({warn:{title:"Warning Notice",message:`Your account has received a warning for violating community guidelines.\n\nReason: ${t||"Violating community guidelines"}`,color:"#f59e0b",iconType:"warn"},ban:{title:"Account Banned",message:o,color:"#ef4444",iconType:"ban"},shadowban:{title:"Content Restricted",message:`Your content visibility has been restricted.\n\nReason: ${t||"Content violates guidelines"}`,color:"#6b7280",iconType:"shadowban"},delete:{title:"Account Deleted",message:`Your account and all associated content have been permanently deleted.\n\nReason: ${t||"Severe violation of terms of service"}`,color:"#8b5cf6",iconType:"delete"}}[e]||null)};return e?t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{padding:"24px",maxWidth:"1200px",margin:"0 auto",paddingBottom:"calc(80px + env(safe-area-inset-bottom, 0px))"},children:[t.jsxs("div",{style:{marginBottom:"24px",paddingTop:"calc(16px + env(safe-area-inset-top, 0px))"},children:[t.jsx("h1",{style:{fontSize:"20px",fontWeight:"bold",margin:"0"},children:"Staff Admin Dashboard"}),t.jsxs("p",{style:{color:"#666",margin:"8px 0 0 0"},children:["Welcome, ",e.name," (",e.role,")"]})]}),ye&&t.jsxs("div",{style:{padding:"12px",backgroundColor:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"8px",marginBottom:"16px",color:"#dc2626",display:"flex",gap:"8px",alignItems:"center"},children:[t.jsx(g,{size:18}),ye]}),t.jsxs("div",{style:{marginBottom:"24px",position:"relative"},children:[t.jsxs("button",{onClick:()=>Q(!K),style:{width:"100%",padding:"12px 16px",backgroundColor:"#3b82f6",color:"white",border:"2px solid #3b82f6",borderRadius:"12px",cursor:"pointer",fontSize:"15px",fontWeight:"bold",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},onBlur:e=>{e.currentTarget.parentElement.contains(e.relatedTarget)||setTimeout(()=>Q(!1),150)},children:[t.jsxs("span",{children:["videos"===A&&`Videos (${pe.length})`,"requests"===A&&`Requests (${xe.length})`,"comments"===A&&`Comments (${fe.length})`,"reports"===A&&`Report Queue (${te.length})`,"users"===A&&`Users (${re.length})`,"creators"===A&&`Creators (${ie.length})`,"shadowDeleted"===A&&`Shadow Deleted (${ae.length})`,"approvals"===A&&`Account Approvals (${le.length})`]}),t.jsx(b,{size:20,style:{transition:"transform 0.3s ease",transform:K?"rotate(180deg)":"rotate(0deg)"}})]}),K&&t.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"8px",backgroundColor:"white",border:"2px solid #3b82f6",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",zIndex:50,overflow:"hidden",maxHeight:"320px",overflowY:"auto"},children:[t.jsxs("button",{onClick:()=>Ti("videos","videos"),style:{display:"block",width:"100%",padding:"8px 12px",textAlign:"left",backgroundColor:"videos"===A?"#eff6ff":zi("videos")?"white":"#fef2f2",color:"videos"===A?"#1e40af":zi("videos")?"#374151":"#dc2626",border:"none",borderBottom:"1px solid #e5e7eb",cursor:"pointer",fontSize:"13px",fontWeight:"videos"===A?"bold":"normal",transition:"all 0.2s ease"},onMouseEnter:e=>e.target.style.backgroundColor="#f0f9ff",onMouseLeave:e=>e.target.style.backgroundColor="videos"===A?"#eff6ff":zi("videos")?"white":"#fef2f2",children:[!zi("videos")&&"ðŸš« ","Videos (",pe.length,")"]}),t.jsxs("button",{onClick:()=>Ti("requests","requests"),style:{display:"block",width:"100%",padding:"8px 12px",textAlign:"left",backgroundColor:"requests"===A?"#eff6ff":zi("requests")?"white":"#fef2f2",color:"requests"===A?"#1e40af":zi("requests")?"#374151":"#dc2626",border:"none",borderBottom:"1px solid #e5e7eb",cursor:"pointer",fontSize:"13px",fontWeight:"requests"===A?"bold":"normal",transition:"all 0.2s ease"},onMouseEnter:e=>e.target.style.backgroundColor="#f0f9ff",onMouseLeave:e=>e.target.style.backgroundColor="requests"===A?"#eff6ff":zi("requests")?"white":"#fef2f2",children:[!zi("requests")&&"ðŸš« ","Requests (",xe.length,")"]}),t.jsxs("button",{onClick:()=>Ti("comments","comments"),style:{display:"block",width:"100%",padding:"8px 12px",textAlign:"left",backgroundColor:"comments"===A?"#eff6ff":zi("comments")?"white":"#fef2f2",color:"comments"===A?"#1e40af":zi("comments")?"#374151":"#dc2626",border:"none",borderBottom:"1px solid #e5e7eb",cursor:"pointer",fontSize:"13px",fontWeight:"comments"===A?"bold":"normal",transition:"all 0.2s ease"},onMouseEnter:e=>e.target.style.backgroundColor="#f0f9ff",onMouseLeave:e=>e.target.style.backgroundColor="comments"===A?"#eff6ff":zi("comments")?"white":"#fef2f2",children:[!zi("comments")&&"ðŸš« ","Comments (",fe.length,")"]}),t.jsxs("button",{onClick:()=>Ti("reports","reports"),style:{display:"block",width:"100%",padding:"8px 12px",textAlign:"left",backgroundColor:"reports"===A?"#eff6ff":zi("reports")?"white":"#fef2f2",color:"reports"===A?"#1e40af":zi("reports")?"#374151":"#dc2626",border:"none",borderBottom:"1px solid #e5e7eb",cursor:"pointer",fontSize:"13px",fontWeight:"reports"===A?"bold":"normal",transition:"all 0.2s ease"},onMouseEnter:e=>e.target.style.backgroundColor="#f0f9ff",onMouseLeave:e=>e.target.style.backgroundColor="reports"===A?"#eff6ff":zi("reports")?"white":"#fef2f2",children:[!zi("reports")&&"ðŸš« ","Report Queue (",te.length,")"]}),t.jsxs("button",{onClick:()=>Ti("users","users"),style:{display:"block",width:"100%",padding:"8px 12px",textAlign:"left",backgroundColor:"users"===A?"#eff6ff":zi("users")?"white":"#fef2f2",color:"users"===A?"#1e40af":zi("users")?"#374151":"#dc2626",border:"none",borderBottom:"1px solid #e5e7eb",cursor:"pointer",fontSize:"13px",fontWeight:"users"===A?"bold":"normal",transition:"all 0.2s ease"},onMouseEnter:e=>e.target.style.backgroundColor="#f0f9ff",onMouseLeave:e=>e.target.style.backgroundColor="users"===A?"#eff6ff":zi("users")?"white":"#fef2f2",children:[!zi("users")&&"ðŸš« ","Users (",re.length,")"]}),t.jsxs("button",{onClick:()=>Ti("creators","creators"),style:{display:"block",width:"100%",padding:"8px 12px",textAlign:"left",backgroundColor:"creators"===A?"#eff6ff":zi("creators")?"white":"#fef2f2",color:"creators"===A?"#1e40af":zi("creators")?"#374151":"#dc2626",border:"none",borderBottom:"1px solid #e5e7eb",cursor:"pointer",fontSize:"13px",fontWeight:"creators"===A?"bold":"normal",transition:"all 0.2s ease"},onMouseEnter:e=>e.target.style.backgroundColor="#f0f9ff",onMouseLeave:e=>e.target.style.backgroundColor="creators"===A?"#eff6ff":zi("creators")?"white":"#fef2f2",children:[!zi("creators")&&"ðŸš« ","Creators (",ie.length,")"]}),t.jsxs("button",{onClick:()=>Ti("feedback","reports"),style:{width:"100%",padding:"8px 12px",textAlign:"left",backgroundColor:"feedback"===A?"#eff6ff":"white",color:"feedback"===A?"#1e40af":"#374151",border:"none",borderBottom:"1px solid #e5e7eb",cursor:"pointer",fontSize:"13px",fontWeight:"feedback"===A?"bold":"normal",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:e=>e.target.style.backgroundColor="#f0f9ff",onMouseLeave:e=>e.target.style.backgroundColor="feedback"===A?"#eff6ff":"white",children:[t.jsx(h,{size:16})," User Feedback"]}),t.jsxs("button",{onClick:()=>Ti("support","support"),style:{width:"100%",padding:"8px 12px",textAlign:"left",backgroundColor:"support"===A?"#eff6ff":"white",color:"support"===A?"#1e40af":"#374151",border:"none",borderBottom:"1px solid #e5e7eb",cursor:"pointer",fontSize:"13px",fontWeight:"support"===A?"bold":"normal",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:e=>e.target.style.backgroundColor="#f0f9ff",onMouseLeave:e=>e.target.style.backgroundColor="support"===A?"#eff6ff":"white",children:["Support Tickets (",p?p.length:0,")"]}),t.jsx("button",{onClick:()=>Ti("onboarding","onboarding"),style:{width:"100%",padding:"8px 12px",textAlign:"left",backgroundColor:"onboarding"===A?"#eff6ff":"white",color:"onboarding"===A?"#1e40af":"#374151",border:"none",borderBottom:"1px solid #e5e7eb",cursor:"pointer",fontSize:"13px",fontWeight:"onboarding"===A?"bold":"normal",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:e=>e.target.style.backgroundColor="#f0f9ff",onMouseLeave:e=>e.target.style.backgroundColor="onboarding"===A?"#eff6ff":"white",children:"Creator Onboarding Info"}),t.jsxs("button",{onClick:()=>Ti("shadowDeleted","shadowDeleted"),style:{display:"block",width:"100%",padding:"12px 16px",textAlign:"left",backgroundColor:"shadowDeleted"===A?"#eff6ff":zi("shadowDeleted")?"white":"#fef2f2",color:"shadowDeleted"===A?"#1e40af":zi("shadowDeleted")?"#374151":"#dc2626",border:"none",borderBottom:"1px solid #e5e7eb",cursor:"pointer",fontSize:"14px",fontWeight:"shadowDeleted"===A?"bold":"normal",transition:"all 0.2s ease"},onMouseEnter:e=>e.target.style.backgroundColor="#f0f9ff",onMouseLeave:e=>e.target.style.backgroundColor="shadowDeleted"===A?"#eff6ff":zi("shadowDeleted")?"white":"#fef2f2",children:[!zi("shadowDeleted")&&"ðŸš« ","Shadow Deleted (",ae.length,")"]}),"administrator"===e?.role&&t.jsxs("button",{onClick:()=>Ti("approvals","approvals"),style:{display:"block",width:"100%",padding:"12px 16px",textAlign:"left",backgroundColor:"approvals"===A?"#eff6ff":"white",color:"approvals"===A?"#1e40af":"#374151",border:"none",borderBottom:"1px solid #e5e7eb",cursor:"pointer",fontSize:"14px",fontWeight:"approvals"===A?"bold":"normal",transition:"all 0.2s ease"},onMouseEnter:e=>e.target.style.backgroundColor="#f0f9ff",onMouseLeave:e=>e.target.style.backgroundColor="approvals"===A?"#eff6ff":"white",children:["Account Approvals (",le.length,")"]}),"administrator"===e?.role&&t.jsxs("button",{onClick:()=>Ti("staffManagement","staffManagement"),style:{display:"block",width:"100%",padding:"12px 16px",textAlign:"left",backgroundColor:"staffManagement"===A?"#eff6ff":"white",color:"staffManagement"===A?"#1e40af":"#374151",border:"none",borderBottom:"1px solid #e5e7eb",cursor:"pointer",fontSize:"14px",fontWeight:"staffManagement"===A?"bold":"normal",transition:"all 0.2s ease"},onMouseEnter:e=>e.target.style.backgroundColor="#f0f9ff",onMouseLeave:e=>e.target.style.backgroundColor="staffManagement"===A?"#eff6ff":"white",children:["Manage Staff (",ai.length,")"]}),t.jsx("button",{onClick:()=>{vi({isOpen:!0,showPasswordChange:!1,name:e?.name||"",email:e?.email||"",currentPasswords:e?.passwords||["","",""],newPassword1:"",newPassword2:"",newPassword3:"",showPassword1:!1,showPassword2:!1,showPassword3:!1,showCurrentPassword1:!1,showCurrentPassword2:!1,showCurrentPassword3:!1}),Q(!1)},style:{display:"block",width:"100%",padding:"12px 16px",textAlign:"left",backgroundColor:"white",color:"#374151",border:"none",borderBottom:"1px solid #e5e7eb",cursor:"pointer",fontSize:"14px",fontWeight:"normal",transition:"all 0.2s ease"},onMouseEnter:e=>e.target.style.backgroundColor="#f0f9ff",onMouseLeave:e=>e.target.style.backgroundColor="white",children:"ðŸ‘¤ My Profile"}),t.jsxs("button",{onClick:()=>Ti("promotions","promotions"),style:{display:"block",width:"100%",padding:"12px 16px",textAlign:"left",backgroundColor:"promotions"===A?"#eff6ff":zi("promotions")?"white":"#fef2f2",color:"promotions"===A?"#1e40af":zi("promotions")?"#374151":"#dc2626",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:"promotions"===A?"bold":"normal",transition:"all 0.2s ease"},onMouseEnter:e=>e.target.style.backgroundColor="#f0f9ff",onMouseLeave:e=>e.target.style.backgroundColor="promotions"===A?"#eff6ff":zi("promotions")?"white":"#fef2f2",children:[!zi("promotions")&&"ðŸš« ","Promotions"]})]}),Jr&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:1100,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>Gr(!1),children:t.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"20px",width:"90%",maxWidth:"520px",boxShadow:"0 12px 30px rgba(0,0,0,0.2)"},onClick:e=>e.stopPropagation(),children:[t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:t.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:700},children:"Message Templates"})}),t.jsx("style",{children:"\n                .templates-no-scroll::-webkit-scrollbar { display: none; }\n                .templates-no-scroll { scrollbar-width: none; -ms-overflow-style: none; }\n              "}),t.jsxs("div",{className:"templates-no-scroll",style:{maxHeight:"70vh",overflowY:"scroll",position:"relative"},children:[(!Hr||0===Hr.length)&&t.jsx("div",{style:{color:"#6b7280"},children:"No templates yet â€” send a promotion to auto-save one."}),Hr.map(e=>t.jsxs("div",{style:{padding:"12px",marginBottom:"12px",background:"#ffffff",borderRadius:"10px",boxShadow:"0 6px 16px rgba(15,23,42,0.06)",display:"flex",flexDirection:"column"},children:[t.jsx("div",{style:{display:"flex",justifyContent:"space-between",gap:"12px",alignItems:"flex-start"},children:t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsx("div",{style:{fontWeight:700,fontSize:"14px",color:"#111827",marginBottom:"6px"},children:e.title}),t.jsx("div",{style:{fontSize:"13px",color:"#6b7280",whiteSpace:"pre-wrap",lineHeight:1.45,overflowWrap:"break-word"},children:e.message})]})}),t.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"8px",justifyContent:"flex-end",flexWrap:"wrap"},children:[t.jsx("button",{onClick:()=>{Ur({...$r,title:e.title,message:e.message}),Gr(!1)},style:{padding:"8px 12px",background:"#eef2ff",border:"none",borderRadius:"8px",cursor:"pointer",minWidth:"72px",fontWeight:600},children:"Apply"}),t.jsx("button",{onClick:()=>_r(e),style:{padding:"8px 12px",background:"#fff7ed",border:"none",borderRadius:"8px",cursor:"pointer",minWidth:"72px",fontWeight:600},children:"Edit"}),t.jsx("button",{onClick:()=>Vr(t=>t.filter(t=>t.id!==e.id)),style:{padding:"8px 12px",background:"#fee2e2",border:"none",borderRadius:"8px",cursor:"pointer",minWidth:"72px",fontWeight:600},children:"Delete"})]})]},e.id))]}),Xr&&t.jsxs("div",{style:{marginTop:"12px",borderTop:"1px solid #eef2f6",paddingTop:"12px"},children:[t.jsx("input",{value:Xr.title,onChange:e=>_r({...Xr,title:e.target.value}),style:{width:"100%",padding:"8px",marginBottom:"8px",border:"1px solid #e5e7eb",borderRadius:"6px"}}),t.jsx("textarea",{value:Xr.message,onChange:e=>_r({...Xr,message:e.target.value}),style:{width:"100%",padding:"8px",minHeight:"80px",border:"1px solid #e5e7eb",borderRadius:"6px"}}),t.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:[t.jsx("button",{onClick:()=>{Vr(e=>e.map(e=>e.id===Xr.id?Xr:e)),_r(null)},style:{padding:"8px 12px",background:"#10b981",color:"white",border:"none",borderRadius:"8px"},children:"Save"}),t.jsx("button",{onClick:()=>_r(null),style:{padding:"8px 12px",background:"#e5e7eb",border:"none",borderRadius:"8px"},children:"Cancel"})]})]})]})})]}),be?t.jsx("div",{style:{textAlign:"center",padding:"32px",color:"#666"},children:"Loading..."}):t.jsxs(t.Fragment,{children:["videos"===A&&t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"24px",position:"relative",display:"flex",alignItems:"center"},children:[t.jsx(l,{size:18,style:{position:"absolute",left:"12px",color:"#6b7280",pointerEvents:"none"}}),t.jsx("input",{type:"text",placeholder:"Search videos by title, author...",value:$n,onChange:e=>Un(e.target.value),style:{width:"100%",padding:"10px 12px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},onFocus:e=>{e.target.style.borderColor="#4f46e5",e.target.style.boxShadow="0 4px 12px rgba(79,70,229,0.15)"},onBlur:e=>{e.target.style.borderColor="#e5e7eb",e.target.style.boxShadow="0 1px 3px rgba(0,0,0,0.05)"}})]}),(()=>{const e=pe.filter(e=>e.title.toLowerCase().includes($n.toLowerCase())||e.author.toLowerCase().includes($n.toLowerCase()));return 0===e.length?t.jsxs("div",{style:{padding:"48px 32px",textAlign:"center",background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",borderRadius:"10px",color:"#6b7280",border:"1px solid #d1d5db"},children:[t.jsx("div",{style:{width:"72px",height:"72px",backgroundColor:"rgba(79,70,229,0.1)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:t.jsx(o,{size:36,style:{color:"#4f46e5"}})}),t.jsx("p",{style:{margin:"0 0 6px",fontSize:"15px",fontWeight:"600",color:"#1f2937"},children:$n?"No Videos Found":"No Videos Yet"}),t.jsx("p",{style:{margin:"0",fontSize:"13px",color:"#6b7280"},children:$n?`No results for "${$n}"`:"Upload and manage videos to get started"})]}):t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[t.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"8px"},children:["Showing ",e.length," of ",pe.length," videos"]}),e.map(e=>t.jsxs("div",{style:{padding:"16px",border:e.hidden?"2px solid #f59e0b":e.deleted?"2px solid #a855f7":"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:e.hidden?"#fef3c7":e.deleted?"#faf5ff":"#fff",position:"relative"},children:[t.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"12px",flexWrap:"wrap"},children:[e.hidden&&t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 12px",backgroundColor:"#f59e0b",color:"white",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:[t.jsx(r,{size:14}),"Hidden"]}),e.deleted&&t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 12px",backgroundColor:"#a855f7",color:"white",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:[t.jsx(s,{size:14}),"Deleted"]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"12px"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{margin:"0 0 4px 0",fontSize:"16px",fontWeight:"bold"},children:e.title}),t.jsxs("p",{style:{margin:"4px 0",color:"#666",fontSize:"14px"},children:["Author: ",e.author]}),t.jsxs("p",{style:{margin:"4px 0",color:"#666",fontSize:"14px"},children:["Views: ",e.views," | Likes: ",e.likes," | Comments: ",e.comments]}),t.jsx("p",{style:{margin:"4px 0",color:"#999",fontSize:"12px"},children:new Date(e.timestamp).toLocaleString()})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",flexDirection:"column",alignItems:"flex-end"},children:[!e.hidden&&!e.deleted&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>Er({isOpen:!0,itemId:e.id,itemType:"video"}),style:{padding:"8px 16px",backgroundColor:"white",color:"#dc2626",border:"2px solid #dc2626",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.backgroundColor="#dc2626",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.backgroundColor="white",e.target.style.color="#dc2626"},children:"Action"}),t.jsx("button",{onClick:()=>Po(e),style:{padding:"8px 16px",backgroundColor:"white",color:"#0b74de",border:"2px solid #0b74de",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.backgroundColor="#0b74de",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.backgroundColor="white",e.target.style.color="#0b74de"},children:"Manage Ads"})]}),(e.hidden||e.deleted)&&t.jsx("button",{onClick:()=>Pr({isOpen:!0,action:e.hidden?"unhide":"undelete",itemId:e.id,itemType:"video"}),style:{padding:"8px 16px",backgroundColor:"white",color:"#10b981",border:"2px solid #10b981",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.backgroundColor="#10b981",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.backgroundColor="white",e.target.style.color="#10b981"},children:"Undo"})]})]})]},e.id))]})})(),t.jsxs("div",{style:{position:"fixed",right:"20px",bottom:"90px",display:"flex",flexDirection:"column",gap:"12px",zIndex:40},children:[t.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),title:"Go to top",style:{padding:"12px 12px",backgroundColor:"#4f46e5",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(79,70,229,0.3)",width:"44px",height:"44px"},onMouseEnter:e=>{e.target.style.backgroundColor="#4338ca",e.target.style.boxShadow="0 6px 20px rgba(79,70,229,0.4)",e.target.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.target.style.backgroundColor="#4f46e5",e.target.style.boxShadow="0 4px 12px rgba(79,70,229,0.3)",e.target.style.transform="translateY(0)"},children:t.jsx(y,{size:20})}),t.jsx("button",{onClick:()=>{const e=Ei.videos||0;e>0&&window.scrollTo({top:e,behavior:"smooth"})},title:"Go back to last position",style:{padding:"12px 12px",backgroundColor:(Ei.videos||0)>0?"#4f46e5":"#d1d5db",color:"white",border:"none",borderRadius:"8px",cursor:(Ei.videos||0)>0?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",boxShadow:(Ei.videos||0)>0?"0 4px 12px rgba(79,70,229,0.3)":"none",width:"44px",height:"44px",opacity:(Ei.videos||0)>0?1:.6},onMouseEnter:e=>{(Ei.videos||0)>0&&(e.target.style.backgroundColor="#4338ca",e.target.style.boxShadow="0 6px 20px rgba(79,70,229,0.4)",e.target.style.transform="translateY(-2px)")},onMouseLeave:e=>{e.target.style.backgroundColor=(Ei.videos||0)>0?"#4f46e5":"#d1d5db",e.target.style.boxShadow=(Ei.videos||0)>0?"0 4px 12px rgba(79,70,229,0.3)":"none",e.target.style.transform="translateY(0)"},children:t.jsx(b,{size:20})})]})]}),"requests"===A&&t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"24px",position:"relative",display:"flex",alignItems:"center"},children:[t.jsx(l,{size:18,style:{position:"absolute",left:"12px",color:"#6b7280",pointerEvents:"none"}}),t.jsx("input",{type:"text",placeholder:"Search requests by title, company...",value:Yn,onChange:e=>qn(e.target.value),style:{width:"100%",padding:"10px 12px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},onFocus:e=>{e.target.style.borderColor="#4f46e5",e.target.style.boxShadow="0 4px 12px rgba(79,70,229,0.15)"},onBlur:e=>{e.target.style.borderColor="#e5e7eb",e.target.style.boxShadow="0 1px 3px rgba(0,0,0,0.05)"}})]}),(()=>{const e=xe.filter(e=>e.title.toLowerCase().includes(Yn.toLowerCase())||e.company&&e.company.toLowerCase().includes(Yn.toLowerCase()));return 0===e.length?t.jsxs("div",{style:{padding:"48px 32px",textAlign:"center",background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",borderRadius:"10px",color:"#6b7280",border:"1px solid #d1d5db"},children:[t.jsx("div",{style:{width:"72px",height:"72px",backgroundColor:"rgba(79,70,229,0.1)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:t.jsx(o,{size:36,style:{color:"#4f46e5"}})}),t.jsx("p",{style:{margin:"0 0 6px",fontSize:"15px",fontWeight:"600",color:"#1f2937"},children:Yn?"No Requests Found":"No Requests Yet"}),t.jsx("p",{style:{margin:"0",fontSize:"13px",color:"#6b7280"},children:Yn?`No results for "${Yn}"`:"Manage special requests from users here"})]}):t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[t.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"8px"},children:["Showing ",e.length," of ",xe.length," requests"]}),e.map(e=>{const o=ri[e.id],n=(e.boosts||0)>=1,i=o||n,a="#9333ea";let l="#9ca3af",d="1px";return e.hidden?(l="#f59e0b",d="2px"):e.deleted?(l="#a855f7",d="2px"):i&&(l=a,d="2px"),t.jsxs("div",{style:{padding:"16px",border:`${d} solid ${l}`,borderRadius:"8px",backgroundColor:e.hidden?"#fef3c7":e.deleted?"#faf5ff":i?P(a,.05):"#fff",position:"relative",transition:"all 0.2s ease"},children:[t.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"12px",flexWrap:"wrap"},children:[e.hidden&&t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 12px",backgroundColor:"#f59e0b",color:"white",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:[t.jsx(r,{size:14}),"Hidden"]}),e.deleted&&t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 12px",backgroundColor:"#a855f7",color:"white",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:[t.jsx(s,{size:14}),"Deleted"]}),n&&!ri[e.id]&&t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 12px",backgroundColor:a,color:"white",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:[t.jsx(h,{size:14}),"Boosted"]}),o&&t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 12px",backgroundColor:a,color:"white",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:[t.jsx(m,{size:14}),"Admin Selected"]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"12px"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{margin:"0 0 4px 0",fontSize:"16px",fontWeight:"bold"},children:e.title}),t.jsxs("p",{style:{margin:"4px 0",color:"#666",fontSize:"14px"},children:["Requester: ",e.company]}),e.claimedBy&&t.jsxs("p",{style:{margin:"4px 0",color:"#666",fontSize:"14px"},children:["Claimed by: ",e.claimedBy.name]}),t.jsxs("p",{style:{margin:"4px 0",color:"#666",fontSize:"14px"},children:["Likes: ",e.likes," | Comments: ",e.comments," | Boosts: ",e.boosts||0]}),t.jsx("p",{style:{margin:"4px 0",color:"#999",fontSize:"12px"},children:new Date(e.createdAt).toLocaleString()})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",flexDirection:"column",alignItems:"flex-end"},children:[!e.hidden&&!e.deleted&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>Er({isOpen:!0,itemId:e.id,itemType:"request"}),style:{padding:"8px 16px",backgroundColor:"white",color:"#dc2626",border:"2px solid #dc2626",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.backgroundColor="#dc2626",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.backgroundColor="white",e.target.style.color="#dc2626"},children:"Action"}),t.jsxs("button",{onClick:()=>{let t;ri[e.id]?(t={...ri},delete t[e.id]):t={...ri,[e.id]:!0},ni(t),localStorage.setItem("requestAccentColorSelection",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("adminSelectionChanged",{detail:t}))},style:{padding:"8px 16px",backgroundColor:ri[e.id]?"#9333ea":"white",color:ri[e.id]?"white":"#9333ea",border:"2px solid #9333ea",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"4px"},onMouseEnter:t=>{ri[e.id]?t.target.style.backgroundColor="#7c3aed":t.target.style.backgroundColor="rgba(147, 51, 234, 0.1)"},onMouseLeave:t=>{t.target.style.backgroundColor=ri[e.id]?"#9333ea":"white"},title:"Toggle accent color outline for this request",children:[t.jsx(m,{size:14}),ri[e.id]?"Selected":"Select"]})]}),(e.hidden||e.deleted)&&t.jsx("button",{onClick:()=>Pr({isOpen:!0,action:e.hidden?"unhide":"undelete",itemId:e.id,itemType:"request"}),style:{padding:"8px 16px",backgroundColor:"white",color:"#10b981",border:"2px solid #10b981",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.backgroundColor="#10b981",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.backgroundColor="white",e.target.style.color="#10b981"},children:"Undo"})]})]})]},e.id)})]})})(),t.jsxs("div",{style:{position:"fixed",right:"20px",bottom:"90px",display:"flex",flexDirection:"column",gap:"12px",zIndex:40},children:[t.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),title:"Go to top",style:{padding:"12px 12px",backgroundColor:"#4f46e5",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(79,70,229,0.3)",width:"44px",height:"44px"},onMouseEnter:e=>{e.target.style.backgroundColor="#4338ca",e.target.style.boxShadow="0 6px 20px rgba(79,70,229,0.4)",e.target.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.target.style.backgroundColor="#4f46e5",e.target.style.boxShadow="0 4px 12px rgba(79,70,229,0.3)",e.target.style.transform="translateY(0)"},children:t.jsx(y,{size:20})}),t.jsx("button",{onClick:()=>{const e=Ei.requests||0;e>0&&window.scrollTo({top:e,behavior:"smooth"})},title:"Go back to last position",style:{padding:"12px 12px",backgroundColor:(Ei.requests||0)>0?"#4f46e5":"#d1d5db",color:"white",border:"none",borderRadius:"8px",cursor:(Ei.requests||0)>0?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",boxShadow:(Ei.requests||0)>0?"0 4px 12px rgba(79,70,229,0.3)":"none",width:"44px",height:"44px",opacity:(Ei.requests||0)>0?1:.6},onMouseEnter:e=>{(Ei.requests||0)>0&&(e.target.style.backgroundColor="#4338ca",e.target.style.boxShadow="0 6px 20px rgba(79,70,229,0.4)",e.target.style.transform="translateY(-2px)")},onMouseLeave:e=>{e.target.style.backgroundColor=(Ei.requests||0)>0?"#4f46e5":"#d1d5db",e.target.style.boxShadow=(Ei.requests||0)>0?"0 4px 12px rgba(79,70,229,0.3)":"none",e.target.style.transform="translateY(0)"},children:t.jsx(b,{size:20})})]})]}),"comments"===A&&t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"24px",position:"relative",display:"flex",alignItems:"center"},children:[t.jsx(l,{size:18,style:{position:"absolute",left:"12px",color:"#6b7280",pointerEvents:"none"}}),t.jsx("input",{type:"text",placeholder:"Search comments by text, author...",value:Hn,onChange:e=>Vn(e.target.value),style:{width:"100%",padding:"10px 12px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},onFocus:e=>{e.target.style.borderColor="#4f46e5",e.target.style.boxShadow="0 4px 12px rgba(79,70,229,0.15)"},onBlur:e=>{e.target.style.borderColor="#e5e7eb",e.target.style.boxShadow="0 1px 3px rgba(0,0,0,0.05)"}})]}),(()=>{const e=fe.filter(e=>(e.text||"").toLowerCase().includes(Hn.toLowerCase())||e.userName&&e.userName.toLowerCase().includes(Hn.toLowerCase()));return 0===e.length?t.jsxs("div",{style:{padding:"48px 32px",textAlign:"center",background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",borderRadius:"10px",color:"#6b7280",border:"1px solid #d1d5db"},children:[t.jsx("div",{style:{width:"72px",height:"72px",backgroundColor:"rgba(79,70,229,0.1)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:t.jsx(o,{size:36,style:{color:"#4f46e5"}})}),t.jsx("p",{style:{margin:"0 0 6px",fontSize:"15px",fontWeight:"600",color:"#1f2937"},children:Hn?"No Comments Found":"No Comments Yet"}),t.jsx("p",{style:{margin:"0",fontSize:"13px",color:"#6b7280"},children:Hn?`No results for "${Hn}"`:"Manage and moderate comments here"})]}):t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[t.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"8px"},children:["Showing ",e.length," of ",fe.length," comments"]}),e.map(e=>t.jsxs("div",{style:{padding:"16px",border:e.hidden?"2px solid #f59e0b":e.deleted?"2px solid #a855f7":"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:e.hidden?"#fef3c7":e.deleted?"#faf5ff":"#fff",position:"relative"},children:[t.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"12px",flexWrap:"wrap"},children:[e.hidden&&t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 12px",backgroundColor:"#f59e0b",color:"white",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:[t.jsx(r,{size:14}),"Hidden"]}),e.deleted&&t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 12px",backgroundColor:"#a855f7",color:"white",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:[t.jsx(s,{size:14}),"Deleted"]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"12px"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{margin:"0 0 4px 0",fontSize:"16px",fontWeight:"bold"},children:e.userName}),t.jsx("p",{style:{margin:"4px 0",color:"#666",fontSize:"14px"},children:e.text}),t.jsxs("p",{style:{margin:"4px 0",color:"#666",fontSize:"12px"},children:["On request: ",e.requestId]}),t.jsxs("p",{style:{margin:"4px 0",color:"#666",fontSize:"12px"},children:["Likes: ",e.likesCount," | Dislikes: ",e.dislikesCount]}),t.jsx("p",{style:{margin:"4px 0",color:"#999",fontSize:"12px"},children:new Date(e.createdAt).toLocaleString()})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",flexDirection:"column",alignItems:"flex-end"},children:[!e.hidden&&!e.deleted&&t.jsx("button",{onClick:()=>Er({isOpen:!0,itemId:e.id,itemType:"comment"}),style:{padding:"8px 16px",backgroundColor:"white",color:"#dc2626",border:"2px solid #dc2626",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.backgroundColor="#dc2626",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.backgroundColor="white",e.target.style.color="#dc2626"},children:"Action"}),(e.hidden||e.deleted)&&t.jsx("button",{onClick:()=>Pr({isOpen:!0,action:e.hidden?"unhide":"undelete",itemId:e.id,itemType:"comment"}),style:{padding:"8px 16px",backgroundColor:"white",color:"#10b981",border:"2px solid #10b981",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.backgroundColor="#10b981",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.backgroundColor="white",e.target.style.color="#10b981"},children:"Undo"})]})]})]},e.id))]})})(),t.jsxs("div",{style:{position:"fixed",right:"20px",bottom:"90px",display:"flex",flexDirection:"column",gap:"12px",zIndex:40},children:[t.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),title:"Go to top",style:{padding:"12px 12px",backgroundColor:"#4f46e5",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(79,70,229,0.3)",width:"44px",height:"44px"},onMouseEnter:e=>{e.target.style.backgroundColor="#4338ca",e.target.style.boxShadow="0 6px 20px rgba(79,70,229,0.4)",e.target.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.target.style.backgroundColor="#4f46e5",e.target.style.boxShadow="0 4px 12px rgba(79,70,229,0.3)",e.target.style.transform="translateY(0)"},children:t.jsx(y,{size:20})}),t.jsx("button",{onClick:()=>{const e=Ei.comments||0;e>0&&window.scrollTo({top:e,behavior:"smooth"})},title:"Go back to last position",style:{padding:"12px 12px",backgroundColor:(Ei.comments||0)>0?"#4f46e5":"#d1d5db",color:"white",border:"none",borderRadius:"8px",cursor:(Ei.comments||0)>0?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",boxShadow:(Ei.comments||0)>0?"0 4px 12px rgba(79,70,229,0.3)":"none",width:"44px",height:"44px",opacity:(Ei.comments||0)>0?1:.6},onMouseEnter:e=>{(Ei.comments||0)>0&&(e.target.style.backgroundColor="#4338ca",e.target.style.boxShadow="0 6px 20px rgba(79,70,229,0.4)",e.target.style.transform="translateY(-2px)")},onMouseLeave:e=>{e.target.style.backgroundColor=(Ei.comments||0)>0?"#4f46e5":"#d1d5db",e.target.style.boxShadow=(Ei.comments||0)>0?"0 4px 12px rgba(79,70,229,0.3)":"none",e.target.style.transform="translateY(0)"},children:t.jsx(b,{size:20})})]})]}),"users"===A&&t.jsxs("div",{children:[On.isVisible&&t.jsxs("div",{style:{marginBottom:"24px",padding:"16px",backgroundColor:"#eff6ff",border:"2px solid #3b82f6",borderRadius:"8px",display:"flex",alignItems:"center",gap:"16px",animation:"slideIn 0.3s ease",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.15)"},children:[t.jsxs("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:"warn"===On.action?"#f59e0b":"ban"===On.action?"#ef4444":"shadowban"===On.action?"#8b5cf6":"delete"===On.action?"#dc2626":"#10b981",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"20px",flexShrink:0},children:["warn"===On.action&&"âš ï¸","ban"===On.action&&"ðŸš«","shadowban"===On.action&&"ðŸ‘ï¸","delete"===On.action&&"ðŸ—‘ï¸"]}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("h4",{style:{margin:"0 0 4px 0",color:"#1e40af",fontSize:"14px",fontWeight:"bold"},children:["Action Applied: ",On.action.toUpperCase()]}),t.jsxs("p",{style:{margin:"0",color:"#1e3a8a",fontSize:"13px"},children:[t.jsx("strong",{children:On.userName})," - ",On.reason]})]}),t.jsx("button",{onClick:async()=>{try{(await L(`${E()}/staff/undo-user-action/${On.userId}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id,action:On.action})})).ok?(Fn({isVisible:!1,userId:null,userName:null,action:null,reason:null,timestamp:null}),je({type:"success",message:`${On.action} action undone`}),e&&hs(e)):je({type:"error",message:"Failed to undo action"})}catch(t){console.error("Undo user action failed:",t),je({type:"error",message:"Error undoing action"})}},style:{padding:"8px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",whiteSpace:"nowrap",transition:"all 0.2s",flexShrink:0},onMouseEnter:e=>{e.target.style.backgroundColor="#059669",e.target.style.boxShadow="0 2px 8px rgba(16, 185, 129, 0.3)"},onMouseLeave:e=>{e.target.style.backgroundColor="#10b981",e.target.style.boxShadow="none"},children:"â†¶ Undo"})]}),t.jsxs("div",{style:{marginBottom:"24px",display:"flex",gap:"12px",alignItems:"center"},children:[t.jsxs("div",{style:{flex:1,position:"relative",display:"flex",alignItems:"center"},children:[t.jsx(l,{size:18,style:{position:"absolute",left:"12px",color:"#6b7280",pointerEvents:"none"}}),t.jsx("input",{type:"text",placeholder:"Search users by name, email...",value:Jn,onChange:e=>Gn(e.target.value),style:{width:"100%",padding:"10px 12px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},onFocus:e=>{e.target.style.borderColor="#4f46e5",e.target.style.boxShadow="0 4px 12px rgba(79,70,229,0.15)"},onBlur:e=>{e.target.style.borderColor="#e5e7eb",e.target.style.boxShadow="0 1px 3px rgba(0,0,0,0.05)"}})]}),t.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),title:"Go to top",style:{padding:"10px 14px",backgroundColor:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",color:"#4f46e5"},onMouseEnter:e=>{e.target.style.backgroundColor="#e5e7eb",e.target.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},onMouseLeave:e=>{e.target.style.backgroundColor="#f3f4f6",e.target.style.boxShadow="none"},children:t.jsx(y,{size:18})}),t.jsx("button",{onClick:()=>{const e=Ei[A]||0;e>0&&window.scrollTo({top:e,behavior:"smooth"})},title:"Go back to last position",style:{padding:"10px 14px",backgroundColor:(Ei[A]||0)>0?"#f3f4f6":"#e5e7eb",border:"1px solid "+((Ei[A]||0)>0?"#e5e7eb":"#d1d5db"),borderRadius:"8px",cursor:(Ei[A]||0)>0?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",color:(Ei[A]||0)>0?"#4f46e5":"#9ca3af",opacity:(Ei[A]||0)>0?1:.6},onMouseEnter:e=>{(Ei[A]||0)>0&&(e.target.style.backgroundColor="#e5e7eb",e.target.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)")},onMouseLeave:e=>{(Ei[A]||0)>0&&(e.target.style.backgroundColor="#f3f4f6",e.target.style.boxShadow="none")},children:t.jsx(b,{size:18})})]}),(()=>{const e=re.filter(e=>e.name.toLowerCase().includes(Jn.toLowerCase())||e.email&&e.email.toLowerCase().includes(Jn.toLowerCase()));return 0===e.length?t.jsxs("div",{style:{padding:"48px 32px",textAlign:"center",background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",borderRadius:"10px",color:"#6b7280",border:"1px solid #d1d5db"},children:[t.jsx("div",{style:{width:"72px",height:"72px",backgroundColor:"rgba(79,70,229,0.1)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:t.jsx(v,{size:36,style:{color:"#4f46e5"}})}),t.jsx("p",{style:{margin:"0 0 6px",fontSize:"15px",fontWeight:"600",color:"#1f2937"},children:Jn?"No Users Found":"No Users Yet"}),t.jsx("p",{style:{margin:"0",fontSize:"13px",color:"#6b7280"},children:Jn?`No results for "${Jn}"`:"User management and moderation tools"})]}):t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[t.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"8px"},children:["Showing ",e.length," of ",re.length," users"]}),e.map(e=>{const o=Wi.has(e.id);return t.jsxs("div",{style:{padding:"16px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"banned"===e.status?"#fee2e2":e.shadowBanned?"#fef3c7":"#fff",transition:"all 0.3s ease",boxShadow:o?"0 1px 3px rgba(0,0,0,0.1)":"0 2px 8px rgba(0,0,0,0.1)"},children:[t.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center",cursor:"pointer",transition:"all 0.2s ease"},onClick:()=>{Bi(t=>{const o=new Set(t);return o.has(e.id)?o.delete(e.id):o.add(e.id),o})},children:[t.jsx("div",{style:{width:o?"60px":"80px",height:o?"60px":"80px",borderRadius:"50%",backgroundColor:"#e5e7eb",overflow:"hidden",flexShrink:0,transition:"all 0.3s ease"},children:e.image?t.jsx("img",{src:e.image,alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):t.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#d1d5db",color:"#fff",fontSize:"24px",fontWeight:"bold"},children:(e.name||"U")[0].toUpperCase()})}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("h3",{style:{margin:"0 0 4px 0",fontSize:o?"15px":"16px",fontWeight:"bold",transition:"font-size 0.3s"},children:[e.name,e.isCreator&&t.jsx("span",{style:{marginLeft:"6px",color:"#f59e0b",fontSize:"11px",fontWeight:"bold"},children:"ðŸ‘‘"})]}),t.jsxs("p",{style:{margin:"0",color:"#666",fontSize:"13px"},children:["@",e.email.split("@")[0]]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexShrink:0},children:[t.jsx("span",{style:{padding:"4px 8px",backgroundColor:"banned"===e.status?"#dc2626":e.shadowBanned?"#f59e0b":"#10b981",color:"white",fontSize:"11px",fontWeight:"bold",borderRadius:"4px"},children:"banned"===e.status?"ðŸš« Banned":e.shadowBanned?"ðŸ‘ï¸ Shadow":"âœ“ Active"}),t.jsx(b,{size:20,style:{transform:o?"rotate(0deg)":"rotate(-180deg)",transition:"transform 0.3s ease",color:"#6b7280"}})]})]}),o&&t.jsxs("p",{style:{margin:"6px 0 0 0",color:"#666",fontSize:"12px"},children:["Joined ",new Date(e.createdAt).toLocaleDateString()]})]})]}),!o&&t.jsxs("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid rgba(229, 231, 235, 0.5)",animation:"fadeIn 0.3s ease"},children:[t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"12px",flexWrap:"wrap"},children:[("banned"===e.status||e.shadowBanned||e.warnings>0)&&t.jsxs(t.Fragment,{children:["banned"===e.status&&t.jsx("span",{style:{padding:"4px 10px",backgroundColor:"#fee2e2",color:"#dc2626",fontSize:"11px",fontWeight:"600",borderRadius:"4px",display:"flex",alignItems:"center",gap:"4px"},children:"ðŸš« Banned"}),e.shadowBanned&&t.jsx("span",{style:{padding:"4px 10px",backgroundColor:"#fef3c7",color:"#92400e",fontSize:"11px",fontWeight:"600",borderRadius:"4px",display:"flex",alignItems:"center",gap:"4px"},children:"ðŸ‘ï¸ Shadowbanned"}),e.warnings>0&&t.jsxs("span",{style:{padding:"4px 10px",backgroundColor:"#fef08a",color:"#b45309",fontSize:"11px",fontWeight:"600",borderRadius:"4px",display:"flex",alignItems:"center",gap:"4px"},children:["âš ï¸ ",e.warnings," Warning",e.warnings>1?"s":""]})]}),t.jsx("button",{onClick:t=>{t.stopPropagation(),Fr({isOpen:!0,userId:e.id,action:null}),Dr({isOpen:!0,action:"user",itemId:null,itemType:null,reason:""})},style:{padding:"8px 16px",backgroundColor:"white",color:"#dc2626",border:"2px solid #dc2626",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"all 0.2s",marginLeft:"auto"},onMouseEnter:e=>{e.target.style.backgroundColor="#dc2626",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.backgroundColor="white",e.target.style.color="#dc2626"},children:"Take Action"})]}),e.bio&&t.jsxs("p",{style:{margin:"8px 0",color:"#666",fontSize:"13px",fontStyle:"italic",paddingLeft:"8px",borderLeft:"3px solid #3b82f6"},children:['"',e.bio,'"']}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginTop:"12px"},children:[t.jsxs("div",{style:{padding:"10px",backgroundColor:"rgba(59, 130, 246, 0.05)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"#999",fontSize:"11px",fontWeight:"600"},children:"EMAIL"}),t.jsx("p",{style:{margin:"4px 0 0",color:"#666",fontSize:"13px",wordBreak:"break-all"},children:e.email})]}),t.jsxs("div",{style:{padding:"10px",backgroundColor:"rgba(59, 130, 246, 0.05)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"#999",fontSize:"11px",fontWeight:"600"},children:"JOINED"}),t.jsx("p",{style:{margin:"4px 0 0",color:"#666",fontSize:"13px"},children:new Date(e.createdAt).toLocaleDateString()})]}),e.isCreator&&t.jsxs("div",{style:{padding:"10px",backgroundColor:"rgba(245, 158, 11, 0.05)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"#999",fontSize:"11px",fontWeight:"600"},children:"CREATOR SINCE"}),t.jsx("p",{style:{margin:"4px 0 0",color:"#666",fontSize:"13px"},children:new Date(e.creatorSince).toLocaleDateString()})]}),e.referralCode&&t.jsxs("div",{style:{padding:"10px",backgroundColor:"rgba(16, 185, 129, 0.05)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"#999",fontSize:"11px",fontWeight:"600"},children:"REFERRAL CODE"}),t.jsx("p",{style:{margin:"4px 0 0",color:"#10b981",fontSize:"13px",fontWeight:"600",fontFamily:"monospace"},children:e.referralCode})]}),t.jsxs("div",{style:{padding:"10px",backgroundColor:"rgba(16, 185, 129, 0.05)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"#999",fontSize:"11px",fontWeight:"600"},children:"REFERRALS"}),t.jsxs("p",{style:{margin:"4px 0 0",color:"#666",fontSize:"13px"},children:[e.referralCount||0," referred users"]})]}),e.referrerId&&t.jsxs("div",{style:{padding:"10px",backgroundColor:"rgba(99, 102, 241, 0.05)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"#999",fontSize:"11px",fontWeight:"600"},children:"REFERRED BY"}),t.jsx("p",{style:{margin:"4px 0 0",color:"#6366f1",fontSize:"13px"},children:(()=>{const t=re.find(t=>t.id===e.referrerId);return t?t.name||t.email:e.referrerId})()})]})]}),e.referralCount>0&&(()=>{const o=re.filter(t=>t.referrerId===e.id);return 0===o.length?null:t.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"rgba(16, 185, 129, 0.04)",borderRadius:"8px",border:"1px solid rgba(16, 185, 129, 0.12)"},children:[t.jsxs("span",{style:{color:"#10b981",fontSize:"11px",fontWeight:"700",textTransform:"uppercase"},children:["Referred Users (",o.length,")"]}),t.jsx("div",{style:{marginTop:"6px",display:"flex",flexDirection:"column",gap:"4px"},children:o.map(e=>{const o=(xe||[]).filter(t=>t.userId===e.id||t.requesterId===e.id),r=o.filter(e=>"fulfilled"===e.status||"completed"===e.status).length,n=o.length;return t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 6px",backgroundColor:"#fff",borderRadius:"4px",fontSize:"12px"},children:[t.jsx("span",{style:{color:"#374151",fontWeight:"500"},children:e.name||e.email}),t.jsxs("span",{style:{color:"#6b7280"},children:[r>=4?"âœ…":"â³"," ",r,"/4 fulfilled Â· ",n>=2?"âœ…":"â³"," ",n,"/2 made"]})]},e.id)})})]})})(),e.warnings>0&&t.jsxs("div",{style:{marginTop:"12px",padding:"10px",backgroundColor:"rgba(220, 38, 38, 0.05)",border:"1px solid rgba(220, 38, 38, 0.2)",borderRadius:"6px",color:"#dc2626",fontSize:"13px"},children:["âš ï¸ ",e.warnings," ",1===e.warnings?"warning":"warnings"]})]})]},e.id)})]})})(),t.jsxs("div",{style:{position:"fixed",right:"20px",bottom:"90px",display:"flex",flexDirection:"column",gap:"12px",zIndex:40},children:[t.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),title:"Go to top",style:{padding:"12px 12px",backgroundColor:"#4f46e5",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(79,70,229,0.3)",width:"44px",height:"44px"},onMouseEnter:e=>{e.target.style.backgroundColor="#4338ca",e.target.style.boxShadow="0 6px 20px rgba(79,70,229,0.4)",e.target.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.target.style.backgroundColor="#4f46e5",e.target.style.boxShadow="0 4px 12px rgba(79,70,229,0.3)",e.target.style.transform="translateY(0)"},children:t.jsx(y,{size:20})}),t.jsx("button",{onClick:()=>{const e=Ei.users||0;e>0&&window.scrollTo({top:e,behavior:"smooth"})},title:"Go back to last position",style:{padding:"12px 12px",backgroundColor:(Ei.users||0)>0?"#4f46e5":"#d1d5db",color:"white",border:"none",borderRadius:"8px",cursor:(Ei.users||0)>0?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",boxShadow:(Ei.users||0)>0?"0 4px 12px rgba(79,70,229,0.3)":"none",width:"44px",height:"44px",opacity:(Ei.users||0)>0?1:.6},onMouseEnter:e=>{(Ei.users||0)>0&&(e.target.style.backgroundColor="#4338ca",e.target.style.boxShadow="0 6px 20px rgba(79,70,229,0.4)",e.target.style.transform="translateY(-2px)")},onMouseLeave:e=>{e.target.style.backgroundColor=(Ei.users||0)>0?"#4f46e5":"#d1d5db",e.target.style.boxShadow=(Ei.users||0)>0?"0 4px 12px rgba(79,70,229,0.3)":"none",e.target.style.transform="translateY(0)"},children:t.jsx(b,{size:20})})]})]}),"creators"===A&&t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"12px",position:"relative",display:"flex",alignItems:"center"},children:[t.jsx(l,{size:18,style:{position:"absolute",left:"12px",color:"#6b7280",pointerEvents:"none"}}),t.jsx("input",{type:"text",placeholder:"Search creators...",value:Kn,onChange:e=>Qn(e.target.value),style:{width:"100%",padding:"10px 12px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",marginBottom:"12px"}})]}),0===ie.length?t.jsxs("div",{style:{padding:"48px 32px",textAlign:"center",background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",borderRadius:"10px",color:"#6b7280",border:"1px solid #d1d5db"},children:[t.jsx("div",{style:{width:"72px",height:"72px",backgroundColor:"rgba(79,70,229,0.1)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:t.jsx(v,{size:36,style:{color:"#4f46e5"}})}),t.jsx("p",{style:{margin:"0 0 6px",fontSize:"15px",fontWeight:"600",color:"#1f2937"},children:"No Creators Yet"}),t.jsx("p",{style:{margin:"0",fontSize:"13px",color:"#6b7280"},children:"Creator accounts and dashboard tools"})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:ie.filter(e=>(e.name||"").toLowerCase().includes(Kn.toLowerCase())||(e.email||"").toLowerCase().includes(Kn.toLowerCase())).map(e=>{const o=Ri.has(e.id);return t.jsxs("div",{style:{padding:"16px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"banned"===e.status?"#fee2e2":e.shadowBanned?"#fef3c7":"#fffbeb",transition:"all 0.3s ease",boxShadow:o?"0 1px 3px rgba(0,0,0,0.1)":"0 2px 8px rgba(0,0,0,0.1)"},children:[t.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center",cursor:"pointer",transition:"all 0.2s ease"},onClick:()=>{Ii(t=>{const o=new Set(t);return o.has(e.id)?o.delete(e.id):o.add(e.id),o})},children:[t.jsx("div",{style:{width:o?"64px":"100px",height:o?"64px":"100px",borderRadius:"50%",backgroundColor:"#e5e7eb",overflow:"hidden",flexShrink:0,border:"3px solid #f59e0b",transition:"all 0.3s ease"},children:e.image?t.jsx("img",{src:e.image,alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):t.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#d1d5db",color:"#fff",fontSize:"24px",fontWeight:"bold"},children:(e.name||"C")[0].toUpperCase()})}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("h3",{style:{margin:"0 0 4px 0",fontSize:o?"16px":"18px",fontWeight:"bold",transition:"font-size 0.3s"},children:[t.jsx(m,{size:16,style:{marginRight:"6px"}})," ",e.name]}),t.jsxs("p",{style:{margin:"0",color:"#666",fontSize:"13px"},children:["@",e.email.split("@")[0]]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexShrink:0},children:[t.jsx("span",{style:{padding:"4px 8px",backgroundColor:"banned"===e.status?"#dc2626":e.shadowBanned?"#f59e0b":"#10b981",color:"white",fontSize:"11px",fontWeight:"bold",borderRadius:"4px"},children:"banned"===e.status?"ðŸš« Banned":e.shadowBanned?"ðŸ‘ï¸ Shadow":"âœ“ Active"}),t.jsx(b,{size:20,style:{transform:o?"rotate(0deg)":"rotate(-180deg)",transition:"transform 0.3s ease",color:"#6b7280"}})]})]}),o&&t.jsxs("p",{style:{margin:"6px 0 0 0",color:"#f59e0b",fontSize:"13px",fontWeight:"bold"},children:["$",e.price||"0"," / Request"]})]})]}),!o&&t.jsxs("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid rgba(229, 231, 235, 0.5)",animation:"fadeIn 0.3s ease"},children:[t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"12px",flexWrap:"wrap"},children:[("banned"===e.status||e.shadowBanned||e.warnings>0)&&t.jsxs(t.Fragment,{children:["banned"===e.status&&t.jsx("span",{style:{padding:"4px 10px",backgroundColor:"#fee2e2",color:"#dc2626",fontSize:"11px",fontWeight:"600",borderRadius:"4px",display:"flex",alignItems:"center",gap:"4px"},children:"ðŸš« Banned"}),e.shadowBanned&&t.jsx("span",{style:{padding:"4px 10px",backgroundColor:"#fef3c7",color:"#92400e",fontSize:"11px",fontWeight:"600",borderRadius:"4px",display:"flex",alignItems:"center",gap:"4px"},children:"ðŸ‘ï¸ Shadowbanned"}),e.warnings>0&&t.jsxs("span",{style:{padding:"4px 10px",backgroundColor:"#fef08a",color:"#b45309",fontSize:"11px",fontWeight:"600",borderRadius:"4px",display:"flex",alignItems:"center",gap:"4px"},children:["âš ï¸ ",e.warnings," Warning",e.warnings>1?"s":""]})]}),t.jsx("button",{onClick:t=>{t.stopPropagation(),Fr({isOpen:!0,userId:e.id,action:null}),Dr({isOpen:!0,action:"user",itemId:null,itemType:null,reason:""})},style:{padding:"8px 16px",backgroundColor:"white",color:"#dc2626",border:"2px solid #dc2626",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"all 0.2s",marginLeft:"auto"},onMouseEnter:e=>{e.target.style.backgroundColor="#dc2626",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.backgroundColor="white",e.target.style.color="#dc2626"},children:"Take Action"})]}),e.bio&&t.jsxs("p",{style:{margin:"8px 0",color:"#666",fontSize:"13px",fontStyle:"italic",paddingLeft:"8px",borderLeft:"3px solid #f59e0b"},children:['"',e.bio,'"']}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginTop:"12px"},children:[t.jsxs("div",{style:{padding:"10px",backgroundColor:"rgba(245, 158, 11, 0.05)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"#999",fontSize:"11px",fontWeight:"600"},children:"EMAIL"}),t.jsx("p",{style:{margin:"4px 0 0",color:"#666",fontSize:"13px"},children:e.email})]}),t.jsxs("div",{style:{padding:"10px",backgroundColor:"rgba(245, 158, 11, 0.05)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"#999",fontSize:"11px",fontWeight:"600"},children:"PRICE PER REQUEST"}),t.jsxs("p",{style:{margin:"4px 0 0",color:"#f59e0b",fontSize:"14px",fontWeight:"bold"},children:["$",e.price||"0"]})]}),t.jsxs("div",{style:{padding:"10px",backgroundColor:"rgba(245, 158, 11, 0.05)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"#999",fontSize:"11px",fontWeight:"600"},children:"CREATOR SINCE"}),t.jsx("p",{style:{margin:"4px 0 0",color:"#666",fontSize:"13px"},children:new Date(e.creatorSince).toLocaleDateString()})]}),t.jsxs("div",{style:{padding:"10px",backgroundColor:"rgba(245, 158, 11, 0.05)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"#999",fontSize:"11px",fontWeight:"600"},children:"STREAK"}),t.jsxs("p",{style:{margin:"4px 0 0",color:"#f59e0b",fontSize:"14px",fontWeight:"bold"},children:["ðŸ”¥ ",e.streak||0]})]})]}),e.warnings>0&&t.jsxs("div",{style:{marginTop:"12px",padding:"10px",backgroundColor:"rgba(220, 38, 38, 0.05)",border:"1px solid rgba(220, 38, 38, 0.2)",borderRadius:"6px",color:"#dc2626",fontSize:"13px"},children:["âš ï¸ ",e.warnings," ",1===e.warnings?"warning":"warnings"]}),e.introVideo&&t.jsxs("div",{style:{marginTop:"12px",padding:"10px",backgroundColor:"rgba(59, 130, 246, 0.05)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"#999",fontSize:"11px",fontWeight:"600"},children:"INTRO VIDEO"}),t.jsx("p",{style:{margin:"4px 0 0",color:"#3b82f6",fontSize:"12px"},children:t.jsx("a",{href:e.introVideo,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline",cursor:"pointer"},children:"View Video â†’"})})]})]})]},e.id)})}),t.jsxs("div",{style:{position:"fixed",right:"20px",bottom:"90px",display:"flex",flexDirection:"column",gap:"12px",zIndex:40},children:[t.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),title:"Go to top",style:{padding:"12px 12px",backgroundColor:"#4f46e5",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(79,70,229,0.3)",width:"44px",height:"44px"},onMouseEnter:e=>{e.target.style.backgroundColor="#4338ca",e.target.style.boxShadow="0 6px 20px rgba(79,70,229,0.4)",e.target.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.target.style.backgroundColor="#4f46e5",e.target.style.boxShadow="0 4px 12px rgba(79,70,229,0.3)",e.target.style.transform="translateY(0)"},children:t.jsx(y,{size:20})}),t.jsx("button",{onClick:()=>{const e=Ei.creators||0;e>0&&window.scrollTo({top:e,behavior:"smooth"})},title:"Go back to last position",style:{padding:"12px 12px",backgroundColor:(Ei.creators||0)>0?"#4f46e5":"#d1d5db",color:"white",border:"none",borderRadius:"8px",cursor:(Ei.creators||0)>0?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",boxShadow:(Ei.creators||0)>0?"0 4px 12px rgba(79,70,229,0.3)":"none",width:"44px",height:"44px",opacity:(Ei.creators||0)>0?1:.6},onMouseEnter:e=>{(Ei.creators||0)>0&&(e.target.style.backgroundColor="#4338ca",e.target.style.boxShadow="0 6px 20px rgba(79,70,229,0.4)",e.target.style.transform="translateY(-2px)")},onMouseLeave:e=>{e.target.style.backgroundColor=(Ei.creators||0)>0?"#4f46e5":"#d1d5db",e.target.style.boxShadow=(Ei.creators||0)>0?"0 4px 12px rgba(79,70,229,0.3)":"none",e.target.style.transform="translateY(0)"},children:t.jsx(b,{size:20})})]})]}),"reports"===A&&t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"12px",position:"relative",display:"flex",alignItems:"center"},children:[t.jsx(l,{size:18,style:{position:"absolute",left:"12px",color:"#6b7280",pointerEvents:"none"}}),t.jsx("input",{type:"text",placeholder:"Search reports...",value:Xn,onChange:e=>_n(e.target.value),style:{width:"100%",padding:"10px 12px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",marginBottom:"12px"}})]}),t.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"20px",flexWrap:"wrap",paddingBottom:"12px",borderBottom:"2px solid #e5e7eb"},children:["all","users","creators","requests","ads","videos"].map(e=>t.jsx("button",{onClick:()=>ee(e),style:{padding:"8px 16px",backgroundColor:Z===e?"#3b82f6":"transparent",color:Z===e?"white":"#666",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:Z===e?"bold":"normal",transition:"all 0.2s"},onMouseEnter:t=>{Z!==e&&(t.target.style.backgroundColor="#f3f4f6")},onMouseLeave:t=>{Z!==e&&(t.target.style.backgroundColor="transparent")},children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),0===te.length?t.jsxs("div",{style:{padding:"48px 32px",textAlign:"center",background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",borderRadius:"10px",color:"#6b7280",border:"1px solid #d1d5db"},children:[t.jsx("div",{style:{width:"72px",height:"72px",backgroundColor:"rgba(79,70,229,0.1)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:t.jsx(f,{size:36,style:{color:"#4f46e5"}})}),t.jsx("p",{style:{margin:"0 0 6px",fontSize:"15px",fontWeight:"600",color:"#1f2937"},children:"No Reports in Queue"}),t.jsx("p",{style:{margin:"0",fontSize:"13px",color:"#6b7280"},children:"All reports have been processed"})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:te.filter(e=>(e.title||"").toLowerCase().includes(Xn.toLowerCase())||(e.reason||"").toLowerCase().includes(Xn.toLowerCase())).map(o=>{const r=pe.find(e=>e.id===o.videoId),n=Mi.has(o.id);return t.jsxs("div",{style:{padding:"16px",border:"2px solid #fee2e2",borderRadius:"8px",backgroundColor:"#fef2f2",transition:"all 0.3s ease",boxShadow:n?"0 1px 3px rgba(0,0,0,0.1)":"0 2px 8px rgba(0,0,0,0.1)"},children:[t.jsxs("div",{style:{display:"flex",gap:"16px",cursor:"pointer",transition:"all 0.2s ease",alignItems:"flex-start"},onClick:()=>{Ai(e=>{const t=new Set(e);return t.has(o.id)?t.delete(o.id):t.add(o.id),t})},children:[r&&t.jsx("div",{style:{flexShrink:0,width:n?"70px":"100px",height:n?"70px":"100px",backgroundColor:"#e5e7eb",borderRadius:"6px",overflow:"hidden",border:"2px solid #ef4444",transition:"all 0.3s ease"},children:t.jsx("img",{src:r.imageUrl,alt:r.title,style:{width:"100%",height:"100%",objectFit:"cover"}})}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsx("h3",{style:{margin:"0 0 4px 0",fontSize:n?"14px":"16px",fontWeight:"bold",transition:"font-size 0.3s"},children:o.title||o.videoId}),r&&t.jsxs("p",{style:{margin:"0",color:"#666",fontSize:"12px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["ðŸ“º ",r.title]})]}),t.jsx(b,{size:20,style:{transform:n?"rotate(0deg)":"rotate(-180deg)",transition:"transform 0.3s ease",color:"#ef4444",flexShrink:0,marginLeft:"8px"}})]}),t.jsxs("p",{style:{margin:"6px 0 0",color:"#7f1d1d",fontSize:"12px",fontWeight:"600"},children:[o.reason.substring(0,n?50:200),o.reason.length>(n?50:200)?"...":""]})]})]}),!n&&t.jsxs("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid rgba(239, 68, 68, 0.2)",animation:"fadeIn 0.3s ease"},children:[t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("p",{style:{margin:"0 0 6px 0",fontSize:"12px",fontWeight:"600",color:"#7f1d1d"},children:"âš ï¸ Full Reason:"}),t.jsx("p",{style:{margin:"0",color:"#666",fontSize:"13px",paddingLeft:"12px",borderLeft:"3px solid #ef4444",lineHeight:"1.5"},children:o.reason})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px",marginBottom:"12px"},children:[t.jsxs("div",{style:{padding:"10px",backgroundColor:"rgba(239, 68, 68, 0.05)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"#999",fontSize:"11px",fontWeight:"600"},children:"REPORTED BY"}),t.jsx("p",{style:{margin:"4px 0 0",color:"#666",fontSize:"13px",wordBreak:"break-all"},children:o.reporterEmail||o.reporterId||"anonymous"})]}),t.jsxs("div",{style:{padding:"10px",backgroundColor:"rgba(239, 68, 68, 0.05)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"#999",fontSize:"11px",fontWeight:"600"},children:"REPORT DATE"}),t.jsx("p",{style:{margin:"4px 0 0",color:"#666",fontSize:"13px"},children:new Date(o.createdAt).toLocaleDateString()})]}),r&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{padding:"10px",backgroundColor:"rgba(239, 68, 68, 0.05)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"#999",fontSize:"11px",fontWeight:"600"},children:"VIDEO AUTHOR"}),t.jsx("p",{style:{margin:"4px 0 0",color:"#666",fontSize:"13px"},children:r.author})]}),t.jsxs("div",{style:{padding:"10px",backgroundColor:"rgba(239, 68, 68, 0.05)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"#999",fontSize:"11px",fontWeight:"600"},children:"VIDEO ID"}),t.jsx("p",{style:{margin:"4px 0 0",color:"#666",fontSize:"13px",fontFamily:"monospace"},children:r.id})]})]})]}),o.evidenceFiles&&o.evidenceFiles.length>0&&t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"12px",fontWeight:"600",color:"#7f1d1d"},children:["ðŸ“Ž Evidence Files (",o.evidenceFiles.length,"):"]}),t.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",paddingLeft:"8px"},children:o.evidenceFiles.map((e,o)=>t.jsxs("a",{href:`${E()}/${e.path}`,target:"_blank",rel:"noopener noreferrer",style:{padding:"6px 10px",backgroundColor:"#fff",border:"1px solid #ef4444",borderRadius:"4px",fontSize:"11px",color:"#ef4444",fontWeight:"600",textDecoration:"none",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#ef4444",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#fff",e.currentTarget.style.color="#ef4444"},children:["ðŸ“„ ",e.originalName]},o))})]}),r&&t.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",paddingTop:"12px",borderTop:"1px solid rgba(239, 68, 68, 0.2)"},children:[t.jsx("button",{onClick:e=>{e.stopPropagation(),H(r.id)},style:{padding:"8px 14px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"all 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#1e40af",onMouseLeave:e=>e.target.style.backgroundColor="#3b82f6",children:"View Video"}),t.jsx("button",{onClick:e=>{e.stopPropagation(),H(r.id),O("ads")},style:{padding:"8px 14px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"all 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#047857",onMouseLeave:e=>e.target.style.backgroundColor="#10b981",children:"Edit Overlays"}),t.jsx("button",{onClick:t=>{t.stopPropagation();(async()=>{try{await L(`${E()}/staff/shadow-delete/${r.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e?.id||1e3,reason:`Report action: ${o.reason}`})}),oe(te.filter(e=>e.id!==o.id))}catch(t){console.error("Delete failed",t)}})()},style:{padding:"8px 14px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"all 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#dc2626",onMouseLeave:e=>e.target.style.backgroundColor="#ef4444",children:"Shadow Delete"})]})]})]},o.id)})}),t.jsxs("div",{style:{position:"fixed",right:"20px",bottom:"90px",display:"flex",flexDirection:"column",gap:"12px",zIndex:40},children:[t.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),title:"Go to top",style:{padding:"12px 12px",backgroundColor:"#4f46e5",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(79,70,229,0.3)",width:"44px",height:"44px"},onMouseEnter:e=>{e.target.style.backgroundColor="#4338ca",e.target.style.boxShadow="0 6px 20px rgba(79,70,229,0.4)",e.target.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.target.style.backgroundColor="#4f46e5",e.target.style.boxShadow="0 4px 12px rgba(79,70,229,0.3)",e.target.style.transform="translateY(0)"},children:t.jsx(y,{size:20})}),t.jsx("button",{onClick:()=>{const e=Ei.reports||0;e>0&&window.scrollTo({top:e,behavior:"smooth"})},title:"Go back to last position",style:{padding:"12px 12px",backgroundColor:(Ei.reports||0)>0?"#4f46e5":"#d1d5db",color:"white",border:"none",borderRadius:"8px",cursor:(Ei.reports||0)>0?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",boxShadow:(Ei.reports||0)>0?"0 4px 12px rgba(79,70,229,0.3)":"none",width:"44px",height:"44px",opacity:(Ei.reports||0)>0?1:.6},onMouseEnter:e=>{(Ei.reports||0)>0&&(e.target.style.backgroundColor="#4338ca",e.target.style.boxShadow="0 6px 20px rgba(79,70,229,0.4)",e.target.style.transform="translateY(-2px)")},onMouseLeave:e=>{e.target.style.backgroundColor=(Ei.reports||0)>0?"#4f46e5":"#d1d5db",e.target.style.boxShadow=(Ei.reports||0)>0?"0 4px 12px rgba(79,70,229,0.3)":"none",e.target.style.transform="translateY(0)"},children:t.jsx(b,{size:20})})]})]}),"shadowDeleted"===A&&t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"12px",position:"relative",display:"flex",alignItems:"center"},children:[t.jsx(l,{size:18,style:{position:"absolute",left:"12px",color:"#6b7280",pointerEvents:"none"}}),t.jsx("input",{type:"text",placeholder:"Search shadow-deleted...",value:Zn,onChange:e=>ei(e.target.value),style:{width:"100%",padding:"10px 12px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",marginBottom:"12px"}})]}),0===ae.length?t.jsxs("div",{style:{padding:"48px 32px",textAlign:"center",background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",borderRadius:"10px",color:"#6b7280",border:"1px solid #d1d5db"},children:[t.jsx("div",{style:{width:"72px",height:"72px",backgroundColor:"rgba(79,70,229,0.1)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:t.jsx(o,{size:36,style:{color:"#4f46e5"}})}),t.jsx("p",{style:{margin:"0 0 6px",fontSize:"15px",fontWeight:"600",color:"#1f2937"},children:"No Shadow-Deleted Videos"}),t.jsx("p",{style:{margin:"0",fontSize:"13px",color:"#6b7280"},children:"Shadow-deleted content management"})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:ae.filter(e=>(e.videoId||"").toLowerCase().includes(Zn.toLowerCase())||(e.reason||"").toLowerCase().includes(Zn.toLowerCase())).map((e,o)=>t.jsx("div",{style:{padding:"16px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#fef2f2"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{margin:"0 0 4px 0",fontSize:"16px",fontWeight:"bold"},children:e.videoId}),t.jsxs("p",{style:{margin:"4px 0",color:"#666",fontSize:"14px"},children:["Reason: ",e.reason]}),t.jsxs("p",{style:{margin:"4px 0",color:"#999",fontSize:"12px"},children:["Deleted by: Staff #",e.deletedBy]}),t.jsx("p",{style:{margin:"4px 0",color:"#999",fontSize:"12px"},children:new Date(e.createdAt).toLocaleString()})]}),t.jsx("button",{onClick:()=>alert("Restore functionality coming soon"),style:{padding:"8px 12px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},children:"Restore"})]})},o))})]}),"approvals"===A&&"administrator"===e.role&&t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"12px",position:"relative",display:"flex",alignItems:"center"},children:[t.jsx(l,{size:18,style:{position:"absolute",left:"12px",color:"#6b7280",pointerEvents:"none"}}),t.jsx("input",{type:"text",placeholder:"Search pending accounts...",value:ti,onChange:e=>oi(e.target.value),style:{width:"100%",padding:"10px 12px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",marginBottom:"12px"}})]}),0===le.length?t.jsxs("div",{style:{padding:"48px 32px",textAlign:"center",background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",borderRadius:"10px",color:"#6b7280",border:"1px solid #d1d5db"},children:[t.jsx("div",{style:{width:"72px",height:"72px",backgroundColor:"rgba(79,70,229,0.1)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:t.jsx(u,{size:36,style:{color:"#4f46e5"}})}),t.jsx("p",{style:{margin:"0 0 6px",fontSize:"15px",fontWeight:"600",color:"#1f2937"},children:"No Pending Requests"}),t.jsx("p",{style:{margin:"0",fontSize:"13px",color:"#6b7280"},children:"All account requests have been processed"})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:le.filter(e=>(e.name||"").toLowerCase().includes(ti.toLowerCase())||(e.email||"").toLowerCase().includes(ti.toLowerCase())).map(e=>t.jsx("div",{style:{padding:"16px",border:"1px solid #fbbf24",borderRadius:"8px",backgroundColor:"#fffbeb",overflow:"hidden"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"12px"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{margin:"0 0 4px 0",fontSize:"16px",fontWeight:"bold"},children:e.name}),t.jsxs("p",{style:{margin:"4px 0",color:"#666",fontSize:"14px"},children:["Email: ",e.email]}),t.jsxs("p",{style:{margin:"4px 0",color:"#666",fontSize:"14px"},children:["Employee ID: ",e.employeeId]}),t.jsxs("p",{style:{margin:"4px 0",color:"#999",fontSize:"12px"},children:["Applied: ",new Date(e.createdAt).toLocaleString()]})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",flexShrink:0,minWidth:"180px"},children:[t.jsxs("button",{type:"button",onClick:()=>ms(e,!0),onMouseDown:e=>e.stopPropagation(),onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 12px rgba(16, 185, 129, 0.4)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="none"},style:{padding:"8px 12px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:"700",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"4px",whiteSpace:"nowrap"},children:[t.jsx("span",{children:"âœ“"})," Approve"]}),t.jsxs("button",{type:"button",onClick:()=>ms(e,!1),onMouseDown:e=>e.stopPropagation(),onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 12px rgba(239, 68, 68, 0.4)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="none"},style:{padding:"8px 12px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:"700",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"4px",whiteSpace:"nowrap"},children:[t.jsx("span",{children:"âœ•"})," Deny"]})]})]})},e.employeeId))})]}),"staffManagement"===A&&"administrator"===e.role&&t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"12px",position:"relative",display:"flex",alignItems:"center"},children:[t.jsx(l,{size:18,style:{position:"absolute",left:"12px",color:"#6b7280",pointerEvents:"none"}}),t.jsx("input",{type:"text",placeholder:"Search staff members...",value:di,onChange:e=>pi(e.target.value),style:{width:"100%",padding:"10px 12px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",marginBottom:"12px"}})]}),0===ai.length?t.jsxs("div",{style:{padding:"48px 32px",textAlign:"center",background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",borderRadius:"10px",color:"#6b7280",border:"1px solid #d1d5db"},children:[t.jsx("div",{style:{width:"72px",height:"72px",backgroundColor:"rgba(79,70,229,0.1)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:t.jsx(v,{size:36,style:{color:"#4f46e5"}})}),t.jsx("p",{style:{margin:"0 0 6px",fontSize:"15px",fontWeight:"600",color:"#1f2937"},children:"No Staff Members"}),t.jsx("p",{style:{margin:"0",fontSize:"13px",color:"#6b7280"},children:"No staff members found"})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:ai.filter(e=>(e.name||"").toLowerCase().includes(di.toLowerCase())||(e.email||"").toLowerCase().includes(di.toLowerCase())).map(o=>t.jsx("div",{style:{padding:"16px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:o.id===e.id?"#eff6ff":"white",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[t.jsx("h3",{style:{margin:"0",fontSize:"16px",fontWeight:"bold"},children:o.name}),1e3===o.id&&t.jsx("span",{style:{padding:"2px 8px",backgroundColor:"#dc2626",color:"white",fontSize:"11px",fontWeight:"bold",borderRadius:"4px"},children:"ADMIN"}),o.id===e.id&&t.jsx("span",{style:{padding:"2px 8px",backgroundColor:"#0369a1",color:"white",fontSize:"11px",fontWeight:"bold",borderRadius:"4px"},children:"YOU"}),o.approvalAuthority&&1e3!==o.id&&o.id!==e.id&&t.jsx("span",{style:{padding:"2px 8px",backgroundColor:"#7c3aed",color:"white",fontSize:"11px",fontWeight:"bold",borderRadius:"4px"},children:"APPROVER"})]}),t.jsxs("p",{style:{margin:"4px 0",color:"#666",fontSize:"14px"},children:["Email: ",o.email]}),t.jsxs("p",{style:{margin:"4px 0",color:"#666",fontSize:"14px"},children:["Employee ID: ",o.id]}),t.jsxs("p",{style:{margin:"4px 0",color:"#999",fontSize:"12px"},children:["Created: ",new Date(o.createdAt).toLocaleString()]}),t.jsx("div",{style:{marginTop:"8px",display:"flex",gap:"8px",flexWrap:"wrap"},children:o.permissions&&Object.entries(o.permissions).filter(([e,t])=>t).map(([e,o])=>t.jsx("span",{style:{padding:"2px 6px",backgroundColor:"#dbeafe",color:"#0369a1",fontSize:"11px",borderRadius:"3px",fontWeight:"500"},children:e.charAt(0).toUpperCase()+e.slice(1).replace(/([A-Z])/g," $1")},e))})]}),o.id!==e.id&&t.jsx("div",{style:{display:"flex",gap:"8px"},children:t.jsx("button",{onClick:()=>{const e={};Object.keys(ki).forEach(t=>{e[t]=!1!==o.permissions?.[t]}),fi({isOpen:!0,member:o,permissions:e,grantAdmin:o.approvalAuthority||!1,blocked:"blocked"===o.status})},style:{padding:"8px 12px",backgroundColor:"#4f46e5",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"background-color 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#4338ca",onMouseLeave:e=>e.target.style.backgroundColor="#4f46e5",children:"Edit Permissions"})})]})},o.id))})]})]}),Ar.isOpen&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(2px)",WebkitBackdropFilter:"blur(2px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"32px",maxWidth:"400px",width:"90%",boxShadow:"0 20px 25px rgba(0, 0, 0, 0.15)"},children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 24px 0",color:"#1f2937"},children:"Choose Action"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[t.jsxs("button",{onClick:()=>{me(""),Dr({isOpen:!0,action:"hide",itemId:Ar.itemId,itemType:Ar.itemType,reason:""}),Er({isOpen:!1,itemId:null,itemType:null})},style:{padding:"12px 16px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"opacity 0.2s"},onMouseEnter:e=>e.target.style.opacity="0.9",onMouseLeave:e=>e.target.style.opacity="1",children:[t.jsx(r,{size:18}),"Hide"]}),t.jsxs("button",{onClick:()=>{me(""),Dr({isOpen:!0,action:"delete",itemId:Ar.itemId,itemType:Ar.itemType,reason:""}),Er({isOpen:!1,itemId:null,itemType:null})},style:{padding:"12px 16px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"opacity 0.2s"},onMouseEnter:e=>e.target.style.opacity="0.9",onMouseLeave:e=>e.target.style.opacity="1",children:[t.jsx(s,{size:18}),"Delete Permanently"]}),t.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"6px"},children:[t.jsx("button",{onClick:()=>{Er({isOpen:!1,itemId:null,itemType:null}),"video"===Ar.itemType?ws(Ar.itemId):"request"===Ar.itemType?Cs(Ar.itemId):"comment"===Ar.itemType&&zs(Ar.itemId)},style:{flex:1,padding:"8px 10px",backgroundColor:"transparent",color:"#b45309",border:"1px dashed #f59e0b",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:"600"},children:"Quick Hide"}),t.jsx("button",{onClick:()=>{Er({isOpen:!1,itemId:null,itemType:null}),"video"===Ar.itemType?js(Ar.itemId):"request"===Ar.itemType?Ss(Ar.itemId):"comment"===Ar.itemType&&ks(Ar.itemId)},style:{flex:1,padding:"8px 10px",backgroundColor:"transparent",color:"#9f1239",border:"1px dashed #ef4444",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:"600"},children:"Quick Delete"})]}),t.jsx("button",{onClick:()=>Er({isOpen:!1,itemId:null,itemType:null}),style:{padding:"12px 16px",backgroundColor:"#e5e7eb",color:"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"opacity 0.2s"},onMouseEnter:e=>e.target.style.opacity="0.8",onMouseLeave:e=>e.target.style.opacity="1",children:"Cancel"})]})]})}),Nr.isOpen&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(2px)",WebkitBackdropFilter:"blur(2px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"32px",maxWidth:"500px",width:"90%",boxShadow:"0 20px 25px rgba(0, 0, 0, 0.15)"},children:[t.jsxs("h2",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 8px 0",color:"#1f2937"},children:["hide"===Nr.action?"Hide ":"Delete ",Nr.itemType]}),t.jsx("p",{style:{fontSize:"14px",color:"#666",margin:"0 0 24px 0"},children:"Please provide a reason for this action"}),t.jsx("textarea",{autoFocus:!0,"aria-label":"Reason for action",value:Nr.reason,onChange:e=>Dr({...Nr,reason:e.target.value}),placeholder:"Enter your reason here...",style:{width:"100%",padding:"12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontFamily:"inherit",boxSizing:"border-box",minHeight:"120px",marginBottom:"24px",resize:"none"}}),ye&&t.jsx("div",{style:{padding:"12px",backgroundColor:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"8px",color:"#dc2626",fontSize:"13px",marginBottom:"16px"},children:ye}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsx("button",{onClick:()=>{"hide"===Nr.action?"video"===Nr.itemType?ws(Nr.itemId):"request"===Nr.itemType?Cs(Nr.itemId):"comment"===Nr.itemType&&zs(Nr.itemId):"video"===Nr.itemType?js(Nr.itemId):"request"===Nr.itemType?Ss(Nr.itemId):"comment"===Nr.itemType&&ks(Nr.itemId)},style:{flex:1,padding:"12px 16px",backgroundColor:"hide"===Nr.action?"#f59e0b":"#ef4444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"opacity 0.2s"},onMouseEnter:e=>e.target.style.opacity="0.9",onMouseLeave:e=>e.target.style.opacity="1",children:"hide"===Nr.action?"Hide ":"Delete "}),t.jsx("button",{onClick:()=>Dr({isOpen:!1,action:null,itemId:null,itemType:null,reason:""}),style:{flex:1,padding:"12px 16px",backgroundColor:"#e5e7eb",color:"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"opacity 0.2s"},onMouseEnter:e=>e.target.style.opacity="0.8",onMouseLeave:e=>e.target.style.opacity="1",children:"Cancel"})]})]})}),Lr.isOpen&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(2px)",WebkitBackdropFilter:"blur(2px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"32px",maxWidth:"400px",width:"90%",boxShadow:"0 20px 25px rgba(0, 0, 0, 0.15)"},children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 12px 0",color:"#1f2937"},children:"Confirm Undo"}),t.jsx("p",{style:{fontSize:"14px",color:"#666",margin:"0 0 24px 0"},children:"unhide"===Lr.action?`Are you sure you want to unhide this ${Lr.itemType}? It will become visible again.`:`Are you sure you want to restore this ${Lr.itemType}? It will be available again.`}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsx("button",{onClick:()=>{"unhide"===Lr.action?"video"===Lr.itemType?(async t=>{try{(await L(`${E()}/staff/undo-hide-video/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id})})).ok?(ce(pe.map(e=>e.id===t?{...e,hidden:!1,hiddenReason:null,hiddenBy:null,hiddenAt:null}:e)),Pr({isOpen:!1,action:null,itemId:null,itemType:null}),me(""),je({type:"success",message:"Video unhidden"})):(me("Failed to undo hide"),je({type:"error",message:"Failed to undo hide"}))}catch(o){console.error("Undo hide failed:",o),me("Error undoing hide")}})(Lr.itemId):"request"===Lr.itemType?(async t=>{try{(await L(`${E()}/staff/undo-hide-request/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id})})).ok?(ge(xe.map(e=>e.id===t?{...e,hidden:!1,hiddenReason:null,hiddenBy:null,hiddenAt:null}:e)),Pr({isOpen:!1,action:null,itemId:null,itemType:null}),me(""),je({type:"success",message:"Request unhidden"})):(me("Failed to undo hide"),je({type:"error",message:"Failed to undo hide"}))}catch(o){console.error("Undo hide failed:",o),me("Error undoing hide")}})(Lr.itemId):"comment"===Lr.itemType&&(async t=>{try{(await L(`${E()}/staff/undo-hide-comment/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id})})).ok?(ue(fe.map(e=>e.id===t?{...e,hidden:!1,hiddenReason:null,hiddenBy:null,hiddenAt:null}:e)),Pr({isOpen:!1,action:null,itemId:null,itemType:null}),me(""),je({type:"success",message:"Comment unhidden"})):(me("Failed to undo hide"),je({type:"error",message:"Failed to undo hide"}))}catch(o){console.error("Undo hide failed:",o),me("Error undoing hide")}})(Lr.itemId):"video"===Lr.itemType?(async t=>{try{(await L(`${E()}/staff/undo-delete-video/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id})})).ok?(ce(pe.map(e=>e.id===t?{...e,deleted:!1,deletedReason:null,deletedBy:null,deletedAt:null}:e)),Pr({isOpen:!1,action:null,itemId:null,itemType:null}),me(""),je({type:"success",message:"Video restored"})):(me("Failed to undo delete"),je({type:"error",message:"Failed to undo delete"}))}catch(o){console.error("Undo delete failed:",o),me("Error undoing delete")}})(Lr.itemId):"request"===Lr.itemType?(async t=>{try{(await L(`${E()}/staff/undo-delete-request/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id})})).ok?(ge(xe.map(e=>e.id===t?{...e,deleted:!1,deletedReason:null,deletedBy:null,deletedAt:null}:e)),Pr({isOpen:!1,action:null,itemId:null,itemType:null}),me(""),je({type:"success",message:"Request restored"})):(me("Failed to undo delete"),je({type:"error",message:"Failed to undo delete"}))}catch(o){console.error("Undo delete failed:",o),me("Error undoing delete")}})(Lr.itemId):"comment"===Lr.itemType&&(async t=>{try{(await L(`${E()}/staff/undo-delete-comment/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id})})).ok?(ue(fe.map(e=>e.id===t?{...e,deleted:!1,deletedReason:null,deletedBy:null,deletedAt:null}:e)),Pr({isOpen:!1,action:null,itemId:null,itemType:null}),me(""),je({type:"success",message:"Comment restored"})):(me("Failed to undo delete"),je({type:"error",message:"Failed to undo delete"}))}catch(o){console.error("Undo delete failed:",o),me("Error undoing delete")}})(Lr.itemId)},style:{flex:1,padding:"12px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"opacity 0.2s"},onMouseEnter:e=>e.target.style.opacity="0.9",onMouseLeave:e=>e.target.style.opacity="1",children:"unhide"===Lr.action?"Unhide":"Restore"}),t.jsx("button",{onClick:()=>Pr({isOpen:!1,action:null,itemId:null,itemType:null}),style:{flex:1,padding:"12px 16px",backgroundColor:"#e5e7eb",color:"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"opacity 0.2s"},onMouseEnter:e=>e.target.style.opacity="0.8",onMouseLeave:e=>e.target.style.opacity="1",children:"Cancel"})]})]})}),ve&&t.jsx("div",{style:"top"===ve.position?{position:"fixed",left:"50%",transform:"translateX(-50%)",top:"20px",zIndex:3e3,minWidth:"320px"}:{position:"fixed",right:"20px",bottom:"20px",zIndex:2e3,minWidth:"260px"},children:"success"===ve.type?t.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",background:"linear-gradient(90deg,#16a34a,#10b981)",padding:"12px",borderRadius:"8px",color:"white",boxShadow:"0 6px 18px rgba(0,0,0,0.12)"},children:[t.jsx("div",{style:{width:44,height:44,borderRadius:"50%",background:"rgba(255,255,255,0.15)",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(j,{size:20})}),t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:700},children:ve.title||"Success"}),t.jsx("div",{style:{fontSize:"13px",opacity:.95},children:ve.message})]})]}):t.jsxs("div",{style:{background:"linear-gradient(90deg,#ef4444,#f97316)",padding:"12px",borderRadius:"8px",color:"white",boxShadow:"0 6px 18px rgba(0,0,0,0.12)"},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:700},children:ve.title||"Error"}),t.jsx("div",{style:{fontSize:"13px",opacity:.95},children:ve.message})]})}),Or.isOpen&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(2px)",WebkitBackdropFilter:"blur(2px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:t.jsx("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"32px",maxWidth:"500px",width:"90%",boxShadow:"0 20px 25px rgba(0, 0, 0, 0.15)",maxHeight:"90vh",overflowY:"auto"},children:Kr?t.jsxs(t.Fragment,{children:[t.jsxs("h2",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 8px 0",color:"#1f2937"},children:["warn"===Kr&&"Send Warning","ban"===Kr&&"ðŸš« Ban User","shadowban"===Kr&&"ðŸ‘ï¸ Shadow Ban User","delete"===Kr&&"ðŸ—‘ï¸ Delete User Account"]}),t.jsx("p",{style:{fontSize:"14px",color:"#666",margin:"0 0 16px 0"},children:"Select a reason or provide a custom one. The preview below shows exactly how users will see this."}),"ban"===Kr&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("p",{style:{fontSize:"12px",fontWeight:"bold",color:"#666",margin:"0 0 8px 0"},children:"BAN TYPE"}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsx("button",{onClick:()=>Mn("temporary"),style:{flex:1,padding:"10px",backgroundColor:"temporary"===Bn?"#ef4444":"#f3f4f6",color:"temporary"===Bn?"white":"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"bold",transition:"all 0.2s"},children:"â° Temporary"}),t.jsx("button",{onClick:()=>Mn("permanent"),style:{flex:1,padding:"10px",backgroundColor:"permanent"===Bn?"#ef4444":"#f3f4f6",color:"permanent"===Bn?"white":"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"bold",transition:"all 0.2s"},children:"â™¾ï¸ Permanent"})]})]}),"ban"===Kr&&"temporary"===Bn&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("p",{style:{fontSize:"12px",fontWeight:"bold",color:"#666",margin:"0 0 8px 0"},children:"BAN DURATION"}),t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[t.jsx("input",{type:"number",value:An.value,onChange:e=>En({...An,value:parseInt(e.target.value)||1}),min:"1",style:{flex:1,padding:"12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontFamily:"inherit",boxSizing:"border-box",fontWeight:"600"}}),t.jsx("div",{style:{flex:1},children:t.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"6px"},children:["hours","days","weeks","months"].map(e=>t.jsx("button",{onClick:()=>En({...An,unit:e}),style:{padding:"10px 12px",backgroundColor:An.unit===e?"#ef4444":"#f3f4f6",color:An.unit===e?"white":"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:An.unit===e?"700":"600",transition:"all 0.2s",textTransform:"capitalize"},onMouseEnter:t=>{An.unit!==e&&(t.target.style.backgroundColor="#e5e7eb")},onMouseLeave:t=>{An.unit!==e&&(t.target.style.backgroundColor="#f3f4f6")},children:e},e))})})]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("p",{style:{fontSize:"12px",fontWeight:"bold",color:"#666",margin:"0 0 8px 0"},children:"COMMON REASONS"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:["warn"===Kr&&["Violating community guidelines","Spam or repetitive posting","Misleading or false information","Inappropriate language or behavior"].map(e=>t.jsx("button",{onClick:()=>{Dr({...Nr,reason:e}),Ts(Kr,e)},style:{padding:"10px 12px",backgroundColor:Nr.reason===e?"#f59e0b":"#f3f4f6",color:Nr.reason===e?"white":"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",textAlign:"left",transition:"all 0.2s"},onMouseEnter:t=>{Nr.reason!==e&&(t.target.style.backgroundColor="#e5e7eb")},onMouseLeave:t=>{Nr.reason!==e&&(t.target.style.backgroundColor="#f3f4f6")},children:e},e)),"ban"===Kr&&["Severe violation of terms of service","Repeated harassment or abuse","Copyright infringement","Illegal activity detected"].map(e=>t.jsx("button",{onClick:()=>{Dr({...Nr,reason:e}),Ts(Kr,e)},style:{padding:"10px 12px",backgroundColor:Nr.reason===e?"#ef4444":"#f3f4f6",color:Nr.reason===e?"white":"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",textAlign:"left",transition:"all 0.2s"},onMouseEnter:t=>{Nr.reason!==e&&(t.target.style.backgroundColor="#e5e7eb")},onMouseLeave:t=>{Nr.reason!==e&&(t.target.style.backgroundColor="#f3f4f6")},children:e},e)),"shadowban"===Kr&&["Content violates platform guidelines","Suspected artificial engagement","Low-quality or repetitive content","Restricted for review"].map(e=>t.jsx("button",{onClick:()=>{Dr({...Nr,reason:e}),Ts(Kr,e)},style:{padding:"10px 12px",backgroundColor:Nr.reason===e?"#6b7280":"#f3f4f6",color:Nr.reason===e?"white":"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",textAlign:"left",transition:"all 0.2s"},onMouseEnter:t=>{Nr.reason!==e&&(t.target.style.backgroundColor="#e5e7eb")},onMouseLeave:t=>{Nr.reason!==e&&(t.target.style.backgroundColor="#f3f4f6")},children:e},e)),"delete"===Kr&&["Severe violation of terms of service","Repeated policy violations after warnings","Harmful or illegal content","Account used for malicious purposes"].map(e=>t.jsx("button",{onClick:()=>{Dr({...Nr,reason:e}),Ts(Kr,e)},style:{padding:"10px 12px",backgroundColor:Nr.reason===e?"#8b5cf6":"#f3f4f6",color:Nr.reason===e?"white":"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",textAlign:"left",transition:"all 0.2s"},onMouseEnter:t=>{Nr.reason!==e&&(t.target.style.backgroundColor="#e5e7eb")},onMouseLeave:t=>{Nr.reason!==e&&(t.target.style.backgroundColor="#f3f4f6")},children:e},e))]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("p",{style:{fontSize:"12px",fontWeight:"bold",color:"#666",margin:"0 0 8px 0"},children:"CUSTOM REASON (OPTIONAL)"}),t.jsx("textarea",{value:Nr.reason,onChange:e=>{Dr({...Nr,reason:e.target.value}),Ts(Kr,e.target.value)},placeholder:"Or type a custom reason here...",style:{width:"100%",padding:"12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontFamily:"inherit",boxSizing:"border-box",minHeight:"80px",marginBottom:"16px",resize:"none"}})]}),Zr&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("p",{style:{fontSize:"12px",fontWeight:"bold",color:"#666",margin:"0 0 12px 0"},children:"HOW USERS WILL SEE THIS"}),t.jsx("div",{style:{backgroundColor:"#f0f4f8",borderRadius:"12px",padding:"20px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)",border:"1px solid #e5e7eb"},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",border:`1px solid ${Zr.color}33`},children:[t.jsx("div",{style:{textAlign:"right",marginBottom:"16px"},children:t.jsx("span",{style:{fontSize:"20px",color:"#9ca3af",cursor:"pointer",fontWeight:"bold"},children:"âœ•"})}),t.jsx("div",{style:{textAlign:"center",marginBottom:"16px"},children:t.jsxs("div",{style:{fontSize:"48px",width:"70px",height:"70px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:Zr.color,borderRadius:"50%",color:"white",margin:"0 auto",boxShadow:`0 4px 12px ${Zr.color}40`},children:["warn"===Zr.iconType&&t.jsx(w,{size:28,color:"white"}),"ban"===Zr.iconType&&t.jsx(S,{size:28,color:"white"}),"shadowban"===Zr.iconType&&t.jsx(r,{size:28,color:"white"}),"delete"===Zr.iconType&&t.jsx(x,{size:28,color:"white"})]})}),t.jsx("h3",{style:{fontSize:"18px",fontWeight:"700",margin:"0 0 12px 0",color:"#1f2937",textAlign:"center",letterSpacing:"-0.5px"},children:Zr.title}),t.jsx("p",{style:{fontSize:"14px",color:"#4b5563",margin:"0",lineHeight:"1.6",whiteSpace:"pre-wrap",textAlign:"center"},children:Zr.message}),"warn"===Kr&&t.jsx("button",{style:{width:"100%",padding:"12px 16px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",marginTop:"16px",transition:"opacity 0.2s"},children:"Acknowledge"}),"shadowban"===Kr&&t.jsx("button",{style:{width:"100%",padding:"12px 16px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",marginTop:"16px",transition:"opacity 0.2s"},children:"Learn More"})]})})]}),ye&&t.jsx("div",{style:{padding:"12px",backgroundColor:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"8px",color:"#dc2626",fontSize:"13px",marginBottom:"16px"},children:ye}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsx("button",{onClick:()=>(async t=>{const o=Nr.reason.trim();if(o)try{const r={employeeId:e.id,action:t,reason:o,..."ban"===t&&{banType:Bn,banDuration:"temporary"===Bn?An:null}};console.log("Sending user action request:",{url:`${E()}/staff/user-action/${Or.userId}`,payload:r});const n=await L(`${E()}/staff/user-action/${Or.userId}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(console.log("User action response status:",n.status),n.ok){const r=(await n.json()).user;Fn({isVisible:!0,userId:Or.userId,userName:r.name,action:t,reason:o,timestamp:new Date}),Fr({isOpen:!1,userId:null,action:null}),Dr({isOpen:!1,action:null,itemId:null,itemType:null,reason:""}),Qr(null),en(null),Mn("permanent"),En({value:7,unit:"days"}),me(""),e&&hs(e),setTimeout(()=>{Fn({isVisible:!1,userId:null,userName:null,action:null,reason:null,timestamp:null})},8e3)}else{const e=await n.json();console.error("User action error response:",e),me("Failed to apply user action"),je({type:"error",message:"Failed to apply user action"})}}catch(r){console.error("User action failed:",r),me("Error applying user action"),je({type:"error",message:"Error applying user action"})}else me("Please enter a reason")})(Kr),style:{padding:"12px 16px",backgroundColor:"warn"===Kr?"#f59e0b":"ban"===Kr?"#ef4444":"delete"===Kr?"#8b5cf6":"#6b7280",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"opacity 0.2s"},onMouseEnter:e=>e.target.style.opacity="0.9",onMouseLeave:e=>e.target.style.opacity="1",children:"Confirm Action"}),t.jsx("button",{onClick:()=>{Qr(null),Dr({isOpen:!1,action:null,itemId:null,itemType:null,reason:""}),en(null),Mn("permanent"),En({value:7,unit:"days"})},style:{padding:"12px 16px",backgroundColor:"#e5e7eb",color:"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"opacity 0.2s"},onMouseEnter:e=>e.target.style.opacity="0.8",onMouseLeave:e=>e.target.style.opacity="1",children:"Back"})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 8px 0",color:"#1f2937"},children:"Apply Action to User"}),t.jsx("p",{style:{fontSize:"14px",color:"#666",margin:"0 0 24px 0"},children:"Select an action to apply to this user"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("button",{onClick:()=>Qr("warn"),style:{padding:"12px 16px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"opacity 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:e=>e.target.style.opacity="0.9",onMouseLeave:e=>e.target.style.opacity="1",children:[t.jsx(w,{size:16,style:{marginRight:"6px"}})," Send Warning"]}),t.jsxs("button",{onClick:()=>Qr("ban"),style:{padding:"12px 16px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"opacity 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:e=>e.target.style.opacity="0.9",onMouseLeave:e=>e.target.style.opacity="1",children:[t.jsx(S,{size:16,style:{marginRight:"6px"}})," Ban User"]}),t.jsxs("button",{onClick:()=>Qr("shadowban"),style:{padding:"12px 16px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"opacity 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:e=>e.target.style.opacity="0.9",onMouseLeave:e=>e.target.style.opacity="1",children:[t.jsx(r,{size:16,style:{marginRight:"6px"}})," Shadow Ban User"]}),t.jsxs("button",{onClick:()=>Qr("delete"),style:{padding:"12px 16px",backgroundColor:"#8b5cf6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"opacity 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:e=>e.target.style.opacity="0.9",onMouseLeave:e=>e.target.style.opacity="1",children:[t.jsx(x,{size:16,style:{marginRight:"6px"}})," Delete User Account"]}),t.jsx("button",{onClick:()=>{Fr({isOpen:!1,userId:null,action:null}),Qr(null),en(null),Mn("permanent"),En({value:7,unit:"days"})},style:{padding:"12px 16px",backgroundColor:"#e5e7eb",color:"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"opacity 0.2s"},onMouseEnter:e=>e.target.style.opacity="0.8",onMouseLeave:e=>e.target.style.opacity="1",children:"Cancel"})]})]})})}),"promotions"===A&&t.jsxs("div",{children:[t.jsx("div",{style:{marginBottom:"24px"},children:t.jsx("button",{onClick:()=>Ur({...$r,isOpen:!0}),style:{padding:"10px 20px",background:"linear-gradient(135deg, #f59e0b 0%, #f59e0b 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"700",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(245,158,11,0.3)",position:"relative",overflow:"hidden"},onMouseEnter:e=>{e.target.style.boxShadow="0 8px 20px rgba(245,158,11,0.4)",e.target.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.target.style.boxShadow="0 4px 12px rgba(245,158,11,0.3)",e.target.style.transform="translateY(0)"},children:"+ Send New Promotion"})}),t.jsx("div",{style:{marginTop:"8px"},children:t.jsx("button",{onClick:()=>{O("ads"),Se(!0)},style:{padding:"10px 20px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"700",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(59,130,246,0.25)",position:"relative",overflow:"hidden"},onMouseEnter:e=>{e.target.style.boxShadow="0 8px 20px rgba(59,130,246,0.35)",e.target.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.target.style.boxShadow="0 4px 12px rgba(59,130,246,0.25)",e.target.style.transform="translateY(0)"},children:"Serve Advertisements"})}),t.jsxs("div",{style:{marginTop:"32px"},children:[t.jsx("div",{style:{marginBottom:"20px"},children:t.jsx("h2",{style:{fontSize:"18px",fontWeight:"700",margin:"0",color:"#111827"},children:"News Ticker Templates"})}),0===Gi.length?t.jsxs("div",{style:{padding:"48px 32px",textAlign:"center",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderRadius:"12px",color:"#6b7280",border:"1px solid #bae6fd"},children:[t.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"rgba(59,130,246,0.1)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:t.jsx(h,{size:40,style:{color:"#3b82f6"}})}),t.jsx("p",{style:{margin:"0 0 6px",fontSize:"16px",fontWeight:"600",color:"#1f2937"},children:"No Templates Yet"}),t.jsx("p",{style:{margin:"0",fontSize:"13px",color:"#6b7280"},children:"Save overlays from the ad preview to create reusable templates"})]}):t.jsx("div",{style:{display:"grid",gap:"12px"},children:Gi.map(e=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",border:"1px solid #e5e7eb",borderRadius:"10px",background:"#ffffff",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)",e.currentTarget.style.borderColor="#3b82f6"},onMouseLeave:e=>{e.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.05)",e.currentTarget.style.borderColor="#e5e7eb"},children:[t.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",flex:1},children:[t.jsx("div",{style:{width:"12px",height:"12px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",borderRadius:"3px"}}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:"600",color:"#111827",fontSize:"14px"},children:e.name}),t.jsx("div",{style:{fontSize:"12px",color:"#9ca3af",marginTop:"2px"},children:"News ticker overlay"})]})]}),t.jsx("button",{onClick:()=>Zi(Qi===e.id?null:e.id),style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #d1d5db",background:Qi===e.id?"#3b82f6":"white",color:Qi===e.id?"white":"#1f2937",cursor:"pointer",fontWeight:"600",fontSize:"13px",transition:"all 0.2s"},onMouseEnter:t=>{Qi!==e.id&&(t.target.style.background="#f3f4f6")},onMouseLeave:t=>{Qi!==e.id&&(t.target.style.background="white")},children:Qi===e.id?"Close":"Apply"})]},e.id))}),Qi&&t.jsxs("div",{style:{marginTop:"12px",padding:"12px",border:"1px dashed #d1d5db",borderRadius:"8px"},children:[t.jsx("div",{style:{marginBottom:"8px",fontWeight:"600"},children:"Select videos to apply"}),t.jsx("div",{style:{maxHeight:"160px",overflow:"auto",border:"1px solid #f3f4f6",padding:"8px",borderRadius:"6px"},children:pe.map(e=>t.jsxs("label",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"6px"},children:[t.jsx("input",{type:"checkbox",checked:es.includes(e.id),onChange:t=>{t.target.checked?ts(t=>[...t,e.id]):ts(t=>t.filter(t=>t!==e.id))}}),t.jsx("span",{style:{fontSize:"13px"},children:e.title||e.id})]},e.id))}),t.jsxs("div",{style:{marginTop:"8px",display:"flex",gap:"8px",alignItems:"center"},children:[t.jsxs("label",{style:{display:"flex",gap:"6px",alignItems:"center"},children:[t.jsx("input",{type:"radio",name:"placement",value:"beginning",checked:"beginning"===os,onChange:()=>rs("beginning")})," Beginning"]}),t.jsxs("label",{style:{display:"flex",gap:"6px",alignItems:"center"},children:[t.jsx("input",{type:"radio",name:"placement",value:"end",checked:"end"===os,onChange:()=>rs("end")})," End"]}),t.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:()=>{Zi(null),ts([])},style:{padding:"6px 10px",borderRadius:"6px",border:"1px solid #d1d5db",background:"white"},children:"Cancel"}),t.jsx("button",{onClick:()=>{bs(Qi,es,os),Zi(null),ts([])},style:{padding:"6px 10px",borderRadius:"6px",background:"#3b82f6",color:"white",border:"none"},children:"Apply"})]})]})]})]})]}),"templates"===A&&t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"700",margin:"0 0 20px 0",color:"#1f2937"},children:"Overlay Templates"}),0===Gi.length?t.jsxs("div",{style:{padding:"48px 32px",textAlign:"center",background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",borderRadius:"10px",color:"#6b7280",border:"1px solid #d1d5db"},children:[t.jsx("div",{style:{width:"72px",height:"72px",backgroundColor:"rgba(59,130,246,0.1)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:t.jsx(C,{size:36,style:{color:"#3b82f6"}})}),t.jsx("p",{style:{margin:"0 0 6px",fontSize:"15px",fontWeight:"600",color:"#1f2937"},children:"No Templates Yet"}),t.jsx("p",{style:{margin:"0",fontSize:"13px",color:"#6b7280"},children:"Save overlays from the preview to create reusable templates"})]}):t.jsx("div",{style:{display:"grid",gap:"12px"},children:Gi.map(e=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",background:"white"},children:[t.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",flex:1},children:[t.jsx("div",{style:{width:"12px",height:"12px",background:"#3b82f6",borderRadius:"3px"}}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:"600",color:"#1f2937"},children:e.name}),t.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:e.overlay?.assetType||"overlay"})]})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[t.jsx("button",{onClick:()=>Zi(Qi===e.id?null:e.id),style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #d1d5db",background:"white",cursor:"pointer"},children:Qi===e.id?"Close":"Apply"}),t.jsx("button",{onClick:()=>{Xi(t=>t.filter(t=>t.id!==e.id)),Zi(null)},style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #fca5a5",background:"#fee2e2",color:"#dc2626",cursor:"pointer"},children:"Delete"})]})]},e.id))}),Qi&&t.jsxs("div",{style:{marginTop:"20px",padding:"16px",border:"1px dashed #d1d5db",borderRadius:"8px",background:"#f9fafb"},children:[t.jsx("div",{style:{marginBottom:"12px",fontWeight:"600"},children:"Apply to Videos"}),t.jsx("div",{style:{maxHeight:"240px",overflow:"auto",border:"1px solid #e5e7eb",padding:"8px",borderRadius:"6px",marginBottom:"12px"},children:0===pe.length?t.jsx("p",{style:{color:"#6b7280",fontSize:"13px"},children:"No videos available"}):pe.map(e=>t.jsxs("label",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"6px",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:es.includes(e.id),onChange:t=>{t.target.checked?ts(t=>[...t,e.id]):ts(t=>t.filter(t=>t!==e.id))}}),t.jsx("span",{style:{fontSize:"13px"},children:e.title||e.id})]},e.id))}),t.jsx("div",{style:{marginBottom:"12px",fontWeight:"600"},children:"Position"}),t.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"12px"},children:[t.jsxs("label",{style:{display:"flex",gap:"6px",alignItems:"center",cursor:"pointer"},children:[t.jsx("input",{type:"radio",name:"placement",value:"beginning",checked:"beginning"===os,onChange:()=>rs("beginning")})," Beginning of video"]}),t.jsxs("label",{style:{display:"flex",gap:"6px",alignItems:"center",cursor:"pointer"},children:[t.jsx("input",{type:"radio",name:"placement",value:"end",checked:"end"===os,onChange:()=>rs("end")})," End of video"]})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[t.jsx("button",{onClick:()=>{Zi(null),ts([])},style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db",background:"white",cursor:"pointer"},children:"Cancel"}),t.jsx("button",{onClick:()=>{bs(Qi,es,os),Zi(null),ts([])},style:{padding:"8px 12px",borderRadius:"6px",background:"#3b82f6",color:"white",border:"none",cursor:"pointer"},children:"Apply Template"})]})]})]}),"feedback"===A&&t.jsxs("div",{style:{padding:"0 0 40px 0"},children:[t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:32},children:t.jsxs("div",{children:[t.jsxs("h2",{style:{fontSize:24,fontWeight:700,color:"#111827",margin:0,display:"flex",alignItems:"center",gap:10},children:[t.jsx(k,{style:{color:"#d946ef"}})," User & Creator Feedback"]}),t.jsx("p",{style:{color:"#6b7280",marginTop:6},children:"Insights collected from creators after publishing and users after watching"})]})}),(()=>{const e=[];if("undefined"!=typeof window)for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);if(r&&r.startsWith("feedback_"))try{const t=JSON.parse(localStorage.getItem(r)),o=r.startsWith("feedback_creator_")?"Creator":"Requester",n=r.replace("feedback_creator_","").replace("feedback_requester_","");e.push({id:n,type:o,...t})}catch(o){}}return 0===e.length?t.jsxs("div",{style:{padding:60,textAlign:"center",background:"#f9fafb",borderRadius:16},children:[t.jsx("div",{style:{marginBottom:16,display:"inline-flex",padding:16,background:"#e0e7ff",borderRadius:"50%"},children:t.jsx(h,{size:32,color:"#4f46e5"})}),t.jsx("h3",{style:{fontSize:18,fontWeight:600,color:"#374151"},children:"No Feedback Yet"}),t.jsx("p",{style:{color:"#6b7280"},children:"Wait for creators to publish videos or requesters to rate them."})]}):t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))",gap:24},children:e.map((e,o)=>t.jsxs("div",{style:{background:"white",borderRadius:16,padding:24,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03)",border:"1px solid #f3f4f6",transition:"transform 0.2s",display:"flex",flexDirection:"column",gap:16},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("span",{style:{padding:"4px 12px",borderRadius:20,fontSize:12,fontWeight:700,background:"Creator"===e.type?"#ede9fe":"#dbeafe",color:"Creator"===e.type?"#7c3aed":"#2563eb"},children:[e.type," Feedback"]}),t.jsxs("span",{style:{fontSize:12,color:"#9ca3af"},children:["ID: ",e.id.substring(0,6),"..."]})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:Object.keys(e).filter(e=>"id"!==e&&"type"!==e).map(o=>t.jsxs("div",{style:{fontSize:13},children:[t.jsx("div",{style:{color:"#6b7280",fontSize:11,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:4},children:o.replace(/_/g," ")}),t.jsx("div",{style:{color:"#111827",fontWeight:500},children:["1","2","3","4","5"].includes(String(e[o]))?t.jsx("div",{style:{display:"flex",gap:2},children:[1,2,3,4,5].map(r=>t.jsx(k,{size:14,fill:r<=Number(e[o])?"#fbbf24":"none",color:r<=Number(e[o])?"#fbbf24":"#d1d5db"},r))}):e[o]})]},o))})]},o))})})()]}),"support"===A&&t.jsx(M,{selectedLanguage:W}),"onboarding"===A&&t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"700",margin:"0 0 8px 0",color:"#1f2937"},children:"Creator Onboarding Information"}),t.jsx("p",{style:{color:"#6b7280",margin:"0",fontSize:"14px"},children:"View all creators who have completed onboarding registration"})]}),0===F.length?t.jsxs("div",{style:{padding:"48px 32px",textAlign:"center",background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",borderRadius:"10px",color:"#6b7280",border:"1px solid #d1d5db"},children:[t.jsx("div",{style:{width:"72px",height:"72px",backgroundColor:"rgba(79,70,229,0.1)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:t.jsx(v,{size:36,style:{color:"#4f46e5"}})}),t.jsx("p",{style:{margin:"0 0 6px",fontSize:"15px",fontWeight:"600",color:"#1f2937"},children:"No Onboarding Data Yet"}),t.jsx("p",{style:{margin:"0",fontSize:"13px",color:"#6b7280"},children:"Creator onboarding information will appear here when creators complete registration"})]}):t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[t.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"8px"},children:["Showing ",F.length," onboarded creator(s)"]}),F.map((e,o)=>t.jsx("div",{style:{padding:"16px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#fff",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"12px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"11px",color:"#6b7280",fontWeight:"600",textTransform:"uppercase"},children:"Creator Name"}),t.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:e.creatorName||"N/A"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"11px",color:"#6b7280",fontWeight:"600",textTransform:"uppercase"},children:"Email"}),t.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"14px",color:"#374151"},children:e.userEmail||"N/A"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"11px",color:"#6b7280",fontWeight:"600",textTransform:"uppercase"},children:"Bio"}),t.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"13px",color:"#374151"},children:e.bio||"No bio provided"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"11px",color:"#6b7280",fontWeight:"600",textTransform:"uppercase"},children:"Social Handle"}),t.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:"14px",color:"#374151"},children:["@",e.socialMediaHandle||"N/A"]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"11px",color:"#6b7280",fontWeight:"600",textTransform:"uppercase"},children:"Social Followers"}),t.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:e.socialFollowers?e.socialFollowers.toLocaleString():"0"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"11px",color:"#6b7280",fontWeight:"600",textTransform:"uppercase"},children:"Intro Video URL"}),t.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"12px",color:"#3b82f6",wordBreak:"break-all"},children:e.introVideoUrl?t.jsx("a",{href:e.introVideoUrl,target:"_blank",rel:"noopener noreferrer",style:{color:"#3b82f6",textDecoration:"underline"},children:"View Video"}):"Not provided"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"11px",color:"#6b7280",fontWeight:"600",textTransform:"uppercase"},children:"Onboarded At"}),t.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"14px",color:"#374151"},children:e.completedAt?new Date(e.completedAt).toLocaleDateString():"N/A"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"11px",color:"#6b7280",fontWeight:"600",textTransform:"uppercase"},children:"Terms Agreed"}),t.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:"14px"},children:[t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 8px",borderRadius:"6px",backgroundColor:e.agreedTOS?"#dcfce7":"#fee2e2"},children:[e.agreedTOS?"âœ“":"âœ—"," ",t.jsx("span",{style:{fontSize:"12px"},children:"TOS"})]})," ",t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 8px",borderRadius:"6px",backgroundColor:e.agreedPrivacy?"#dcfce7":"#fee2e2"},children:[e.agreedPrivacy?"âœ“":"âœ—"," ",t.jsx("span",{style:{fontSize:"12px"},children:"Privacy"})]})]})]})]})},o))]})]}),"ads"===A&&t.jsxs("div",{children:[we&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",zIndex:1200,display:"flex",alignItems:"center",justifyContent:"center",padding:16},children:t.jsxs("div",{style:{width:"100%",maxWidth:500,padding:32,borderRadius:16,boxShadow:"0 20px 60px rgba(0,0,0,0.3)",background:"white"},children:[t.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:24,fontWeight:700,color:"#111827"},children:"Create Advertisement"}),t.jsx("p",{style:{color:"#6b7280",margin:"0 0 24px 0",fontSize:14},children:"Choose an ad format to configure and deploy across videos"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[t.jsxs("button",{onClick:()=>{ke("video"),Se(!1)},style:{padding:"14px 16px",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)",color:"white",border:"none",borderRadius:10,cursor:"pointer",fontWeight:700,fontSize:14,transition:"all 0.2s",textAlign:"left",boxShadow:"0 2px 8px rgba(15,23,42,0.2)"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 16px rgba(15,23,42,0.3)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 8px rgba(15,23,42,0.2)"},children:[t.jsx("div",{style:{fontSize:15,fontWeight:700},children:"Video Ads"}),t.jsx("div",{style:{fontSize:12,opacity:.8,marginTop:2},children:"Interactive CTA overlays on video player"})]}),t.jsxs("button",{onClick:()=>{ke("overlay"),Se(!1)},style:{padding:"14px 16px",background:"linear-gradient(135deg, #0891b2 0%, #06b6d4 100%)",color:"white",border:"none",borderRadius:10,cursor:"pointer",fontWeight:700,fontSize:14,transition:"all 0.2s",textAlign:"left",boxShadow:"0 2px 8px rgba(6,182,212,0.2)"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 16px rgba(6,182,212,0.3)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 8px rgba(6,182,212,0.2)"},children:[t.jsx("div",{style:{fontSize:15,fontWeight:700},children:"News Ticker"}),t.jsx("div",{style:{fontSize:12,opacity:.8,marginTop:2},children:"Animated scrolling text overlay at bottom"})]}),t.jsxs("button",{onClick:()=>{ke("bottom"),Se(!1)},style:{padding:"14px 16px",background:"linear-gradient(135deg, #059669 0%, #10b981 100%)",color:"white",border:"none",borderRadius:10,cursor:"pointer",fontWeight:700,fontSize:14,transition:"all 0.2s",textAlign:"left",boxShadow:"0 2px 8px rgba(16,185,129,0.2)"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 16px rgba(16,185,129,0.3)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 8px rgba(16,185,129,0.2)"},children:[t.jsx("div",{style:{fontSize:15,fontWeight:700},children:"Branded Card"}),t.jsx("div",{style:{fontSize:12,opacity:.8,marginTop:2},children:"Profile card with text and clickable link"})]}),t.jsxs("button",{onClick:()=>{ke("default2"),Se(!1)},style:{padding:"14px 16px",background:"linear-gradient(135deg, #c026d3 0%, #d946ef 100%)",color:"white",border:"none",borderRadius:10,cursor:"pointer",fontWeight:700,fontSize:14,transition:"all 0.2s",textAlign:"left",boxShadow:"0 2px 8px rgba(217,70,239,0.2)"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 16px rgba(217,70,239,0.3)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 8px rgba(217,70,239,0.2)"},children:[t.jsx("div",{style:{fontSize:15,fontWeight:700},children:"Inline Banner"}),t.jsx("div",{style:{fontSize:12,opacity:.8,marginTop:2},children:"Customizable banner with title and description"})]}),t.jsxs("div",{style:{display:"flex",gap:12,marginTop:8},children:[t.jsx("button",{onClick:()=>Se(!1),style:{flex:1,padding:"10px 12px",background:"transparent",color:"#6b7280",border:"1px solid #e5e7eb",borderRadius:8,cursor:"pointer",fontWeight:600,fontSize:13,transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.background="#f9fafb",e.target.style.borderColor="#d1d5db"},onMouseLeave:e=>{e.target.style.background="transparent",e.target.style.borderColor="#e5e7eb"},children:"Cancel"}),t.jsx("button",{onClick:()=>{Mo(!0)},style:{flex:1,padding:"10px 12px",background:"linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%)",color:"white",border:"none",borderRadius:8,cursor:"pointer",fontWeight:600,fontSize:13,transition:"all 0.2s",boxShadow:"0 2px 8px rgba(37,99,235,0.2)"},onMouseEnter:e=>{e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 12px rgba(37,99,235,0.3)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 8px rgba(37,99,235,0.2)"},children:"Saved Templates"})]})]})]})}),t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:t.jsx("h2",{style:{fontSize:"20px",fontWeight:"700",margin:"0",color:"#1f2937",letterSpacing:"-0.5px"},children:"Ad Management"})}),"video"===Ce&&t.jsxs("div",{style:{marginBottom:"20px",padding:"16px",borderRadius:10,border:"1px solid #e6edf3",background:"#fff"},children:[t.jsx("h4",{style:{margin:0,fontSize:16,fontWeight:700,marginBottom:16},children:"Configure Video Ad"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:16},children:[t.jsxs("div",{style:{gridColumn:"1 / -1"},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"AD TITLE"}),t.jsx("input",{placeholder:"Your video ad title",value:Oo,onChange:e=>Fo(e.target.value),style:{width:"100%",padding:"8px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"CTA BUTTON TEXT"}),t.jsx("input",{placeholder:"e.g., Learn More",value:$o,onChange:e=>Uo(e.target.value),style:{width:"100%",padding:"8px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"CTA BUTTON COLOR"}),t.jsxs("div",{style:{display:"flex",gap:6,flexDirection:"column"},children:[t.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[t.jsx("input",{type:"color",value:Yo,onChange:e=>qo(e.target.value),style:{width:50,height:40,borderRadius:8,border:"none",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}}),t.jsx("input",{type:"text",value:Yo,onChange:e=>qo(e.target.value),placeholder:"#4B9EFF",style:{flex:1,padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:12,fontFamily:"monospace",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"}})]}),t.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:["#3b82f6","#06b6d4","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#6366f1"].map(e=>t.jsx("button",{onClick:()=>qo(e),style:{width:28,height:28,borderRadius:6,backgroundColor:e,border:Yo===e?"3px solid #1f2937":"2px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},title:e},e))})]})]}),t.jsxs("div",{style:{gridColumn:"1 / -1"},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"TARGET LINK"}),t.jsx("input",{placeholder:"https://example.com",value:Ho,onChange:e=>Vo(e.target.value),style:{width:"100%",padding:"8px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]})]}),t.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[t.jsx("button",{onClick:()=>{ke(null)},style:{padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",background:"white",cursor:"pointer"},children:"Close"}),t.jsx("button",{onClick:()=>Go(!0),style:{padding:"8px 12px",borderRadius:8,background:"#111827",color:"white",border:"none",cursor:"pointer"},children:"Preview"}),t.jsx("button",{onClick:()=>je({type:"success",title:"Saved",message:"Video ad template saved!"}),style:{padding:"8px 12px",borderRadius:8,background:"#0b74de",color:"white",border:"none",cursor:"pointer",fontWeight:600},children:"Save Template"}),t.jsx("button",{onClick:()=>je({type:"info",title:"Apply",message:"Apply video ad to videos"}),style:{padding:"8px 12px",borderRadius:8,background:"#0b74de",color:"white",border:"none",cursor:"pointer",fontWeight:600,fontSize:13},children:"Apply"})]})]}),"bottom"===Ce&&t.jsxs("div",{style:{marginBottom:"20px",padding:"16px",borderRadius:10,border:"1px solid #e6edf3",background:"#fff"},children:[t.jsx("h4",{style:{margin:0,fontSize:16,fontWeight:700},children:"Configure Bottom Video Ad"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginTop:12},children:[t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:13,color:"#374151"},children:"Profile Name"}),t.jsx("input",{value:ze,onChange:e=>Te(e.target.value),placeholder:"Advertiser name",style:{width:"100%",padding:"8px",marginTop:6,borderRadius:8,border:"1px solid #e5e7eb"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:13,color:"#374151"},children:"Profile Avatar URL"}),t.jsx("input",{value:Re,onChange:e=>Ie(e.target.value),placeholder:"https://...jpg",style:{width:"100%",padding:"8px",marginTop:6,borderRadius:8,border:"1px solid #e5e7eb"}})]}),t.jsxs("div",{style:{gridColumn:"1 / -1"},children:[t.jsx("label",{style:{fontSize:13,color:"#374151",marginBottom:8,display:"block"},children:"Ad Text Items (displayed at interval)"}),t.jsx("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:12,background:"#fafbfc",maxHeight:"200px",overflowY:"auto"},children:0===Me.length?t.jsx("p",{style:{margin:0,fontSize:13,color:"#9ca3af",textAlign:"center",padding:"20px 12px"},children:"No text items yet. Add one below to get started."}):Me.map((e,o)=>t.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:o===Me.length-1?0:8},children:[t.jsx("input",{value:e,onChange:e=>{const t=[...Me];t[o]=e.target.value,Ae(t)},placeholder:`Text item ${o+1}`,style:{flex:1,padding:"8px",borderRadius:6,border:"1px solid #e5e7eb",background:"white",fontSize:13}}),t.jsx("button",{onClick:()=>{Ae(Me.filter((e,t)=>t!==o))},style:{padding:"6px 8px",background:"#fee2e2",color:"#991b1b",border:"none",borderRadius:6,cursor:"pointer",fontSize:12,fontWeight:500},children:"Remove"})]},o))}),t.jsx("button",{onClick:()=>Ae([...Me,""]),style:{marginTop:8,padding:"8px 12px",background:"#dbeafe",color:"#0369a1",border:"1px solid #7dd3fc",borderRadius:6,cursor:"pointer",fontSize:12,fontWeight:600},children:"+ Add Text Item"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:13,color:"#374151"},children:"Text Rotation Interval (ms)"}),t.jsx("input",{type:"number",value:Ee,onChange:e=>Le(Math.max(1e3,parseInt(e.target.value)||5e3)),min:1e3,step:500,style:{width:"100%",padding:"8px",marginTop:6,borderRadius:8,border:"1px solid #e5e7eb"}}),t.jsx("small",{style:{fontSize:11,color:"#6b7280",marginTop:4,display:"block"},children:"Min 1000ms (1 second)"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:13,color:"#374151"},children:"Text Transition"}),t.jsx(N,{value:Pe,onChange:Ne,options:[{value:"fade",label:"Fade",icon:"âœ¨",description:"Smooth opacity transition"},{value:"slide-left",label:"Slide Left",icon:"â†’",description:"Text moves from right to left"},{value:"slide-right",label:"Slide Right",icon:"â†",description:"Text moves from left to right"},{value:"bounce",label:"Bounce",icon:"ðŸŽ¾",description:"Spring-like bounce effect"},{value:"scale",label:"Scale",icon:"ðŸ“",description:"Size grows and shrinks"}]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:13,color:"#374151"},children:"Card Entry Animation"}),t.jsx(N,{value:De,onChange:Oe,options:[{value:"fade",label:"Fade",icon:"âœ¨",description:"Simple opacity fade-in"},{value:"line-first",label:"Line First",icon:"â”",description:"Purple line appears first"},{value:"slide-down",label:"Slide Down",icon:"â¬‡ï¸",description:"Comes from top of screen"},{value:"bounce-in",label:"Bounce In",icon:"â¹ï¸",description:"Bouncy entrance animation"},{value:"scale-up",label:"Scale Up",icon:"ðŸ“",description:"Grows from center"}]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:13,color:"#374151"},children:"Card Effect (After Entry)"}),t.jsx(N,{value:Fe,onChange:$e,options:[{value:"none",label:"None",icon:"â­•",description:"No additional effect"},{value:"pulse",label:"Pulse",icon:"ðŸ’“",description:"Subtle breathing effect"},{value:"shake",label:"Shake",icon:"ðŸ“³",description:"Slight horizontal shaking"},{value:"glow",label:"Glow",icon:"âš¡",description:"Purple glowing aura"},{value:"float",label:"Float",icon:"ðŸŽˆ",description:"Gentle up and down motion"},{value:"rotate",label:"Rotate",icon:"ðŸ”„",description:"Subtle rotating effect"}]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:13,color:"#374151"},children:"Exit Animation"}),t.jsx(N,{value:Ue,onChange:Ye,options:[{value:"fadeOut",label:"Fade Out",icon:"âœ¨",description:"Smooth fade to transparent"},{value:"slideOut",label:"Slide Out",icon:"â†’",description:"Slide to the right"},{value:"scaleDown",label:"Scale Down",icon:"ðŸ“",description:"Shrinks and disappears"},{value:"bounceOut",label:"Bounce Out",icon:"ðŸŽ¾",description:"Bounces away"},{value:"rotateOut",label:"Rotate Out",icon:"ðŸ”„",description:"Rotates while fading"}]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:13,color:"#374151"},children:"Border Color"}),t.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[t.jsx("input",{type:"color",value:qe.includes("#")?qe:"#FF00FF",onChange:e=>He(e.target.value),style:{width:50,height:40,borderRadius:6,border:"1px solid #e5e7eb",cursor:"pointer"}}),t.jsx("span",{style:{fontSize:12,color:"#6b7280"},children:"Pick a color for the card border"})]})]}),t.jsxs("div",{style:{gridColumn:"1 / -1"},children:[t.jsx("label",{style:{fontSize:13,color:"#374151"},children:"Target Link"}),t.jsx("input",{value:Ve,onChange:e=>Je(e.target.value),placeholder:"https://example.com",style:{width:"100%",padding:"8px",marginTop:6,borderRadius:8,border:"1px solid #e5e7eb"}})]})]}),t.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"flex-end",marginTop:16,flexWrap:"wrap"},children:[t.jsx("button",{onClick:()=>{ke(null)},style:{padding:"9px 16px",borderRadius:8,border:"1px solid #e5e7eb",background:"white",cursor:"pointer",fontWeight:500,fontSize:13},children:"Close"}),t.jsx("button",{onClick:e=>{e.preventDefault(),Br()},style:{padding:"9px 16px",borderRadius:8,background:"#3b82f6",color:"white",border:"none",cursor:"pointer",fontWeight:500,fontSize:13},children:"Save Template"}),t.jsxs("button",{onClick:()=>Mo(!0),style:{padding:"9px 16px",borderRadius:8,background:"#2563eb",color:"white",border:"none",cursor:"pointer",fontWeight:600,fontSize:13},children:["Templates (",Io.length,")"]}),t.jsx("button",{onClick:()=>{ze&&0!==Me.length?Xe(!0):je({type:"error",title:"Missing fields",message:"Please provide profile name and at least one text item."})},style:{padding:"9px 16px",borderRadius:8,background:"#111827",color:"white",border:"none",cursor:"pointer",fontWeight:500,fontSize:13},children:"Preview"}),t.jsx("button",{onClick:()=>{ze&&0!==Me.length?is(!0):je({type:"error",title:"Missing fields",message:"Please provide profile name and at least one text item."})},style:{padding:"9px 16px",borderRadius:8,background:"#0b74de",color:"white",border:"none",cursor:"pointer",fontWeight:600,fontSize:13},children:"Apply"})]})]}),"default2"===Ce&&t.jsxs("div",{style:{marginBottom:"20px",padding:"16px",borderRadius:10,border:"1px solid #e6edf3",background:"#fff"},children:[t.jsx("h4",{style:{margin:0,fontSize:16,fontWeight:700,marginBottom:16},children:"Configure Default 2 Ad"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:16},children:[t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"LINE COLOR"}),t.jsxs("div",{style:{display:"flex",gap:6,flexDirection:"column"},children:[t.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[t.jsx("input",{type:"color",value:Xo,onChange:e=>_o(e.target.value),style:{width:50,height:40,borderRadius:8,border:"none",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}}),t.jsx("input",{type:"text",value:Xo,onChange:e=>_o(e.target.value),placeholder:"#8b5cf6",style:{flex:1,padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:12,fontFamily:"monospace",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"}})]}),t.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:["#8b5cf6","#ec4899","#ef4444","#f59e0b","#10b981","#06b6d4","#3b82f6","#6366f1"].map(e=>t.jsx("button",{onClick:()=>_o(e),style:{width:28,height:28,borderRadius:6,backgroundColor:e,border:Xo===e?"3px solid #1f2937":"2px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},title:e},e))})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"BACKGROUND COLOR"}),t.jsxs("div",{style:{display:"flex",gap:6,flexDirection:"column"},children:[t.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[t.jsx("input",{type:"color",value:Ko,onChange:e=>Qo(e.target.value),style:{width:50,height:40,borderRadius:8,border:"none",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}}),t.jsx("input",{type:"text",value:Ko,onChange:e=>Qo(e.target.value),placeholder:"#ffffff",style:{flex:1,padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:12,fontFamily:"monospace",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"}})]}),t.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:["#ffffff","#f8fafc","#f1f5f9","#e2e8f0","#111827","#1f2937"].map(e=>t.jsx("button",{onClick:()=>Qo(e),style:{width:28,height:28,borderRadius:6,backgroundColor:e,border:Ko===e?"3px solid #1f2937":"2px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},title:e},e))})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"TEXT COLOR"}),t.jsxs("div",{style:{display:"flex",gap:6,flexDirection:"column"},children:[t.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[t.jsx("input",{type:"color",value:Zo,onChange:e=>er(e.target.value),style:{width:50,height:40,borderRadius:8,border:"none",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}}),t.jsx("input",{type:"text",value:Zo,onChange:e=>er(e.target.value),placeholder:"#1f2937",style:{flex:1,padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:12,fontFamily:"monospace",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"}})]}),t.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:["#000000","#1f2937","#374151","#4b5563","#ffffff","#f3f4f6"].map(e=>t.jsx("button",{onClick:()=>er(e),style:{width:28,height:28,borderRadius:6,backgroundColor:e,border:Zo===e?"3px solid #1f2937":"2px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},title:e},e))})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"TITLE"}),t.jsx("input",{placeholder:"Card title",value:tr,onChange:e=>or(e.target.value),style:{width:"100%",padding:"8px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"DESCRIPTION"}),t.jsx("input",{placeholder:"Card description",value:rr,onChange:e=>nr(e.target.value),style:{width:"100%",padding:"8px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),t.jsxs("div",{style:{gridColumn:"1 / -1"},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"LOGO/IMAGE URL"}),t.jsx("input",{placeholder:"https://example.com/logo.png",value:ir,onChange:e=>sr(e.target.value),style:{width:"100%",padding:"8px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),t.jsxs("div",{style:{gridColumn:"1 / -1"},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"PROFILE LINK"}),t.jsx("input",{placeholder:"https://example.com",value:ar,onChange:e=>lr(e.target.value),style:{width:"100%",padding:"8px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]})]}),t.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"flex-end",marginTop:16,flexWrap:"wrap"},children:[t.jsx("button",{onClick:()=>{ke(null)},style:{padding:"9px 16px",borderRadius:8,border:"1px solid #e5e7eb",background:"white",cursor:"pointer",fontWeight:500,fontSize:13},children:"Close"}),t.jsx("button",{onClick:()=>pr(!0),style:{padding:"9px 16px",borderRadius:8,background:"#111827",color:"white",border:"none",cursor:"pointer",fontWeight:500,fontSize:13},children:"Preview"}),t.jsx("button",{onClick:()=>yr(!0),style:{padding:"9px 16px",borderRadius:8,background:"#3b82f6",color:"white",border:"none",cursor:"pointer",fontWeight:500,fontSize:13},children:"Save Template"}),t.jsxs("button",{onClick:()=>fr(!0),style:{padding:"9px 16px",borderRadius:8,background:"#2563eb",color:"white",border:"none",cursor:"pointer",fontWeight:600,fontSize:13},children:["Templates (",cr.length,")"]}),t.jsx("button",{onClick:()=>vr(!0),style:{padding:"9px 16px",borderRadius:8,background:"#d946ef",color:"white",border:"none",cursor:"pointer",fontWeight:600,fontSize:13},children:"Apply to Videos"})]})]}),Jo&&t.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.95)",zIndex:1400,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",padding:20},onClick:()=>Go(!1),children:t.jsxs("div",{onClick:e=>e.stopPropagation(),style:{width:"100%",maxWidth:500,background:"#000",borderRadius:12,position:"relative",display:"flex",flexDirection:"column",aspectRatio:9/16,overflow:"hidden"},children:[t.jsx("button",{onClick:()=>Go(!1),style:{position:"absolute",top:12,right:12,zIndex:100,background:"rgba(255,255,255,0.1)",border:"none",color:"white",padding:"6px 8px",borderRadius:6,cursor:"pointer",fontSize:14},children:"âœ•"}),t.jsxs("div",{style:{flex:1,background:"linear-gradient(135deg, #111827 0%, #1f2937 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#6b7280",fontSize:14,position:"relative",overflow:"hidden"},children:[t.jsx("div",{style:{position:"absolute",inset:0,background:'url("data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27400%27 height=%27600%27%3E%3Crect fill=%27%23111827%27 width=%27400%27 height=%27600%27/%3E%3Ctext x=%2750%25%27 y=%2750%25%27 font-size=%2740%27 fill=%27%236b7280%27 text-anchor=%27middle%27 dominant-baseline=%27middle%27%3EVideo Playing%3C/text%3E%3C/svg%3E")',backgroundSize:"cover",opacity:.8}}),t.jsxs("div",{style:{position:"absolute",inset:"40px 20px",background:"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",borderRadius:12,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",boxShadow:"0 8px 32px rgba(0,0,0,0.5)",zIndex:10,border:"2px solid rgba(255,255,255,0.1)"},children:[t.jsx("div",{style:{width:"100%",height:"120px",background:"rgba(0,0,0,0.3)",borderRadius:8,marginBottom:16,display:"flex",alignItems:"center",justifyContent:"center",color:"#90caf9",fontWeight:600,fontSize:14},children:"ðŸŽ¬ Ad Video"}),t.jsx("div",{style:{color:"white",fontSize:16,fontWeight:700,marginBottom:12,textAlign:"center"},children:Oo||"Your Ad Title"}),t.jsx("button",{style:{padding:"12px 24px",background:Yo||"#0b74de",color:"white",border:"none",borderRadius:8,fontSize:14,fontWeight:700,cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.boxShadow="0 6px 16px rgba(0,0,0,0.4)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.3)"},children:$o||"Learn More"})]})]})]})}),dr&&t.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.95)",zIndex:1400,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",padding:20},onClick:()=>pr(!1),children:t.jsxs("div",{onClick:e=>e.stopPropagation(),style:{width:"100%",maxWidth:500,maxHeight:"90vh",overflowY:"auto",background:"#000",borderRadius:12,position:"relative",display:"flex",flexDirection:"column",aspectRatio:9/16},children:[t.jsx("button",{onClick:()=>pr(!1),style:{position:"absolute",top:12,right:12,zIndex:100,background:"rgba(255,255,255,0.1)",border:"none",color:"white",padding:"6px 8px",borderRadius:6,cursor:"pointer",fontSize:14},children:"âœ•"}),t.jsxs("div",{style:{flex:1,background:"#1a1a1a",display:"flex",alignItems:"center",justifyContent:"center",color:"#6b7280",fontSize:14,position:"relative"},children:["Video Content Area",t.jsx("button",{style:{position:"absolute",bottom:20,right:16,padding:"10px 16px",background:"linear-gradient(135deg, #ff0080 0%, #ff8c00 100%)",color:"#ffffff",border:"2px solid #ff0080",borderRadius:8,fontSize:13,fontWeight:700,cursor:"pointer",boxShadow:"0 4px 12px rgba(255, 0, 128, 0.4)",whiteSpace:"nowrap",zIndex:10},children:"Visit Link"})]}),t.jsx("div",{style:{background:"#000",padding:"16px",borderTop:`3px solid ${Xo||"#d946ef"}`},children:[1,2].map(e=>t.jsxs("div",{style:{marginBottom:1===e?12:0,padding:"12px 14px",background:Ko||"#ffffff",border:`2px solid ${Ko||"#ffffff"}`,borderLeft:`3px solid ${Xo||"#d946ef"}`,borderRadius:8,display:"flex",alignItems:"center",gap:10,cursor:"pointer",transition:"all 0.2s ease",minHeight:"70px"},children:[ir&&t.jsx("img",{src:ir,alt:"logo",style:{width:50,height:50,borderRadius:8,objectFit:"cover",flexShrink:0},onError:e=>e.target.style.display="none"}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsx("div",{style:{fontSize:13,fontWeight:700,color:Zo||"#111827",marginBottom:4},children:tr||"Card Title"}),t.jsx("div",{style:{fontSize:12,color:Zo||"#6b7280"},children:rr||"Card description"})]}),t.jsx("div",{style:{fontSize:20,color:Xo||"#d946ef",flexShrink:0},children:"â†’"})]},e))})]})}),"overlay"===Ce&&t.jsxs("div",{style:{marginBottom:"20px",padding:"16px",borderRadius:12,border:"1px solid #e6edf3",background:"#fff",maxWidth:"100%",overflowX:"hidden"},children:[t.jsx("h4",{style:{margin:0,fontSize:18,fontWeight:700,marginBottom:12},children:"Configure Overlay Ad (News Ticker)"}),t.jsxs("div",{style:{marginBottom:16},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:8},children:"COMPANY NAME"}),t.jsxs("div",{style:{display:"flex",gap:8},children:[t.jsx("input",{value:_e,onChange:e=>Ke(e.target.value),placeholder:"Enter company...",style:{flex:1,padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13,minWidth:0}}),t.jsx("div",{style:{padding:"8px 12px",borderRadius:8,background:nt,color:st,fontSize:12,fontWeight:700,whiteSpace:"nowrap",display:"flex",alignItems:"center"},children:_e||"Preview"})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:16},children:[t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"BACKGROUND COLOR"}),t.jsxs("div",{style:{display:"flex",gap:6,flexDirection:"column"},children:[t.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[t.jsx("input",{type:"color",value:nt,onChange:e=>it(e.target.value),style:{width:50,height:40,borderRadius:8,border:"none",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}}),t.jsx("input",{type:"text",value:nt,onChange:e=>it(e.target.value),placeholder:"#E41E24",style:{flex:1,padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:12,fontFamily:"monospace",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"}})]}),t.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:["#E41E24","#DC143C","#FF6B6B","#FF4757","#FE5454"].map(e=>t.jsx("button",{onClick:()=>it(e),style:{width:28,height:28,borderRadius:6,backgroundColor:e,border:nt===e?"3px solid #1f2937":"2px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},title:e},e))})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"TEXT COLOR"}),t.jsxs("div",{style:{display:"flex",gap:6,flexDirection:"column"},children:[t.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[t.jsx("input",{type:"color",value:st,onChange:e=>at(e.target.value),style:{width:50,height:40,borderRadius:8,border:"none",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}}),t.jsx("input",{type:"text",value:st,onChange:e=>at(e.target.value),placeholder:"#fff",style:{flex:1,padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:12,fontFamily:"monospace",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"}})]}),t.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:["#ffffff","#f3f4f6","#e5e7eb","#d1d5db","#000000"].map(e=>t.jsx("button",{onClick:()=>at(e),style:{width:28,height:28,borderRadius:6,backgroundColor:e,border:st===e?"3px solid #1f2937":"2px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},title:e},e))})]})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:16},children:[t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"BRAND BACKGROUND"}),t.jsxs("div",{style:{display:"flex",gap:6,flexDirection:"column"},children:[t.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[t.jsx("input",{type:"color",value:lt,onChange:e=>dt(e.target.value),style:{width:50,height:40,borderRadius:8,border:"none",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}}),t.jsx("input",{type:"text",value:lt,onChange:e=>dt(e.target.value),placeholder:"#ffffff",style:{flex:1,padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:12,fontFamily:"monospace",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"}})]}),t.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:["#ffffff","#f8fafc","#f1f5f9","#e2e8f0","#0b74de"].map(e=>t.jsx("button",{onClick:()=>dt(e),style:{width:28,height:28,borderRadius:6,backgroundColor:e,border:lt===e?"3px solid #1f2937":"2px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},title:e},e))})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"BRAND TEXT"}),t.jsxs("div",{style:{display:"flex",gap:6,flexDirection:"column"},children:[t.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[t.jsx("input",{type:"color",value:pt,onChange:e=>ct(e.target.value),style:{width:50,height:40,borderRadius:8,border:"none",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}}),t.jsx("input",{type:"text",value:pt,onChange:e=>ct(e.target.value),placeholder:"#000000",style:{flex:1,padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:12,fontFamily:"monospace",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"}})]}),t.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:["#000000","#1f2937","#374151","#4b5563","#ffffff"].map(e=>t.jsx("button",{onClick:()=>ct(e),style:{width:28,height:28,borderRadius:6,backgroundColor:e,border:pt===e?"3px solid #1f2937":"2px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},title:e},e))})]})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:16},children:[t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"BANNER OPACITY"}),t.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[t.jsx("input",{type:"range",min:0,max:100,value:Math.round(100*(xt||1)),onChange:e=>gt(Number(e.target.value)/100),style:{flex:1}}),t.jsxs("div",{style:{minWidth:40,textAlign:"right",fontSize:12,color:"#374151",fontWeight:700},children:[Math.round(100*(xt||1)),"%"]})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"TAG OPACITY"}),t.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[t.jsx("input",{type:"range",min:0,max:100,value:Math.round(100*(ft||1)),onChange:e=>ut(Number(e.target.value)/100),style:{flex:1}}),t.jsxs("div",{style:{minWidth:40,textAlign:"right",fontSize:12,color:"#374151",fontWeight:700},children:[Math.round(100*(ft||1)),"%"]})]})]})]}),t.jsxs("div",{style:{marginBottom:16},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"POSITION"}),t.jsxs("div",{tabIndex:0,onBlur:()=>ro(!1),style:{position:"relative"},children:[t.jsxs("button",{onClick:()=>ro(e=>!e),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderRadius:8,border:"2px solid #e5e7eb",background:"white",cursor:"pointer",fontSize:13,fontWeight:600,transition:"all 0.2s ease",borderColor:oo?"#0b74de":"#e5e7eb",backgroundColor:oo?"#f0f9ff":"white"},children:[t.jsx("span",{children:"bottom"===bt?"ðŸ“ Bottom Ticker":"top"===bt?"ðŸ“ Top Ticker":"fullscreen"===bt?"ðŸ“º Full Screen Banner":"videoOverlay"===bt?"ðŸŽ¯ Video Overlay":"ðŸŽ¬ Video Player Overlay"}),t.jsx(b,{size:16,style:{transition:"transform 0.2s ease",transform:oo?"rotate(180deg)":"rotate(0deg)"}})]}),oo&&t.jsxs("div",{style:{position:"absolute",left:0,right:0,top:"calc(100% + 8px)",background:"white",borderRadius:8,boxShadow:"0 12px 32px rgba(0,0,0,0.15)",border:"1px solid #0b74de",zIndex:1e3,overflow:"hidden",maxHeight:"280px",overflowY:"auto"},children:[t.jsx("div",{onMouseDown:e=>{e.preventDefault(),ht("bottom"),ro(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"bottom"===bt?"#dbeafe":"transparent",color:"bottom"===bt?"#0b74de":"#1f2937",borderLeft:"bottom"===bt?"3px solid #0b74de":"3px solid transparent",paddingLeft:"bottom"===bt?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="bottom"===bt?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="bottom"===bt?"#dbeafe":"transparent"},children:"ðŸ“ Bottom Ticker"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),ht("top"),ro(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"top"===bt?"#dbeafe":"transparent",color:"top"===bt?"#0b74de":"#1f2937",borderLeft:"top"===bt?"3px solid #0b74de":"3px solid transparent",paddingLeft:"top"===bt?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="top"===bt?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="top"===bt?"#dbeafe":"transparent"},children:"ðŸ“ Top Ticker"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),ht("fullscreen"),ro(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"fullscreen"===bt?"#dbeafe":"transparent",color:"fullscreen"===bt?"#0b74de":"#1f2937",borderLeft:"fullscreen"===bt?"3px solid #0b74de":"3px solid transparent",paddingLeft:"fullscreen"===bt?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="fullscreen"===bt?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="fullscreen"===bt?"#dbeafe":"transparent"},children:"ðŸ“º Full Screen Banner"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),ht("videoOverlay"),ro(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"videoOverlay"===bt?"#dbeafe":"transparent",color:"videoOverlay"===bt?"#0b74de":"#1f2937",borderLeft:"videoOverlay"===bt?"3px solid #0b74de":"3px solid transparent",paddingLeft:"videoOverlay"===bt?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="videoOverlay"===bt?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="videoOverlay"===bt?"#dbeafe":"transparent"},children:"ðŸŽ¯ Video Overlay"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),ht("videoPlayer"),ro(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"videoPlayer"===bt?"#dbeafe":"transparent",color:"videoPlayer"===bt?"#0b74de":"#1f2937",borderLeft:"videoPlayer"===bt?"3px solid #0b74de":"3px solid transparent",paddingLeft:"videoPlayer"===bt?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="videoPlayer"===bt?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="videoPlayer"===bt?"#dbeafe":"transparent"},children:"ðŸŽ¬ Video Player Overlay"})]})]})]}),t.jsxs("div",{style:{marginBottom:16},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"TEXT ANIMATION"}),t.jsxs("select",{value:Qt,onChange:e=>Zt(e.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"2px solid #e5e7eb",background:"white",cursor:"pointer",fontSize:13,fontWeight:500,transition:"all 0.2s ease",borderColor:"#e5e7eb",backgroundColor:"white"},children:[t.jsx("option",{value:"marquee",children:"ðŸŽ¬ Marquee (Left to Right)"}),t.jsx("option",{value:"fade",children:"âœ¨ Fade In/Out"}),t.jsx("option",{value:"slide",children:"âž¡ï¸ Slide In/Out"})]})]}),t.jsxs("div",{style:{marginBottom:16},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"TICKER EMOJI"}),t.jsxs("div",{tabIndex:0,onBlur:()=>io(!1),style:{position:"relative"},children:[t.jsxs("button",{onClick:()=>io(e=>!e),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderRadius:8,border:"2px solid #e5e7eb",background:"white",cursor:"pointer",fontSize:14,transition:"all 0.2s ease",borderColor:no?"#0b74de":"#e5e7eb",backgroundColor:no?"#f0f9ff":"white"},children:[t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[et," ",t.jsx("span",{style:{color:"#6b7280",fontSize:12},children:"âš¡"===et?"Lightning":"ðŸ”´"===et?"Red Circle":"ðŸ“¢"===et?"Megaphone":"ðŸš¨"===et?"Alarm":"ðŸ’¥"===et?"Explosion":"â­"===et?"Star":"ðŸŽ¯"===et?"Target":"ðŸ“°"===et?"Newspaper":"ðŸ“º"===et?"TV":"Fire"})]}),t.jsx(b,{size:16,style:{transition:"transform 0.2s ease",transform:no?"rotate(180deg)":"rotate(0deg)"}})]}),no&&t.jsxs("div",{style:{position:"absolute",left:0,right:0,top:"calc(100% + 8px)",background:"white",borderRadius:8,boxShadow:"0 12px 32px rgba(0,0,0,0.15)",border:"1px solid #0b74de",zIndex:1e3,overflow:"hidden",maxHeight:"320px",overflowY:"auto"},children:[t.jsx("div",{onMouseDown:e=>{e.preventDefault(),tt("âš¡"),io(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"âš¡"===et?"#dbeafe":"transparent",color:"âš¡"===et?"#0b74de":"#1f2937",borderLeft:"âš¡"===et?"3px solid #0b74de":"3px solid transparent",paddingLeft:"âš¡"===et?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="âš¡"===et?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="âš¡"===et?"#dbeafe":"transparent"},children:"âš¡ Lightning"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),tt("ðŸ”´"),io(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"ðŸ”´"===et?"#dbeafe":"transparent",color:"ðŸ”´"===et?"#0b74de":"#1f2937",borderLeft:"ðŸ”´"===et?"3px solid #0b74de":"3px solid transparent",paddingLeft:"ðŸ”´"===et?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="ðŸ”´"===et?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="ðŸ”´"===et?"#dbeafe":"transparent"},children:"ðŸ”´ Red Circle"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),tt("ðŸ“¢"),io(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"ðŸ“¢"===et?"#dbeafe":"transparent",color:"ðŸ“¢"===et?"#0b74de":"#1f2937",borderLeft:"ðŸ“¢"===et?"3px solid #0b74de":"3px solid transparent",paddingLeft:"ðŸ“¢"===et?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="ðŸ“¢"===et?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="ðŸ“¢"===et?"#dbeafe":"transparent"},children:"ðŸ“¢ Megaphone"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),tt("ðŸš¨"),io(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"ðŸš¨"===et?"#dbeafe":"transparent",color:"ðŸš¨"===et?"#0b74de":"#1f2937",borderLeft:"ðŸš¨"===et?"3px solid #0b74de":"3px solid transparent",paddingLeft:"ðŸš¨"===et?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="ðŸš¨"===et?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="ðŸš¨"===et?"#dbeafe":"transparent"},children:"ðŸš¨ Alarm"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),tt("ðŸ’¥"),io(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"ðŸ’¥"===et?"#dbeafe":"transparent",color:"ðŸ’¥"===et?"#0b74de":"#1f2937",borderLeft:"ðŸ’¥"===et?"3px solid #0b74de":"3px solid transparent",paddingLeft:"ðŸ’¥"===et?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="ðŸ’¥"===et?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="ðŸ’¥"===et?"#dbeafe":"transparent"},children:"ðŸ’¥ Explosion"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),tt("â­"),io(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"â­"===et?"#dbeafe":"transparent",color:"â­"===et?"#0b74de":"#1f2937",borderLeft:"â­"===et?"3px solid #0b74de":"3px solid transparent",paddingLeft:"â­"===et?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="â­"===et?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="â­"===et?"#dbeafe":"transparent"},children:"â­ Star"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),tt("ðŸŽ¯"),io(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"ðŸŽ¯"===et?"#dbeafe":"transparent",color:"ðŸŽ¯"===et?"#0b74de":"#1f2937",borderLeft:"ðŸŽ¯"===et?"3px solid #0b74de":"3px solid transparent",paddingLeft:"ðŸŽ¯"===et?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="ðŸŽ¯"===et?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="ðŸŽ¯"===et?"#dbeafe":"transparent"},children:"ðŸŽ¯ Target"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),tt("ðŸ“°"),io(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"ðŸ“°"===et?"#dbeafe":"transparent",color:"ðŸ“°"===et?"#0b74de":"#1f2937",borderLeft:"ðŸ“°"===et?"3px solid #0b74de":"3px solid transparent",paddingLeft:"ðŸ“°"===et?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="ðŸ“°"===et?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="ðŸ“°"===et?"#dbeafe":"transparent"},children:"ðŸ“° Newspaper"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),tt("ðŸ“º"),io(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"ðŸ“º"===et?"#dbeafe":"transparent",color:"ðŸ“º"===et?"#0b74de":"#1f2937",borderLeft:"ðŸ“º"===et?"3px solid #0b74de":"3px solid transparent",paddingLeft:"ðŸ“º"===et?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="ðŸ“º"===et?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="ðŸ“º"===et?"#dbeafe":"transparent"},children:"ðŸ“º TV"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),tt("ðŸ”¥"),io(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"ðŸ”¥"===et?"#dbeafe":"transparent",color:"ðŸ”¥"===et?"#0b74de":"#1f2937",borderLeft:"ðŸ”¥"===et?"3px solid #0b74de":"3px solid transparent",paddingLeft:"ðŸ”¥"===et?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="ðŸ”¥"===et?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="ðŸ”¥"===et?"#dbeafe":"transparent"},children:"ðŸ”¥ Fire"})]})]})]}),"fullscreen"===bt&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:16},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"BUTTON TEXT"}),t.jsx("input",{value:yt,onChange:e=>mt(e.target.value),placeholder:"e.g., Learn More",style:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),t.jsxs("div",{style:{marginBottom:16},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"COMPANY PROFILE URL"}),t.jsx("input",{value:vt,onChange:e=>jt(e.target.value),placeholder:"e.g., https://example.com/profile.jpg",style:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]})]}),"videoPlayer"===bt&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:16},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"VIDEO/IMAGE/GIF URL OR UPLOAD"}),t.jsx("input",{value:wt,onChange:e=>St(e.target.value),placeholder:"e.g., https://example.com/video.mp4",style:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13,marginBottom:8}}),t.jsxs("div",{style:{marginBottom:12},children:[t.jsx("label",{style:{fontSize:11,color:"#9ca3af",display:"block",marginBottom:8,fontWeight:500},children:"OR upload from device:"}),t.jsxs("label",{style:{display:"inline-block",padding:"10px 16px",background:"#3b82f6",color:"#fff",borderRadius:8,fontSize:13,fontWeight:600,cursor:"pointer",border:"none",transition:"background 0.2s"},children:["ðŸ“ Choose File",t.jsx("input",{type:"file",accept:"video/*,image/*",onChange:e=>{const t=e.target.files?.[0];if(t){const e=new FormData;e.append("media",t),L(`${E()}/staff/upload-overlay-media`,{method:"POST",body:e}).then(e=>e.json()).then(e=>{e.success?(St(e.url),je({type:"success",title:"Uploaded",message:"Media uploaded successfully!"})):je({type:"error",title:"Upload failed",message:e.error||"Failed to upload media"})}).catch(e=>{console.error("Upload error:",e),je({type:"error",title:"Upload error",message:"Error uploading file"})})}},style:{display:"none"}})]})]}),wt&&t.jsx("div",{style:{fontSize:11,color:"#10b981"},children:"âœ“ Media loaded successfully"}),t.jsx("div",{style:{fontSize:11,color:"#9ca3af",marginTop:8},children:"Supports MP4, WebM, images, and GIFs"})]}),t.jsxs("div",{style:{marginBottom:16},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"EXIT TRANSITION EFFECT"}),t.jsxs("div",{tabIndex:0,onBlur:()=>Tt(!1),style:{position:"relative"},children:[t.jsxs("button",{onClick:()=>Tt(e=>!e),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderRadius:8,border:"2px solid #e5e7eb",background:"white",cursor:"pointer",fontSize:14,transition:"all 0.2s ease",borderColor:zt?"#0b74de":"#e5e7eb",backgroundColor:zt?"#f0f9ff":"white"},children:[t.jsxs("span",{style:{display:"flex",alignItems:"center",gap:8},children:["fade"===Ct&&"âœ¨ Fade","dissolve"===Ct&&"ðŸ’« Dissolve","blinds"===Ct&&"ðŸªŸ Blinds","wilt"===Ct&&"ðŸŒ¹ Wilt","random"===Ct&&"ðŸŽ² Random"]}),t.jsx(b,{size:16,style:{transition:"transform 0.2s ease",transform:zt?"rotate(180deg)":"rotate(0deg)"}})]}),zt&&t.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#fff",border:"1px solid #e5e7eb",borderRadius:8,marginTop:4,zIndex:10,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:["fade","dissolve","blinds","wilt","random"].map(e=>t.jsxs("button",{onClick:()=>{kt(e),Tt(!1)},style:{width:"100%",padding:"12px 16px",border:"none",background:Ct===e?"#f0f9ff":"transparent",cursor:"pointer",fontSize:14,textAlign:"left",color:Ct===e?"#0b74de":"#374151",fontWeight:Ct===e?600:400,borderLeft:Ct===e?"3px solid #0b74de":"3px solid transparent",transition:"all 0.2s ease"},children:["fade"===e&&"âœ¨ Fade - Simple opacity fade-out","dissolve"===e&&"ðŸ’« Dissolve - Fade with shrink","blinds"===e&&"ðŸªŸ Blinds - Collapse from top","wilt"===e&&"ðŸŒ¹ Wilt - Dramatic fold & rotate","random"===e&&"ðŸŽ² Random - Pick random effect"]},e))})]})]}),t.jsxs("div",{style:{marginBottom:16},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"BADGE TYPE"}),t.jsxs("div",{tabIndex:0,onBlur:()=>Nt(!1),style:{position:"relative"},children:[t.jsxs("button",{onClick:()=>Nt(e=>!e),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderRadius:8,border:"2px solid #e5e7eb",background:"white",cursor:"pointer",fontSize:14,transition:"all 0.2s ease",borderColor:Pt?"#0b74de":"#e5e7eb",backgroundColor:Pt?"#f0f9ff":"white"},children:[t.jsxs("span",{style:{display:"flex",alignItems:"center",gap:8},children:["ad"===Rt&&"ðŸ·ï¸ AD Tag","sponsoredBy"===Rt&&"ðŸŽ¯ Sponsored By","none"===Rt&&"âŒ None"]}),t.jsx(b,{size:16,style:{transition:"transform 0.2s ease",transform:Pt?"rotate(180deg)":"rotate(0deg)"}})]}),Pt&&t.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:4,background:"white",border:"2px solid #e5e7eb",borderRadius:8,zIndex:10,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[t.jsx("div",{onMouseDown:e=>{e.preventDefault(),It("ad"),Nt(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"ad"===Rt?"#dbeafe":"transparent",color:"ad"===Rt?"#0b74de":"#1f2937",borderLeft:"ad"===Rt?"3px solid #0b74de":"3px solid transparent",paddingLeft:"ad"===Rt?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="ad"===Rt?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="ad"===Rt?"#dbeafe":"transparent"},children:"ðŸ·ï¸ AD Tag (Default)"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),It("sponsoredBy"),Nt(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"sponsoredBy"===Rt?"#dbeafe":"transparent",color:"sponsoredBy"===Rt?"#0b74de":"#1f2937",borderLeft:"sponsoredBy"===Rt?"3px solid #0b74de":"3px solid transparent",paddingLeft:"sponsoredBy"===Rt?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="sponsoredBy"===Rt?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="sponsoredBy"===Rt?"#dbeafe":"transparent"},children:"ðŸŽ¯ Sponsored By + Logo"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),It("none"),Nt(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"none"===Rt?"#dbeafe":"transparent",color:"none"===Rt?"#0b74de":"#1f2937",borderLeft:"none"===Rt?"3px solid #0b74de":"3px solid transparent",paddingLeft:"none"===Rt?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="none"===Rt?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="none"===Rt?"#dbeafe":"transparent"},children:"âŒ None"})]})]})]}),t.jsxs("div",{style:{marginBottom:16},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"BADGE POSITION"}),t.jsxs("div",{tabIndex:0,onBlur:()=>Ot(!1),style:{position:"relative"},children:[t.jsxs("button",{onClick:()=>Ot(e=>!e),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderRadius:8,border:"2px solid #e5e7eb",background:"white",cursor:"pointer",fontSize:14,transition:"all 0.2s ease",borderColor:Dt?"#0b74de":"#e5e7eb",backgroundColor:Dt?"#f0f9ff":"white"},children:[t.jsxs("span",{style:{display:"flex",alignItems:"center",gap:6,fontSize:13},children:["top-left-player"===Et&&"â†–ï¸ Top Left (Player)","top-right-player"===Et&&"â†—ï¸ Top Right (Player)","top-left-video"===Et&&"â†–ï¸ Top Left (Video)","top-right-video"===Et&&"â†—ï¸ Top Right (Video)","bottom-left-video"===Et&&"â†™ï¸ Bottom Left (Video)","bottom-right-video"===Et&&"â†˜ï¸ Bottom Right (Video)"]}),t.jsx(b,{size:16,style:{transition:"transform 0.2s ease",transform:Dt?"rotate(180deg)":"rotate(0deg)"}})]}),Dt&&t.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:4,background:"white",border:"2px solid #e5e7eb",borderRadius:8,zIndex:10,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[t.jsx("div",{onMouseDown:e=>{e.preventDefault(),Lt("top-left-player"),Ot(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"top-left-player"===Et?"#dbeafe":"transparent",color:"top-left-player"===Et?"#0b74de":"#1f2937",borderLeft:"top-left-player"===Et?"3px solid #0b74de":"3px solid transparent",paddingLeft:"top-left-player"===Et?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="top-left-player"===Et?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="top-left-player"===Et?"#dbeafe":"transparent"},children:"â†–ï¸ Top Left of Player"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),Lt("top-right-player"),Ot(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"top-right-player"===Et?"#dbeafe":"transparent",color:"top-right-player"===Et?"#0b74de":"#1f2937",borderLeft:"top-right-player"===Et?"3px solid #0b74de":"3px solid transparent",paddingLeft:"top-right-player"===Et?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="top-right-player"===Et?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="top-right-player"===Et?"#dbeafe":"transparent"},children:"â†—ï¸ Top Right of Player"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),Lt("top-left-video"),Ot(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"top-left-video"===Et?"#dbeafe":"transparent",color:"top-left-video"===Et?"#0b74de":"#1f2937",borderLeft:"top-left-video"===Et?"3px solid #0b74de":"3px solid transparent",paddingLeft:"top-left-video"===Et?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="top-left-video"===Et?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="top-left-video"===Et?"#dbeafe":"transparent"},children:"â†–ï¸ Top Left of Video"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),Lt("top-right-video"),Ot(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"top-right-video"===Et?"#dbeafe":"transparent",color:"top-right-video"===Et?"#0b74de":"#1f2937",borderLeft:"top-right-video"===Et?"3px solid #0b74de":"3px solid transparent",paddingLeft:"top-right-video"===Et?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="top-right-video"===Et?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="top-right-video"===Et?"#dbeafe":"transparent"},children:"â†—ï¸ Top Right of Video"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),Lt("bottom-left-video"),Ot(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"bottom-left-video"===Et?"#dbeafe":"transparent",color:"bottom-left-video"===Et?"#0b74de":"#1f2937",borderLeft:"bottom-left-video"===Et?"3px solid #0b74de":"3px solid transparent",paddingLeft:"bottom-left-video"===Et?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="bottom-left-video"===Et?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="bottom-left-video"===Et?"#dbeafe":"transparent"},children:"â†™ï¸ Bottom Left of Video"}),t.jsx("div",{onMouseDown:e=>{e.preventDefault(),Lt("bottom-right-video"),Ot(!1)},style:{padding:"12px 16px",cursor:"pointer",fontSize:13,fontWeight:"500",transition:"all 0.15s ease",backgroundColor:"bottom-right-video"===Et?"#dbeafe":"transparent",color:"bottom-right-video"===Et?"#0b74de":"#1f2937",borderLeft:"bottom-right-video"===Et?"3px solid #0b74de":"3px solid transparent",paddingLeft:"bottom-right-video"===Et?"13px":"16px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="bottom-right-video"===Et?"#dbeafe":"#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="bottom-right-video"===Et?"#dbeafe":"transparent"},children:"â†˜ï¸ Bottom Right of Video"})]})]})]}),t.jsxs("div",{style:{marginBottom:16},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"BADGE COLOR"}),t.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[t.jsx("div",{style:{position:"relative"},children:t.jsx("input",{type:"color",value:Wt,onChange:e=>Bt(e.target.value),style:{width:50,height:40,borderRadius:8,border:"none",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",transition:"all 0.2s ease"}})}),t.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:6},children:[t.jsx("input",{type:"text",value:Wt,onChange:e=>Bt(e.target.value),placeholder:"#ff0000",style:{padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13,fontFamily:"monospace",transition:"all 0.2s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"}}),t.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ff6600","#ff0066"].map(e=>t.jsx("button",{onClick:()=>Bt(e),style:{width:28,height:28,borderRadius:6,backgroundColor:e,border:Wt===e?"3px solid #1f2937":"2px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},title:e},e))})]})]})]}),"sponsoredBy"===Rt&&t.jsxs("div",{style:{marginBottom:16},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"SPONSOR LOGO URL"}),t.jsx("input",{value:Mt,onChange:e=>At(e.target.value),placeholder:"e.g., https://example.com/logo.png",style:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}}),t.jsx("div",{style:{fontSize:11,color:"#9ca3af",marginTop:6},children:'Logo will be displayed next to "Sponsored by" text'})]}),t.jsxs("div",{style:{marginBottom:16},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"TEXT BUTTON (Optional)"}),t.jsx("input",{value:Ft,onChange:e=>$t(e.target.value),placeholder:"e.g., Learn More",style:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),Ft&&t.jsxs("div",{style:{marginBottom:16},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"BUTTON COLOR"}),t.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[t.jsx("div",{style:{position:"relative"},children:t.jsx("input",{type:"color",value:Ut,onChange:e=>Yt(e.target.value),style:{width:50,height:40,borderRadius:8,border:"none",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",transition:"all 0.2s ease"}})}),t.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:6},children:[t.jsx("input",{type:"text",value:Ut,onChange:e=>Yt(e.target.value),placeholder:"#4B9EFF",style:{padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13,fontFamily:"monospace",transition:"all 0.2s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"}}),t.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:["#3b82f6","#06b6d4","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#6366f1"].map(e=>t.jsx("button",{onClick:()=>Yt(e),style:{width:28,height:28,borderRadius:6,backgroundColor:e,border:Ut===e?"3px solid #1f2937":"2px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},title:e},e))})]})]})]}),("text"===qt&&Ft||"text"!==qt&&Vt)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:16},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"CTA DELAY (seconds)"}),t.jsx("input",{type:"number",min:"0",max:"30",value:Gt,onChange:e=>Xt(Math.max(0,parseInt(e.target.value)||0)),style:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}}),t.jsx("div",{style:{fontSize:11,color:"#9ca3af",marginTop:4},children:"How many seconds before CTA appears"})]}),t.jsxs("div",{style:{marginBottom:16},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600,display:"block",marginBottom:6},children:"CTA DURATION (seconds)"}),t.jsx("input",{type:"number",min:"1",max:"30",value:_t,onChange:e=>Kt(Math.max(1,parseInt(e.target.value)||3)),style:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}}),t.jsx("div",{style:{fontSize:11,color:"#9ca3af",marginTop:4},children:"How many seconds the CTA is visible"})]})]})]}),t.jsxs("div",{style:{marginBottom:16},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[t.jsx("label",{style:{fontSize:11,color:"#6b7280",fontWeight:600},children:"TICKER MESSAGES"}),t.jsx("button",{onClick:()=>rt([...ot,{id:Date.now(),text:"",duration:5}]),style:{padding:"6px 10px",borderRadius:6,background:"#10b981",color:"white",border:"none",cursor:"pointer",fontSize:11,fontWeight:600},children:"+ Add Message"})]}),0===ot.length?t.jsx("div",{style:{padding:10,background:"#f9fafb",borderRadius:8,color:"#9ca3af",fontSize:12},children:'No messages yet. Click "Add Message" to get started.'}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:ot.map((e,o)=>t.jsxs("div",{style:{padding:10,background:"#f9fafb",borderRadius:8,display:"grid",gridTemplateColumns:"1fr 70px 60px",gap:8,alignItems:"center"},children:[t.jsx("input",{value:e.text,onChange:e=>rt(ot.map((t,r)=>r===o?{...t,text:e.target.value}:t)),placeholder:"Message...",style:{padding:"6px 8px",borderRadius:6,border:"1px solid #e5e7eb",fontSize:12,minWidth:0}}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[t.jsx("input",{type:"number",min:"1",max:"30",value:e.duration,onChange:e=>rt(ot.map((t,r)=>r===o?{...t,duration:Number(e.target.value)}:t)),style:{width:"100%",padding:"5px",borderRadius:6,border:"1px solid #e5e7eb",fontSize:11}}),t.jsx("span",{style:{fontSize:10,color:"#9ca3af",whiteSpace:"nowrap"},children:"s"})]}),t.jsx("button",{onClick:()=>rt(ot.filter((e,t)=>t!==o)),style:{padding:"5px 8px",borderRadius:6,background:"#ef4444",color:"white",border:"none",cursor:"pointer",fontSize:11,fontWeight:600},children:"Remove"})]},e.id))})]}),t.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"flex-end",flexWrap:"wrap",marginTop:16},children:[t.jsx("button",{onClick:()=>{ke(null)},style:{padding:"9px 16px",borderRadius:8,border:"1px solid #e5e7eb",background:"white",cursor:"pointer",fontWeight:500,fontSize:13},children:"Close"}),t.jsx("button",{onClick:()=>{!_e||"videoPlayer"!==bt&&0===ot.length&&!Qe||"videoPlayer"===bt&&!wt?je({type:"error",title:"Missing fields",message:"Please provide company name"+("videoPlayer"===bt?" and video/image/GIF":" and at least one message")+"."}):(po(""),xo(!0))},style:{padding:"9px 16px",borderRadius:8,background:"#8b5cf6",color:"white",border:"none",cursor:"pointer",fontWeight:500,fontSize:13},children:"Save Template"}),t.jsx("button",{onClick:()=>{!_e||"videoPlayer"!==bt&&0===ot.length&&!Qe||"videoPlayer"===bt&&!wt?je({type:"error",title:"Missing fields",message:"Please provide company name"+("videoPlayer"===bt?" and video/image/GIF":" and at least one message")+"."}):to(!0)},style:{padding:"9px 16px",borderRadius:8,background:"#111827",color:"white",border:"none",cursor:"pointer",fontWeight:500,fontSize:13},children:"Preview"}),t.jsxs("button",{onClick:()=>bo(!0),style:{padding:"9px 16px",borderRadius:8,background:"#2563eb",color:"white",border:"none",cursor:"pointer",fontWeight:600,fontSize:13},children:["Templates (",so.length,")"]}),t.jsx("button",{onClick:()=>{!_e||"videoPlayer"!==bt&&0===ot.length&&!Qe||"videoPlayer"===bt&&!wt?je({type:"error",title:"Missing fields",message:"Please provide company name"+("videoPlayer"===bt?" and video/image/GIF":" and at least one message")+"."}):fo(!0)},style:{padding:"9px 16px",borderRadius:8,background:"#0b74de",color:"white",border:"none",cursor:"pointer",fontWeight:600,fontSize:13},children:"Apply"})]})]}),co&&t.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",zIndex:1500,display:"flex",alignItems:"center",justifyContent:"center",padding:20},onClick:()=>xo(!1),children:t.jsxs("div",{onClick:e=>e.stopPropagation(),style:{width:"100%",maxWidth:400,background:"white",borderRadius:12,padding:24,boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[t.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:20,fontWeight:700,color:"#1f2937"},children:"Save Overlay Template"}),t.jsx("p",{style:{margin:"0 0 20px 0",fontSize:13,color:"#6b7280"},children:"Give your overlay template a name to save it for later use."}),t.jsx("input",{value:lo,onChange:e=>po(e.target.value),onKeyPress:e=>{if("Enter"===e.key&&lo.trim()){const e={id:Date.now(),name:lo.trim(),companyName:_e,text:Qe,textItems:ot,emoji:et,bgColor:nt,textColor:st,brandBgColor:lt,brandTextColor:pt,opacity:xt,tagOpacity:ft,position:bt,animation:Qt,videoUrl:wt,videoText:Qe,btnText:yt,badgeType:Rt,badgeColor:Wt,badgeLogo:Mt,badgePosition:Et},t=[...so,e];ao(t),localStorage.setItem("overlayTemplates",JSON.stringify(t)),je({type:"success",title:"Saved",message:`Template "${lo}" saved successfully.`}),xo(!1),po("")}},placeholder:"E.g., Flash Sale, New Product...",autoFocus:!0,style:{width:"100%",padding:"12px",borderRadius:8,border:"2px solid #e5e7eb",fontSize:14,marginBottom:20,boxSizing:"border-box"}}),t.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[t.jsx("button",{onClick:()=>xo(!1),style:{padding:"10px 16px",borderRadius:8,border:"1px solid #e5e7eb",background:"white",cursor:"pointer",fontWeight:600,fontSize:13},children:"Cancel"}),t.jsx("button",{onClick:()=>{if(!lo.trim())return void je({type:"error",title:"Name required",message:"Please enter a template name."});const e={id:Date.now(),name:lo.trim(),companyName:_e,text:Qe,textItems:ot,emoji:et,bgColor:nt,textColor:st,brandBgColor:lt,brandTextColor:pt,opacity:xt,tagOpacity:ft,position:bt,animation:Qt,videoUrl:wt,videoText:Qe,btnText:yt,badgeType:Rt,badgeColor:Wt,badgeLogo:Mt,badgePosition:Et},t=[...so,e];ao(t),localStorage.setItem("overlayTemplates",JSON.stringify(t)),je({type:"success",title:"Saved",message:`Template "${lo}" saved successfully.`}),xo(!1),po("")},disabled:!lo.trim(),style:{padding:"10px 16px",borderRadius:8,background:lo.trim()?"#8b5cf6":"#d1d5db",color:"white",border:"none",cursor:lo.trim()?"pointer":"not-allowed",fontWeight:600,fontSize:13},children:"Save"})]})]})}),uo&&t.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",zIndex:1500,display:"flex",alignItems:"center",justifyContent:"center",padding:20},onClick:()=>bo(!1),children:t.jsxs("div",{onClick:e=>e.stopPropagation(),style:{width:"100%",maxWidth:720,maxHeight:"88vh",overflowY:"auto",background:"white",borderRadius:16,padding:0,boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[t.jsx("div",{style:{padding:"28px 32px",borderBottom:"1px solid #e5e7eb",background:"linear-gradient(135deg, #f3f4f6 0%, #ffffff 100%)"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:22,fontWeight:700,color:"#111827"},children:"Saved Overlay Templates"}),t.jsx("p",{style:{margin:0,fontSize:13,color:"#6b7280"},children:"Manage your news ticker templates"})]}),t.jsx("button",{onClick:()=>bo(!1),style:{padding:"8px 12px",background:"#ef4444",color:"white",border:"none",borderRadius:8,cursor:"pointer",fontSize:13,fontWeight:600},children:"Close"})]})}),t.jsx("div",{style:{padding:"24px 32px"},children:0===so.length?t.jsxs("div",{style:{padding:"48px 24px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:56,marginBottom:12},children:"ðŸ“º"}),t.jsx("div",{style:{fontSize:16,fontWeight:600,color:"#111827",marginBottom:6},children:"No templates yet"}),t.jsx("div",{style:{fontSize:13,color:"#6b7280"},children:"Create your first template to get started"})]}):t.jsx("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1fr)",gap:16},children:so.map(e=>t.jsx("div",{className:"template-card",style:{padding:"20px",borderRadius:12,border:"1px solid #e5e7eb",background:"#ffffff",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:t.jsxs("div",{className:"template-card-content",style:{display:"flex",alignItems:"stretch",gap:16,justifyContent:"space-between"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontWeight:700,fontSize:15,color:"#111827",marginBottom:10},children:e.name}),t.jsxs("div",{style:{display:"flex",gap:12,fontSize:13,color:"#6b7280",marginBottom:10,flexWrap:"wrap"},children:[t.jsxs("span",{children:["ðŸ“¢ ",t.jsx("strong",{children:e.companyName})]}),t.jsxs("span",{children:["âœ¨ ",e.animation]}),t.jsxs("span",{children:["ðŸ’¬ ",e.textItems?.length||0," msg",1!==(e.textItems?.length||0)?"s":""]})]}),t.jsx("div",{style:{padding:"12px 14px",background:e.bgColor,borderRadius:8,overflow:"hidden"},children:t.jsxs("div",{style:{color:e.textColor,fontSize:12,fontWeight:600,opacity:.8},children:[e.emoji," ",e.companyName]})})]}),t.jsxs("div",{className:"template-actions",style:{display:"flex",flexDirection:"column",gap:8,justifyContent:"center",flexShrink:0},children:[t.jsx("button",{onClick:()=>{Ke(e.companyName||""),Ze(e.text||""),rt(e.textItems||[]),tt(e.emoji||"âš¡"),it(e.bgColor||"#E41E24"),at(e.textColor||"#fff"),dt(e.brandBgColor||"#ffffff"),ct(e.brandTextColor||"#000000"),gt(null!=e.opacity?e.opacity:1),ut(null!=e.tagOpacity?e.tagOpacity:1),ht(e.position||"bottom"),Zt(e.animation||"marquee"),St(e.videoUrl||""),kt(e.overlayExitTransition||"fade"),mt(e.btnText||"Learn More"),It(e.badgeType||"ad"),Bt(e.badgeColor||"#ff0000"),At(e.badgeLogo||""),Lt(e.badgePosition||"top-left-video"),bo(!1),ke("overlay"),je({type:"success",title:"Loaded",message:`Template "${e.name}" loaded.`})},style:{padding:"10px 16px",borderRadius:8,background:"#10b981",color:"white",border:"none",cursor:"pointer",fontSize:13,fontWeight:600,whiteSpace:"nowrap"},children:"âœ“ Apply"}),t.jsx("button",{onClick:()=>{const t=so.filter(t=>t.id!==e.id);ao(t),localStorage.setItem("overlayTemplates",JSON.stringify(t)),je({type:"success",title:"Deleted",message:`Template "${e.name}" deleted.`})},style:{padding:"10px 16px",borderRadius:8,background:"#ef4444",color:"white",border:"none",cursor:"pointer",fontSize:13,fontWeight:600,whiteSpace:"nowrap"},children:"ðŸ—‘ Delete"})]})]})},e.id))})})]})}),ns&&t.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",zIndex:1500,display:"flex",alignItems:"center",justifyContent:"center",padding:20},onClick:()=>is(!1),children:t.jsxs("div",{onClick:e=>e.stopPropagation(),style:{width:"100%",maxWidth:600,maxHeight:"90vh",overflowY:"auto",background:"white",borderRadius:12,padding:24},children:[t.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:20,fontWeight:700},children:"Apply Bottom Ad to Videos"}),t.jsxs("div",{style:{marginBottom:20},children:[t.jsx("label",{style:{display:"block",fontSize:13,fontWeight:600,color:"#374151",marginBottom:8},children:"Search Videos"}),t.jsx("input",{value:ss,onChange:e=>as(e.target.value),placeholder:"Search by title or author...",style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12,marginBottom:20},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:13,fontWeight:600,color:"#374151",marginBottom:6},children:"Start Time (seconds)"}),t.jsx("input",{type:"number",min:0,value:ls,onChange:e=>ds(Math.max(0,Number(e.target.value))),style:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:13,fontWeight:600,color:"#374151",marginBottom:6},children:"Duration (seconds)"}),t.jsx("input",{type:"number",min:1,value:ps,onChange:e=>cs(Math.max(1,Number(e.target.value))),style:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:13,fontWeight:600,color:"#374151",marginBottom:6},children:"Max Display Count"}),t.jsx("input",{type:"number",min:1,value:xs,onChange:e=>gs(Math.max(1,Number(e.target.value))),style:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]})]}),t.jsxs("div",{style:{marginBottom:20},children:[t.jsx("label",{style:{display:"block",fontSize:13,fontWeight:600,color:"#374151",marginBottom:10},children:"Select Videos (showing ad count)"}),t.jsx("div",{style:{maxHeight:300,overflowY:"auto",border:"1px solid #e5e7eb",borderRadius:8,padding:8},children:0===pe.filter(e=>!ss||e.title.toLowerCase().includes(ss.toLowerCase())||e.author&&e.author.toLowerCase().includes(ss.toLowerCase())).length?t.jsx("div",{style:{padding:16,textAlign:"center",color:"#9ca3af"},children:"No videos found"}):pe.filter(e=>!ss||e.title.toLowerCase().includes(ss.toLowerCase())||e.author&&e.author.toLowerCase().includes(ss.toLowerCase())).map(e=>{const o=(e.ads?.bottom?.length||0)+(e.ads?.overlays?.length||0);return t.jsx("div",{style:{padding:10,borderRadius:6,marginBottom:6,background:fs.includes(e.id)?"#dbeafe":"#f9fafb",border:"2px solid "+(fs.includes(e.id)?"#0b74de":"transparent"),cursor:"pointer",transition:"all 0.2s ease"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,justifyContent:"space-between"},onClick:()=>us(fs.includes(e.id)?fs.filter(t=>t!==e.id):[...fs,e.id]),children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,flex:1},children:[t.jsx("input",{type:"checkbox",checked:fs.includes(e.id),readOnly:!0,style:{cursor:"pointer"}}),t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontWeight:600,fontSize:13,color:"#1f2937"},children:e.title}),t.jsxs("div",{style:{fontSize:12,color:"#9ca3af"},children:["by ",e.author||"Unknown"]})]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[o>0&&t.jsxs("span",{style:{padding:"4px 8px",background:"#fef08a",color:"#854d0e",fontSize:12,fontWeight:600,borderRadius:4},children:[o," ad",1!==o?"s":""]}),o>0&&t.jsx("button",{onClick:t=>{t.stopPropagation(),Po(e)},style:{padding:"4px 8px",background:"#ef4444",color:"white",border:"none",borderRadius:4,cursor:"pointer",fontSize:11,fontWeight:600},children:"Remove"})]})]})},e.id)})})]}),t.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[t.jsx("button",{onClick:()=>is(!1),style:{padding:"10px 16px",borderRadius:8,border:"1px solid #e5e7eb",background:"white",cursor:"pointer",fontWeight:600,fontSize:13},children:"Cancel"}),t.jsx("button",{onClick:async()=>{if(0===fs.length)return void je({type:"error",title:"No videos selected",message:"Please select at least one video."});if(!ze||!We&&0===Me.length)return void je({type:"error",title:"Missing fields",message:"Please provide profile name and ad text."});const t=ls,o=ls+ps;let r=[];for(const e of fs){const n=pe.find(t=>t.id===e);if(n&&n.ads?.bottom)for(const e of n.ads.bottom){const i=e.startTime||0,s=i+(e.duration||0);o<=i||t>=s||r.push({videoTitle:n.title,newAdTime:`${t}s-${o}s`,existingAdTime:`${i}s-${s}s`})}}if(r.length>0){const e=r.map(e=>`"${e.videoTitle}": New (${e.newAdTime}) overlaps with existing (${e.existingAdTime})`).join("\n");je({type:"warning",title:"Timing Overlap Detected",message:`These ads will stack horizontally as preview:\n${e}\n\nThis is intentional - the preview feature allows multiple ads in the same timeframe.`})}try{(await L(`${E()}/staff/apply-bottom-ad`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id,videoIds:fs,ad:{profileName:ze,profileAvatar:Re,text:We,textItems:Me,textInterval:Ee,textAnimation:Pe,cardAnimation:De,cardEffect:Fe,cardExitAnimation:Ue,borderColor:qe,link:Ve,startTime:ls,duration:ps,displayCount:xs,assets:U}})})).ok?(je({type:"success",title:"Applied",message:`Bottom ad applied to ${fs.length} video(s).`}),e&&hs(e)):je({type:"error",title:"Apply failed",message:"Unable to apply bottom ad."})}catch(n){console.error("Bottom ad apply failed:",n),je({type:"error",title:"Error",message:"Error applying bottom ad."})}},style:{padding:"10px 16px",borderRadius:8,background:"#10b981",color:"white",border:"none",cursor:"pointer",fontWeight:600,fontSize:13},children:"Apply to Videos"})]})]})}),go&&t.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",zIndex:1500,display:"flex",alignItems:"center",justifyContent:"center",padding:20},onClick:()=>fo(!1),children:t.jsxs("div",{onClick:e=>e.stopPropagation(),style:{width:"100%",maxWidth:600,maxHeight:"90vh",overflowY:"auto",background:"white",borderRadius:12,padding:24},children:[t.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:20,fontWeight:700},children:"Apply Overlay to Videos"}),t.jsxs("div",{style:{marginBottom:20},children:[t.jsx("label",{style:{display:"block",fontSize:13,fontWeight:600,color:"#374151",marginBottom:8},children:"Search Videos"}),t.jsx("input",{value:ho,onChange:e=>yo(e.target.value),placeholder:"Search by title or author...",style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:20},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:13,fontWeight:600,color:"#374151",marginBottom:6},children:"Start Time (seconds)"}),t.jsx("input",{type:"number",min:0,value:mo,onChange:e=>vo(Math.max(0,Number(e.target.value))),style:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:13,fontWeight:600,color:"#374151",marginBottom:6},children:"Duration (seconds)"}),t.jsx("input",{type:"number",min:1,value:jo,onChange:e=>wo(Math.max(1,Number(e.target.value))),style:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]})]}),t.jsxs("div",{style:{marginBottom:20},children:[t.jsx("label",{style:{display:"block",fontSize:13,fontWeight:600,color:"#374151",marginBottom:10},children:"Select Videos (showing total ad count - all positions)"}),t.jsx("div",{style:{maxHeight:300,overflowY:"auto",border:"1px solid #e5e7eb",borderRadius:8,padding:8},children:0===pe.filter(e=>!ho||e.title.toLowerCase().includes(ho.toLowerCase())||e.author&&e.author.toLowerCase().includes(ho.toLowerCase())).length?t.jsx("div",{style:{padding:16,textAlign:"center",color:"#9ca3af"},children:"No videos found"}):pe.filter(e=>!ho||e.title.toLowerCase().includes(ho.toLowerCase())||e.author&&e.author.toLowerCase().includes(ho.toLowerCase())).map(e=>{const o=(e.ads?.bottom?.length||0)+(e.ads?.overlays?.length||0);return t.jsx("div",{style:{padding:10,borderRadius:6,marginBottom:6,background:So.includes(e.id)?"#dbeafe":"#f9fafb",border:"2px solid "+(So.includes(e.id)?"#0b74de":"transparent"),cursor:"pointer",transition:"all 0.2s ease"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,justifyContent:"space-between"},onClick:()=>Co(So.includes(e.id)?So.filter(t=>t!==e.id):[...So,e.id]),children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,flex:1},children:[t.jsx("input",{type:"checkbox",checked:So.includes(e.id),readOnly:!0,style:{cursor:"pointer"}}),t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontWeight:600,fontSize:13,color:"#1f2937"},children:e.title}),t.jsxs("div",{style:{fontSize:12,color:"#9ca3af"},children:["by ",e.author||"Unknown"]})]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[o>0&&t.jsxs("span",{style:{padding:"4px 8px",background:"#fef08a",color:"#854d0e",fontSize:12,fontWeight:600,borderRadius:4},children:[o," ad",1!==o?"s":""]}),o>0&&t.jsx("button",{onClick:t=>{t.stopPropagation(),Po(e)},style:{padding:"4px 8px",background:"#ef4444",color:"white",border:"none",borderRadius:4,cursor:"pointer",fontSize:11,fontWeight:600},children:"Remove"})]})]})},e.id)})})]}),t.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[t.jsx("button",{onClick:()=>fo(!1),style:{padding:"10px 16px",borderRadius:8,border:"1px solid #e5e7eb",background:"white",cursor:"pointer",fontWeight:600,fontSize:13},children:"Cancel"}),t.jsx("button",{onClick:async()=>{if(0!==So.length)if(!_e||"videoPlayer"!==bt&&0===ot.length&&!Qe||"videoPlayer"===bt&&!wt)je({type:"error",title:"Missing fields",message:"Please provide company name"+("videoPlayer"===bt?" and video/image/GIF":" and at least one message")+"."});else try{const t=await L(`${E()}/staff/apply-overlay-ad`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id,videoIds:So,ad:{overlayAdCompanyName:_e,overlayAdText:Qe,overlayAdTextItems:ot,overlayAdEmoji:et,overlayAdBgColor:nt,overlayAdTextColor:st,overlayBrandBgColor:lt,overlayBrandTextColor:pt,overlayAdOpacity:xt,overlayTagOpacity:ft,overlayAdPosition:bt,overlayBtnText:yt,overlayProfileUrl:vt,overlayVideoUrl:wt,overlayExitTransition:Ct,overlayBadgeType:Rt,overlayBadgeColor:Wt,overlayBadgeLogo:Mt,overlayBadgePosition:Et,overlayCtaText:Ft,overlayCtaColor:Ut,overlayCtaType:qt,overlayCtaMedia:Vt,overlayCtaDelay:Gt,overlayCtaDuration:_t,overlayTextAnimation:Qt,startTime:mo,duration:jo}})});if(t.ok){const o=await t.json().catch(()=>({}));je({type:"success",title:"Applied",message:`Overlay applied to ${So.length} video(s).`}),o.videos&&Array.isArray(o.videos)&&ce(e=>e.map(e=>{const t=o.videos.find(t=>t.id===e.id);return t?{...e,ads:t.ads}:e})),e&&hs(e)}else{const e=await t.json().catch(()=>({}));je({type:"error",title:"Apply failed",message:e.error||"Unable to apply overlay ad."})}}catch(t){console.error("Overlay apply failed:",t),je({type:"error",title:"Error",message:t.message||"Error applying overlay ad."})}else je({type:"error",title:"No videos selected",message:"Please select at least one video."})},style:{padding:"10px 16px",borderRadius:8,background:"#10b981",color:"white",border:"none",cursor:"pointer",fontWeight:600,fontSize:13},children:"Apply to Videos"})]})]})}),Ge&&t.jsxs("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.95)",zIndex:1400,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},onClick:()=>Xe(!1),children:[t.jsx("style",{children:"\n                    @keyframes fadeInOut {\n                      0%, 100% { opacity: 0; }\n                      10% { opacity: 1; }\n                      90% { opacity: 1; }\n                    }\n                    @keyframes slideLeftIn {\n                      from { transform: translateX(20px); opacity: 0; }\n                      to { transform: translateX(0); opacity: 1; }\n                    }\n                    @keyframes slideRightIn {\n                      from { transform: translateX(-20px); opacity: 0; }\n                      to { transform: translateX(0); opacity: 1; }\n                    }\n                    @keyframes bounceIn {\n                      0% { transform: scale(0.8); opacity: 0; }\n                      50% { transform: scale(1.05); }\n                      100% { transform: scale(1); opacity: 1; }\n                    }\n                    @keyframes scaleIn {\n                      from { transform: scale(0.95); opacity: 0; }\n                      to { transform: scale(1); opacity: 1; }\n                    }\n                    @keyframes lineAppear {\n                      from { width: 0; }\n                      to { width: 3px; }\n                    }\n                    @keyframes slideDown {\n                      from { transform: translateY(-20px); opacity: 0; }\n                      to { transform: translateY(0); opacity: 1; }\n                    }\n                    @keyframes bounceInCard {\n                      0% { transform: scale(0.8) translateY(-20px); opacity: 0; }\n                      50% { transform: scale(1.02); }\n                      100% { transform: scale(1) translateY(0); opacity: 1; }\n                    }\n                    @keyframes scaleUpCard {\n                      from { transform: scale(0.9); opacity: 0; }\n                      to { transform: scale(1); opacity: 1; }\n                    }\n                    @keyframes pulse {\n                      0%, 100% { transform: scale(1); opacity: 1; }\n                      50% { transform: scale(1.02); opacity: 0.95; }\n                    }\n                    @keyframes shake {\n                      0%, 100% { transform: translateX(0); }\n                      10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }\n                      20%, 40%, 60%, 80% { transform: translateX(2px); }\n                    }\n                    @keyframes glow {\n                      0%, 100% { box-shadow: 0 0 5px rgba(139, 92, 246, 0.5), 0 4px 12px rgba(17, 24, 39, 0.3); }\n                      50% { box-shadow: 0 0 15px rgba(139, 92, 246, 0.8), 0 4px 12px rgba(17, 24, 39, 0.3); }\n                    }\n                    @keyframes float {\n                      0%, 100% { transform: translateY(0px); }\n                      50% { transform: translateY(-4px); }\n                    }\n                    @keyframes rotate {\n                      0% { transform: rotate(0deg) scale(1); }\n                      50% { transform: rotate(1deg) scale(1.01); }\n                      100% { transform: rotate(0deg) scale(1); }\n                    }\n                  "}),t.jsxs("div",{onClick:e=>e.stopPropagation(),style:{width:"100%",height:"100%",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[t.jsx("button",{onClick:()=>Xe(!1),style:{position:"fixed",top:"calc(env(safe-area-inset-top, 20px) + 14px)",right:14,zIndex:1420,background:"rgba(255,255,255,0.04)",border:"none",color:"white",padding:"6px 8px",borderRadius:8,cursor:"pointer",fontSize:14,opacity:.95},children:"âœ•"}),ko&&!To&&t.jsxs("div",{style:{position:"absolute",top:"env(safe-area-inset-top, 20px)",left:0,right:0,height:32,background:"transparent",display:"flex",alignItems:"center",gap:8,padding:"0 14px",color:"#cbd5e1",fontSize:12,opacity:.9,zIndex:10},children:[t.jsx("div",{style:{width:10,height:10,borderRadius:6,background:"#ef4444"}}),t.jsx("div",{style:{width:10,height:10,borderRadius:6,background:"#f59e0b"}}),t.jsx("div",{style:{width:10,height:10,borderRadius:6,background:"#10b981"}}),t.jsx("div",{style:{marginLeft:8,fontWeight:700},children:"Video Preview"}),t.jsx("div",{style:{flex:1}}),t.jsx("div",{style:{opacity:.75,fontSize:11},children:"360x640"})]}),t.jsxs("div",{style:{position:"absolute",top:ko&&!To?"calc(env(safe-area-inset-top, 20px) + 32px)":"env(safe-area-inset-top, 20px)",bottom:"env(safe-area-inset-bottom, 20px)",left:0,right:0,background:"#000",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:[(()=>{const e=U.find(e=>"video"===e.type)?.url||"",o=To?{width:"100vw",height:"100vh",background:"#000",borderRadius:0,overflow:"hidden",boxShadow:"none"}:{width:"100%",maxWidth:"100%",aspectRatio:"16/9",background:"#000",borderRadius:12,overflow:"hidden",boxShadow:"0 8px 30px rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center"},r=encodeURIComponent("\n                          <svg xmlns='http://www.w3.org/2000/svg' width='1600' height='900'>\n                            <rect width='100%' height='100%' fill='#111827' />\n                            <g fill='#9ca3af' font-family='Arial, Helvetica, sans-serif' font-size='40' text-anchor='middle'>\n                              <text x='50%' y='48%'>No video uploaded</text>\n                              <text x='50%' y='62%' font-size='28'>Placeholder 16:9</text>\n                            </g>\n                          </svg>\n                        ");return t.jsxs("div",{style:o,children:[e?t.jsx("video",{id:"bottom-ad-preview-video",src:e,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"contain",background:"#000",display:"block"},onError:()=>{}}):t.jsx("img",{alt:"placeholder",src:`data:image/svg+xml;utf8,${r}`,style:{width:"100%",height:"100%",objectFit:"cover",display:"block"}}),"cornerButton"===bt&&t.jsx("button",{style:{position:"absolute",bottom:20,right:16,padding:"10px 16px",background:"linear-gradient(135deg, #ff0080 0%, #ff8c00 100%)",color:"#ffffff",border:"2px solid #ff0080",borderRadius:8,fontSize:13,fontWeight:700,cursor:"pointer",boxShadow:"0 4px 12px rgba(255, 0, 128, 0.4)",transition:"all 0.2s ease",whiteSpace:"nowrap",zIndex:100},onMouseEnter:e=>{e.currentTarget.style.boxShadow="0 6px 16px rgba(255, 0, 128, 0.6)",e.currentTarget.style.transform="scale(1.05)"},onMouseLeave:e=>{e.currentTarget.style.boxShadow="0 4px 12px rgba(255, 0, 128, 0.4)",e.currentTarget.style.transform="scale(1)"},children:"Visit Link"}),"cornerButton"!==bt&&t.jsx(D,{profileName:ze,profileAvatar:Re,textItems:Me,textInterval:Ee,textAnimation:Pe,cardAnimation:De,cardEffect:Fe,link:Ve})]})})(),t.jsxs("div",{style:{position:"fixed",top:"calc(env(safe-area-inset-top, 20px) + 14px)",right:56,zIndex:1425,display:"flex",gap:8},children:[t.jsx("button",{onClick:e=>{e.stopPropagation(),zo(e=>!e)},style:{background:"rgba(255,255,255,0.06)",border:"none",color:"#e6eef8",padding:"6px 8px",borderRadius:8,cursor:"pointer",fontSize:12},children:ko?"Hide Header":"Show Header"}),t.jsx("button",{onClick:e=>{e.stopPropagation(),Br()},style:{background:"#0b74de",border:"none",color:"#fff",padding:"6px 8px",borderRadius:8,cursor:"pointer",fontSize:12},children:"Save Template"}),t.jsx("button",{onClick:e=>{e.stopPropagation(),Ro(e=>!e)},style:{background:"rgba(255,255,255,0.06)",border:"none",color:"#e6eef8",padding:"6px 8px",borderRadius:8,cursor:"pointer",fontSize:12},children:To?"Portrait":"Landscape"})]})]})]})]}),hr&&t.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",zIndex:1500,display:"flex",alignItems:"center",justifyContent:"center",padding:20},onClick:()=>yr(!1),children:t.jsxs("div",{onClick:e=>e.stopPropagation(),style:{width:"100%",maxWidth:400,background:"white",borderRadius:12,padding:24},children:[t.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:20,fontWeight:700},children:"Save as Template"}),t.jsxs("div",{style:{marginBottom:20},children:[t.jsx("label",{style:{display:"block",fontSize:13,fontWeight:600,color:"#374151",marginBottom:8},children:"Template Name"}),t.jsx("input",{value:ur,onChange:e=>br(e.target.value),placeholder:"e.g., Summer Promo",style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),t.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[t.jsx("button",{onClick:()=>yr(!1),style:{padding:"10px 16px",borderRadius:8,border:"1px solid #e5e7eb",background:"white",cursor:"pointer",fontWeight:600,fontSize:13},children:"Cancel"}),t.jsx("button",{onClick:()=>{if(!ur.trim())return void je({type:"error",title:"Error",message:"Please enter a template name"});const e={id:Date.now().toString(),name:ur,lineColor:Xo,bgColor:Ko,textColor:Zo,title:tr,description:rr,logo:ir,link:ar},t=[...cr,e];xr(t),localStorage.setItem("default2Templates",JSON.stringify(t)),br(""),yr(!1),je({type:"success",title:"Saved",message:`Template "${ur}" saved!`})},style:{padding:"10px 16px",borderRadius:8,background:"#10b981",color:"white",border:"none",cursor:"pointer",fontWeight:600,fontSize:13},children:"Save Template"})]})]})}),gr&&t.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",zIndex:1500,display:"flex",alignItems:"center",justifyContent:"center",padding:20},onClick:()=>fr(!1),children:t.jsxs("div",{onClick:e=>e.stopPropagation(),style:{width:"100%",maxWidth:720,maxHeight:"88vh",overflowY:"auto",background:"white",borderRadius:16,padding:0,boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[t.jsx("div",{style:{padding:"28px 32px",borderBottom:"1px solid #e5e7eb",background:"linear-gradient(135deg, #f3f4f6 0%, #ffffff 100%)"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:22,fontWeight:700,color:"#111827"},children:"Saved Default 2 Templates"}),t.jsx("p",{style:{margin:0,fontSize:13,color:"#6b7280"},children:"Manage your card ad templates"})]}),t.jsx("button",{onClick:()=>fr(!1),style:{padding:"8px 12px",background:"#ef4444",color:"white",border:"none",borderRadius:8,cursor:"pointer",fontSize:13,fontWeight:600},children:"Close"})]})}),t.jsx("div",{style:{padding:"24px 32px"},children:0===cr.length?t.jsxs("div",{style:{padding:"48px 24px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:56,marginBottom:12},children:"ðŸŽ¨"}),t.jsx("div",{style:{fontSize:16,fontWeight:600,color:"#111827",marginBottom:6},children:"No templates yet"}),t.jsx("div",{style:{fontSize:13,color:"#6b7280"},children:"Create your first template to get started"})]}):t.jsx("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1fr)",gap:16},children:cr.map(e=>t.jsx("div",{className:"template-card",style:{padding:"20px",borderRadius:12,border:"1px solid #e5e7eb",background:"#ffffff",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:t.jsxs("div",{className:"template-card-content",style:{display:"flex",alignItems:"stretch",gap:16,justifyContent:"space-between"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontWeight:700,fontSize:15,color:"#111827",marginBottom:12},children:e.name}),t.jsxs("div",{style:{padding:"14px 16px",background:e.bgColor,border:`2px solid ${e.lineColor}`,borderRadius:10,fontSize:13},children:[t.jsx("div",{style:{fontWeight:700,color:e.textColor,marginBottom:6,fontSize:14},children:e.title||"Title"}),t.jsx("div",{style:{color:e.textColor,opacity:.8,fontSize:12,lineHeight:"1.4"},children:e.description||"Description"})]})]}),t.jsxs("div",{className:"template-actions",style:{display:"flex",flexDirection:"column",gap:8,justifyContent:"center",flexShrink:0},children:[t.jsx("button",{onClick:()=>{_o(e.lineColor),Qo(e.bgColor),er(e.textColor),or(e.title),nr(e.description),sr(e.logo),lr(e.link),fr(!1),ke("default2"),je({type:"success",title:"Loaded",message:`Template "${e.name}" loaded.`})},style:{padding:"10px 16px",borderRadius:8,background:"#10b981",color:"white",border:"none",cursor:"pointer",fontSize:13,fontWeight:600,whiteSpace:"nowrap"},children:"âœ“ Apply"}),t.jsx("button",{onClick:()=>{const t=cr.filter(t=>t.id!==e.id);xr(t),localStorage.setItem("default2Templates",JSON.stringify(t)),je({type:"success",title:"Deleted",message:`Template "${e.name}" deleted.`})},style:{padding:"10px 16px",borderRadius:8,background:"#ef4444",color:"white",border:"none",cursor:"pointer",fontSize:13,fontWeight:600,whiteSpace:"nowrap"},children:"ðŸ—‘ Delete"})]})]})},e.id))})})]})}),mr&&t.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",zIndex:1500,display:"flex",alignItems:"center",justifyContent:"center",padding:20},onClick:()=>vr(!1),children:t.jsxs("div",{onClick:e=>e.stopPropagation(),style:{width:"100%",maxWidth:600,maxHeight:"90vh",overflowY:"auto",background:"white",borderRadius:12,padding:24},children:[t.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:20,fontWeight:700},children:"Apply Default 2 Ad to Videos"}),t.jsxs("div",{style:{marginBottom:20},children:[t.jsx("label",{style:{display:"block",fontSize:13,fontWeight:600,color:"#374151",marginBottom:8},children:"Search Videos"}),t.jsx("input",{value:jr,onChange:e=>wr(e.target.value),placeholder:"Search by title or author...",style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12,marginBottom:20},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:13,fontWeight:600,color:"#374151",marginBottom:6},children:"Start Time (seconds)"}),t.jsx("input",{type:"number",min:0,value:Sr,onChange:e=>Cr(Math.max(0,Number(e.target.value))),style:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:13,fontWeight:600,color:"#374151",marginBottom:6},children:"Duration (seconds)"}),t.jsx("input",{type:"number",min:1,value:kr,onChange:e=>zr(Math.max(1,Number(e.target.value))),style:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:13,fontWeight:600,color:"#374151",marginBottom:6},children:"Max Display Count"}),t.jsx("input",{type:"number",min:1,value:Tr,onChange:e=>Rr(Math.max(1,Number(e.target.value))),style:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]})]}),t.jsxs("div",{style:{marginBottom:20},children:[t.jsx("label",{style:{display:"block",fontSize:13,fontWeight:600,color:"#374151",marginBottom:10},children:"Select Videos (showing ad count)"}),t.jsx("div",{style:{maxHeight:300,overflowY:"auto",border:"1px solid #e5e7eb",borderRadius:8,padding:8},children:0===pe.filter(e=>!jr||e.title.toLowerCase().includes(jr.toLowerCase())||e.author&&e.author.toLowerCase().includes(jr.toLowerCase())).length?t.jsx("div",{style:{padding:16,textAlign:"center",color:"#9ca3af"},children:"No videos found"}):pe.filter(e=>!jr||e.title.toLowerCase().includes(jr.toLowerCase())||e.author&&e.author.toLowerCase().includes(jr.toLowerCase())).map(e=>{const o=(e.ads?.bottom?.length||0)+(e.ads?.overlays?.length||0)+(e.ads?.default2?.length||0);return t.jsx("div",{style:{padding:10,borderRadius:6,marginBottom:6,background:Ir.includes(e.id)?"#dbeafe":"#f9fafb",border:"2px solid "+(Ir.includes(e.id)?"#0b74de":"transparent"),cursor:"pointer",transition:"all 0.2s ease"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,justifyContent:"space-between"},onClick:()=>Wr(Ir.includes(e.id)?Ir.filter(t=>t!==e.id):[...Ir,e.id]),children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,flex:1},children:[t.jsx("input",{type:"checkbox",checked:Ir.includes(e.id),readOnly:!0,style:{cursor:"pointer"}}),t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontWeight:600,fontSize:13,color:"#1f2937"},children:e.title}),t.jsxs("div",{style:{fontSize:12,color:"#9ca3af"},children:["by ",e.author||"Unknown"]})]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[o>0&&t.jsxs("span",{style:{padding:"4px 8px",background:"#fef08a",color:"#854d0e",fontSize:12,fontWeight:600,borderRadius:4},children:[o," ad",1!==o?"s":""]}),o>0&&t.jsx("button",{onClick:t=>{t.stopPropagation(),Po(e)},style:{padding:"4px 8px",background:"#ef4444",color:"white",border:"none",borderRadius:4,cursor:"pointer",fontSize:11,fontWeight:600},children:"Remove"})]})]})},e.id)})})]}),t.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[t.jsx("button",{onClick:()=>vr(!1),style:{padding:"10px 16px",borderRadius:8,border:"1px solid #e5e7eb",background:"white",cursor:"pointer",fontWeight:600,fontSize:13},children:"Cancel"}),t.jsx("button",{onClick:async()=>{if(0!==Ir.length)if(tr)try{(await L(`${E()}/staff/apply-default2-ad`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id,videoIds:Ir,ad:{lineColor:Xo,bgColor:Ko,textColor:Zo,title:tr,description:rr,logo:ir,link:ar,startTime:Sr,duration:kr,displayCount:Tr}})})).ok?(je({type:"success",title:"Applied",message:`Default 2 ad applied to ${Ir.length} video(s).`}),e&&hs(e),vr(!1),Wr([])):je({type:"error",title:"Apply failed",message:"Unable to apply Default 2 ad."})}catch(t){console.error("Default 2 ad apply failed:",t),je({type:"error",title:"Error",message:"Error applying Default 2 ad."})}else je({type:"error",title:"Missing fields",message:"Please provide at least a title."});else je({type:"error",title:"No videos selected",message:"Please select at least one video."})},style:{padding:"10px 16px",borderRadius:8,background:"#d946ef",color:"white",border:"none",cursor:"pointer",fontWeight:600,fontSize:13},children:"Apply to Videos"})]})]})})]})]}),$r.isOpen&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(2px)",WebkitBackdropFilter:"blur(2px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"32px",position:"relative",maxWidth:"600px",width:"90%",boxShadow:"0 20px 25px rgba(0, 0, 0, 0.15)",maxHeight:"90vh",overflowY:"auto",display:"flex",flexDirection:"column"},children:[t.jsx("button",{onClick:()=>Ur({isOpen:!1,title:"",message:"",recipientType:"individual",selectedUsers:[],promotionType:"offer",ctaText:"Learn More",ctaIcon:"gift",ctaUrl:""}),title:"Close",style:{position:"absolute",top:"12px",right:"12px",width:"28px",height:"28px",borderRadius:"6px",border:"none",background:"#fff",boxShadow:"0 2px 6px rgba(0,0,0,0.08)",cursor:"pointer",color:"#9ca3af",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px"},children:"âœ•"}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",margin:"0",color:"#1f2937"},children:"Create Promotion"}),t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[t.jsx("button",{title:"Templates",onClick:()=>Gr(!0),style:{backgroundColor:"#eef2ff",border:"none",padding:"6px 8px",fontSize:"13px",borderRadius:"6px",cursor:"pointer"},children:"Templates"}),t.jsx("button",{title:"Clear all fields",onClick:()=>{Ur({...$r,title:"",message:"",selectedUsers:[],recipientType:"individual"}),on(""),me("")},style:{backgroundColor:"#f3f4f6",border:"none",padding:"6px 8px",fontSize:"13px",borderRadius:"6px",cursor:"pointer"},children:"Clear"})]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",color:"#1f2937",marginBottom:"8px"},children:"Promotion Type"}),t.jsxs("div",{style:{position:"relative"},children:[t.jsxs("button",{onClick:()=>Pn(!Ln),style:{width:"100%",padding:"10px 12px",backgroundColor:"#ffffff",color:"#1f2937",border:"2px solid #e5e7eb",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",boxSizing:"border-box",textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("span",{children:["offer"===$r.promotionType&&"ðŸŽ Special Offer","announcement"===$r.promotionType&&"ðŸ“¢ Announcement","feature"===$r.promotionType&&"â­ Featured"]}),t.jsx(b,{size:18,style:{transform:Ln?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]}),Ln&&t.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"2px solid #e5e7eb",borderTop:"none",borderRadius:"0 0 6px 6px",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[t.jsxs("button",{onClick:()=>{Ur({...$r,promotionType:"offer"}),Pn(!1)},style:{width:"100%",padding:"12px",backgroundColor:"offer"===$r.promotionType?"#f59e0b20":"white",color:"#1f2937",border:"none",borderBottom:"1px solid #e5e7eb",cursor:"pointer",fontSize:"14px",fontWeight:"500",textAlign:"left",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:e=>e.target.style.backgroundColor="#f59e0b10",onMouseLeave:e=>e.target.style.backgroundColor="offer"===$r.promotionType?"#f59e0b20":"white",children:[t.jsx(j,{size:18,style:{color:"#f59e0b"}})," Special Offer"]}),t.jsxs("button",{onClick:()=>{Ur({...$r,promotionType:"announcement"}),Pn(!1)},style:{width:"100%",padding:"12px",backgroundColor:"announcement"===$r.promotionType?"#3b82f620":"white",color:"#1f2937",border:"none",borderBottom:"1px solid #e5e7eb",cursor:"pointer",fontSize:"14px",fontWeight:"500",textAlign:"left",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:e=>e.target.style.backgroundColor="#3b82f610",onMouseLeave:e=>e.target.style.backgroundColor="announcement"===$r.promotionType?"#3b82f620":"white",children:[t.jsx(h,{size:18,style:{color:"#3b82f6"}})," Announcement"]}),t.jsxs("button",{onClick:()=>{Ur({...$r,promotionType:"feature"}),Pn(!1)},style:{width:"100%",padding:"12px",backgroundColor:"feature"===$r.promotionType?"#10b98120":"white",color:"#1f2937",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:"500",textAlign:"left",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px",borderRadius:"0 0 6px 6px"},onMouseEnter:e=>e.target.style.backgroundColor="#10b98110",onMouseLeave:e=>e.target.style.backgroundColor="feature"===$r.promotionType?"#10b98120":"white",children:[t.jsx(k,{size:18,style:{color:"#10b981"}})," Featured"]})]})]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",color:"#1f2937",marginBottom:"8px"},children:"Title"}),t.jsx("input",{type:"text",value:$r.title,onChange:e=>Ur({...$r,title:e.target.value}),placeholder:"e.g., New Feature Launch, 50% Off Boost...",style:{width:"100%",padding:"10px",border:"2px solid #e5e7eb",borderRadius:"6px",fontSize:"14px",fontFamily:"inherit",boxSizing:"border-box"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",color:"#1f2937",marginBottom:"8px"},children:"Message"}),t.jsx("textarea",{value:$r.message,onChange:e=>Ur({...$r,message:e.target.value}),placeholder:"Describe the promotion or announcement...",style:{width:"100%",padding:"10px",border:"2px solid #e5e7eb",borderRadius:"6px",fontSize:"14px",fontFamily:"inherit",boxSizing:"border-box",minHeight:"100px",resize:"none"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",color:"#1f2937",marginBottom:"8px"},children:"Send To"}),t.jsxs("div",{style:{position:"relative"},children:[t.jsxs("button",{onClick:()=>Dn(!Nn),style:{width:"100%",padding:"10px 12px",backgroundColor:"#ffffff",color:"#1f2937",border:"2px solid #e5e7eb",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",boxSizing:"border-box",textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("span",{children:["all"===$r.recipientType&&"ðŸ“¢ All Users","creators"===$r.recipientType&&"ðŸ‘‘ Creators Only","individual"===$r.recipientType&&"ðŸ‘¤ Select Users"]}),t.jsx(b,{size:18,style:{transform:Nn?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]}),Nn&&t.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"2px solid #e5e7eb",borderTop:"none",borderRadius:"0 0 6px 6px",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[t.jsxs("button",{onClick:()=>{Ur({...$r,recipientType:"all"}),Dn(!1)},style:{width:"100%",padding:"12px",backgroundColor:"all"===$r.recipientType?"#10b98120":"white",color:"#1f2937",border:"none",borderBottom:"1px solid #e5e7eb",cursor:"pointer",fontSize:"14px",fontWeight:"500",textAlign:"left",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:e=>e.target.style.backgroundColor="#10b98110",onMouseLeave:e=>e.target.style.backgroundColor="all"===$r.recipientType?"#10b98120":"white",children:[t.jsx(h,{size:18,style:{color:"#10b981"}})," All Users"]}),t.jsxs("button",{onClick:()=>{Ur({...$r,recipientType:"creators"}),Dn(!1)},style:{width:"100%",padding:"12px",backgroundColor:"creators"===$r.recipientType?"#f59e0b20":"white",color:"#1f2937",border:"none",borderBottom:"1px solid #e5e7eb",cursor:"pointer",fontSize:"14px",fontWeight:"500",textAlign:"left",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:e=>e.target.style.backgroundColor="#f59e0b10",onMouseLeave:e=>e.target.style.backgroundColor="creators"===$r.recipientType?"#f59e0b20":"white",children:[t.jsx(m,{size:18,style:{color:"#f59e0b"}})," Creators Only"]}),t.jsxs("button",{onClick:()=>{Ur({...$r,recipientType:"individual",selectedUsers:[]}),Dn(!1)},style:{width:"100%",padding:"12px",backgroundColor:"individual"===$r.recipientType?"#3b82f620":"white",color:"#1f2937",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:"500",textAlign:"left",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px",borderRadius:"0 0 6px 6px"},onMouseEnter:e=>e.target.style.backgroundColor="#3b82f610",onMouseLeave:e=>e.target.style.backgroundColor="individual"===$r.recipientType?"#3b82f620":"white",children:[t.jsx(v,{size:18,style:{color:"#3b82f6"}})," Select Users"]})]})]})]}),"individual"===$r.recipientType&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:t.jsxs("label",{style:{fontSize:"12px",color:"#666",display:"flex",alignItems:"center",gap:"6px"},children:[t.jsx("input",{type:"checkbox",checked:"all"===$r.recipientType,onChange:e=>{e.target.checked?Ur({...$r,recipientType:"all",selectedUsers:re.map(e=>e.id)}):Ur({...$r,recipientType:"individual",selectedUsers:[]})}}),"All users"]})}),t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[t.jsx("button",{onClick:()=>nn(!rn),style:{padding:"6px 10px",backgroundColor:rn?"#3b82f6":"#e5e7eb",color:rn?"white":"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"600"},children:"Filters"}),t.jsx("button",{onClick:()=>{const e=Wn.map(e=>e.id);if(e.length>0&&e.every(e=>$r.selectedUsers.includes(e)))Ur({...$r,selectedUsers:$r.selectedUsers.filter(t=>!e.includes(t))});else{const t=Array.from(new Set([...$r.selectedUsers,...e]));Ur({...$r,selectedUsers:t})}},style:{padding:"6px 10px",backgroundColor:"#e5e7eb",color:"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"600"},children:"Select Visible"})]})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:[t.jsx("input",{value:tn,onChange:e=>on(e.target.value),placeholder:"Search users or creators...",style:{flex:1,padding:"8px 10px",border:"2px solid #e5e7eb",borderRadius:"6px",fontSize:"13px"}}),t.jsx("button",{onClick:()=>nn(!rn),"aria-label":"Toggle filters",style:{padding:"8px 10px",borderRadius:"6px",border:"2px solid #e5e7eb",background:"#eef2ff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(z,{size:16})})]}),rn&&t.jsxs("div",{style:{marginTop:"8px",padding:"16px",border:"2px solid #e5e7eb",borderRadius:"12px",background:"linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"12px",marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",fontWeight:"500",color:"#374151",padding:"8px 12px",background:"white",borderRadius:"8px",border:"1.5px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.borderColor="#3b82f6",onMouseLeave:e=>e.currentTarget.style.borderColor="#e5e7eb",children:[t.jsx("input",{type:"checkbox",checked:sn,onChange:e=>{an(e.target.checked),e.target.checked&&dn(!1)},style:{accentColor:"#3b82f6"}}),"Creators only"]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",fontWeight:"500",color:"#374151",padding:"8px 12px",background:"white",borderRadius:"8px",border:"1.5px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.borderColor="#3b82f6",onMouseLeave:e=>e.currentTarget.style.borderColor="#e5e7eb",children:[t.jsx("input",{type:"checkbox",checked:ln,onChange:e=>{dn(e.target.checked),e.target.checked&&an(!1)},style:{accentColor:"#3b82f6"}}),"Users only"]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",display:"block",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Category"}),t.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",padding:"8px",background:"white",borderRadius:"8px",border:"1.5px solid #e5e7eb"},children:[t.jsx("button",{onClick:()=>cn("all"),style:{padding:"6px 12px",borderRadius:"6px",border:"all"===pn?"2px solid #3b82f6":"1px solid #e5e7eb",background:"all"===pn?"#dbeafe":"white",color:"all"===pn?"#1e40af":"#6b7280",fontSize:"12px",fontWeight:"all"===pn?"600":"500",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{"all"!==pn&&(e.currentTarget.style.background="#f3f4f6",e.currentTarget.style.borderColor="#d1d5db")},onMouseLeave:e=>{"all"!==pn&&(e.currentTarget.style.background="white",e.currentTarget.style.borderColor="#e5e7eb")},children:"All"}),["Travel","Education","Entertainment","Music","Sports","Gaming","Tech","Lifestyle","Food","Fashion","Art","Science","Health","Business","Comedy","News","Other"].map(e=>t.jsx("button",{onClick:()=>cn(e),style:{padding:"6px 12px",borderRadius:"6px",border:pn===e?"2px solid #3b82f6":"1px solid #e5e7eb",background:pn===e?"#dbeafe":"white",color:pn===e?"#1e40af":"#6b7280",fontSize:"12px",fontWeight:pn===e?"600":"500",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:t=>{pn!==e&&(t.currentTarget.style.background="#f3f4f6",t.currentTarget.style.borderColor="#d1d5db")},onMouseLeave:t=>{pn!==e&&(t.currentTarget.style.background="white",t.currentTarget.style.borderColor="#e5e7eb")},children:e},e))]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",display:"block",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Subscription"}),t.jsxs("select",{value:bn,onChange:e=>hn(e.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:"8px",border:"1.5px solid #e5e7eb",fontSize:"13px",fontWeight:"500",background:"white",color:"#374151",cursor:"pointer",appearance:"none",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%236b7280' d='M6 9L1 4h10z'/%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 10px center",paddingRight:"32px",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},onFocus:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[t.jsx("option",{value:"all",children:"All Plans"}),t.jsx("option",{value:"hasplan",children:"Has Plan"}),t.jsx("option",{value:"noplan",children:"No Plan"})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",display:"block",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Request Activity"}),t.jsxs("select",{value:yn,onChange:e=>mn(e.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:"8px",border:"1.5px solid #e5e7eb",fontSize:"13px",fontWeight:"500",background:"white",color:"#374151",cursor:"pointer",appearance:"none",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%236b7280' d='M6 9L1 4h10z'/%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 10px center",paddingRight:"32px",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},onFocus:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[t.jsx("option",{value:"all",children:"All Activity"}),t.jsx("option",{value:"created",children:"Created Requests"}),t.jsx("option",{value:"fulfilled",children:"Fulfilled Requests"}),t.jsx("option",{value:"free",children:"Made Free Requests"}),t.jsx("option",{value:"none",children:"No Request Activity"})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",display:"block",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Submitted Requests"}),t.jsxs("select",{value:Cn,onChange:e=>kn(e.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:"8px",border:"1.5px solid #e5e7eb",fontSize:"13px",fontWeight:"500",background:"white",color:"#374151",cursor:"pointer",appearance:"none",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%236b7280' d='M6 9L1 4h10z'/%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 10px center",paddingRight:"32px",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},onFocus:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[t.jsx("option",{value:"all",children:"All Requests"}),t.jsx("option",{value:"free",children:"Free Requests Only"}),t.jsx("option",{value:"paid",children:"Paid Requests Only"}),t.jsx("option",{value:"mixed",children:"Both Free & Paid"})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",display:"block",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Fulfilled Requests"}),t.jsxs("select",{value:zn,onChange:e=>Tn(e.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:"8px",border:"1.5px solid #e5e7eb",fontSize:"13px",fontWeight:"500",background:"white",color:"#374151",cursor:"pointer",appearance:"none",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%236b7280' d='M6 9L1 4h10z'/%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 10px center",paddingRight:"32px",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},onFocus:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[t.jsx("option",{value:"all",children:"All Fulfillments"}),t.jsx("option",{value:"free",children:"Free Requests"}),t.jsx("option",{value:"paid",children:"Paid Requests"}),t.jsx("option",{value:"mixed",children:"Both Free & Paid"})]})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"12px",marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",display:"block",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Min Requests"}),t.jsx("input",{value:xn,onChange:e=>gn(e.target.value),placeholder:"0",type:"number",style:{width:"100%",padding:"10px 12px",borderRadius:"8px",border:"1.5px solid #e5e7eb",fontSize:"13px",fontWeight:"500",background:"white",color:"#374151",transition:"all 0.2s",boxSizing:"border-box"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},onFocus:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",display:"block",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Min $/Request (Avg)"}),t.jsx("input",{value:fn,onChange:e=>un(e.target.value),placeholder:"0",type:"number",style:{width:"100%",padding:"10px 12px",borderRadius:"8px",border:"1.5px solid #e5e7eb",fontSize:"13px",fontWeight:"500",background:"white",color:"#374151",transition:"all 0.2s",boxSizing:"border-box"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},onFocus:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",display:"block",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Max $/Request (Avg)"}),t.jsx("input",{value:Rn,onChange:e=>In(e.target.value),placeholder:"Any",type:"number",style:{width:"100%",padding:"10px 12px",borderRadius:"8px",border:"1.5px solid #e5e7eb",fontSize:"13px",fontWeight:"500",background:"white",color:"#374151",transition:"all 0.2s",boxSizing:"border-box"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},onFocus:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",display:"block",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Days Active (max)"}),t.jsx("input",{value:vn,onChange:e=>jn(e.target.value),placeholder:"30",type:"number",style:{width:"100%",padding:"10px 12px",borderRadius:"8px",border:"1.5px solid #e5e7eb",fontSize:"13px",fontWeight:"500",background:"white",color:"#374151",transition:"all 0.2s",boxSizing:"border-box"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},onFocus:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]})]}),t.jsx("button",{onClick:()=>{an(!1),dn(!1),cn("all"),hn("all"),mn("all"),kn("all"),Tn("all"),gn(""),un(""),In(""),jn(""),on("")},style:{padding:"10px 16px",fontSize:"13px",fontWeight:"600",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(239, 68, 68, 0.2)"},onMouseEnter:e=>{e.currentTarget.style.background="#dc2626",e.currentTarget.style.boxShadow="0 4px 8px rgba(239, 68, 68, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.background="#ef4444",e.currentTarget.style.boxShadow="0 2px 4px rgba(239, 68, 68, 0.2)"},children:"Reset All Filters"})]})]}),t.jsx("div",{style:{border:"2px solid #e5e7eb",borderRadius:"8px",maxHeight:"250px",overflowY:"auto",backgroundColor:"#f9fafb"},children:"all"===$r.recipientType?t.jsx("div",{style:{padding:"16px",textAlign:"center",color:"#9ca3af",fontSize:"13px"},children:"All users will receive this promotion"}):0===Wn.length?t.jsx("div",{style:{padding:"16px",textAlign:"center",color:"#9ca3af",fontSize:"13px"},children:0===re.length?"No users available":"No users match filters"}):Wn.map(e=>t.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",backgroundColor:$r.selectedUsers.includes(e.id)?"#dbeafe":"transparent",transition:"background-color 0.2s"},onClick:()=>{const t=$r.selectedUsers.includes(e.id);Ur({...$r,selectedUsers:t?$r.selectedUsers.filter(t=>t!==e.id):[...$r.selectedUsers,e.id]})},onMouseEnter:t=>{$r.selectedUsers.includes(e.id)||(t.currentTarget.style.backgroundColor="#f3f4f6")},onMouseLeave:t=>{$r.selectedUsers.includes(e.id)||(t.currentTarget.style.backgroundColor="transparent")},children:[t.jsx("input",{type:"checkbox",checked:$r.selectedUsers.includes(e.id),onChange:()=>{},style:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#3b82f6"}}),t.jsxs("div",{style:{flex:1},children:[t.jsx("p",{style:{fontSize:"13px",fontWeight:"600",margin:"0",color:"#1f2937"},children:e.name}),t.jsx("p",{style:{fontSize:"12px",margin:"2px 0 0 0",color:"#666"},children:e.email}),wn[e.id]&&t.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"6px",flexWrap:"wrap"},children:[wn[e.id].hasPlan&&t.jsx("span",{style:{fontSize:"10px",backgroundColor:"#dbeafe",color:"#0369a1",padding:"2px 6px",borderRadius:"3px"},children:"ðŸ’³ Has Plan"}),wn[e.id].createdRequestsCount>0&&t.jsxs("span",{style:{fontSize:"10px",backgroundColor:"#fef3c7",color:"#92400e",padding:"2px 6px",borderRadius:"3px"},children:["ðŸ“‹ ",wn[e.id].createdRequestsCount," Created"]}),wn[e.id].fulfilledRequestsCount>0&&t.jsxs("span",{style:{fontSize:"10px",backgroundColor:"#dcfce7",color:"#166534",padding:"2px 6px",borderRadius:"3px"},children:["âœ… ",wn[e.id].fulfilledRequestsCount," Fulfilled"]}),wn[e.id].freeRequestsCount>0&&t.jsxs("span",{style:{fontSize:"10px",backgroundColor:"#fce7f3",color:"#831843",padding:"2px 6px",borderRadius:"3px"},children:["ðŸŽ ",wn[e.id].freeRequestsCount," Free"]}),wn[e.id].daysSinceLastActivity<=7&&t.jsx("span",{style:{fontSize:"10px",backgroundColor:"#d1d5db",color:"#111",padding:"2px 6px",borderRadius:"3px"},children:"ðŸ”¥ Active"})]})]}),e.isCreator&&t.jsxs("span",{style:{fontSize:"11px",backgroundColor:"#f59e0b",color:"white",padding:"4px 8px",borderRadius:"4px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx(m,{size:12})," Creator"]})]},e.id))}),$r.selectedUsers.length>0&&t.jsxs("p",{style:{fontSize:"12px",color:"#3b82f6",margin:"8px 0 0 0",fontWeight:"600"},children:["âœ“ ",$r.selectedUsers.length," user",1!==$r.selectedUsers.length?"s":""," selected"]})]}),ye&&t.jsx("div",{style:{padding:"12px",backgroundColor:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"8px",color:"#dc2626",fontSize:"13px",marginBottom:"16px"},children:ye}),t.jsxs("div",{style:{marginBottom:"16px",padding:"12px",backgroundColor:"#f3f4f6",borderRadius:"8px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"bold",color:"#1f2937",display:"block",marginBottom:"8px"},children:"Customize Call-to-Action"}),t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"flex-start",marginBottom:"8px",overflow:"visible"},children:[t.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsx("input",{value:$r.ctaText,onChange:e=>Ur({...$r,ctaText:e.target.value.slice(0,30)}),placeholder:"e.g., Learn More",style:{width:"100%",padding:"8px 10px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"13px"}}),t.jsx("input",{value:$r.ctaUrl,onChange:e=>Ur({...$r,ctaUrl:e.target.value}),placeholder:"CTA URL/Link (e.g., https://example.com)",type:"url",style:{width:"100%",padding:"8px 10px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"13px"}})]}),t.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[t.jsxs("button",{type:"button",onClick:()=>qr(!Yr),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 10px",border:"1px solid #e5e7eb",borderRadius:"6px",background:"white",cursor:"pointer",minWidth:"72px",maxWidth:"120px",flex:"0 0 auto",boxShadow:"0 1px 2px rgba(0,0,0,0.04)"},children:[t.jsx("span",{style:{fontSize:"16px",lineHeight:1},children:"gift"===$r.ctaIcon?"ðŸŽ":"star"===$r.ctaIcon?"â­":"megaphone"===$r.ctaIcon?"ðŸ“¢":"heart"===$r.ctaIcon?"â¤ï¸":"fire"===$r.ctaIcon?"ðŸ”¥":"check"===$r.ctaIcon?"âœ…":"arrow"===$r.ctaIcon?"â†’":"ðŸŽ"}),t.jsx("span",{style:{fontSize:"13px",color:"#111",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"64px",display:"inline-block"},children:"gift"===$r.ctaIcon?"Gift":"star"===$r.ctaIcon?"Star":"megaphone"===$r.ctaIcon?"Megaphone":"heart"===$r.ctaIcon?"Heart":"fire"===$r.ctaIcon?"Fire":"check"===$r.ctaIcon?"Check":"arrow"===$r.ctaIcon?"Arrow":"Gift"}),t.jsx(b,{size:14,style:{marginLeft:"4px",color:"#9ca3af"}})]}),Yr&&t.jsx("div",{style:{position:"absolute",right:0,top:"44px",background:"white",borderRadius:"10px",boxShadow:"0 8px 24px rgba(0,0,0,0.14)",padding:"8px",zIndex:60,minWidth:"180px"},children:[{value:"gift",label:"Gift",emoji:"ðŸŽ"},{value:"star",label:"Star",emoji:"â­"},{value:"megaphone",label:"Megaphone",emoji:"ðŸ“¢"},{value:"heart",label:"Heart",emoji:"â¤ï¸"},{value:"fire",label:"Fire",emoji:"ðŸ”¥"},{value:"check",label:"Check",emoji:"âœ…"},{value:"arrow",label:"Arrow",emoji:"â†’"}].map(e=>t.jsxs("button",{onClick:()=>{Ur({...$r,ctaIcon:e.value}),qr(!1)},style:{display:"flex",alignItems:"center",gap:"10px",width:"100%",padding:"8px 10px",borderRadius:"8px",border:"none",background:"transparent",cursor:"pointer",textAlign:"left"},onMouseEnter:e=>e.currentTarget.style.background="#f8fafc",onMouseLeave:e=>e.currentTarget.style.background="transparent",children:[t.jsx("span",{style:{fontSize:"16px"},children:e.emoji}),t.jsx("span",{style:{fontSize:"14px",color:"#111"},children:e.label})]},e.value))})]})]})]}),$r.title&&t.jsxs("div",{style:{padding:"16px",backgroundColor:"#f9fafb",border:"2px solid #e5e7eb",borderRadius:"8px",marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[t.jsx("p",{style:{fontSize:"12px",fontWeight:"bold",color:"#666",margin:"0",textTransform:"uppercase"},children:"Preview - How Users Will See It"}),t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[t.jsx("button",{onClick:()=>Ur({...$r,ctaColor:"#f59e0b"}),style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#f59e0b",border:"#f59e0b"===$r.ctaColor?"3px solid #1f2937":"2px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s"},title:"Orange"}),t.jsx("button",{onClick:()=>Ur({...$r,ctaColor:"#ef4444"}),style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#ef4444",border:"#ef4444"===$r.ctaColor?"3px solid #1f2937":"2px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s"},title:"Red"}),t.jsx("button",{onClick:()=>Ur({...$r,ctaColor:"#3b82f6"}),style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#3b82f6",border:"#3b82f6"===$r.ctaColor?"3px solid #1f2937":"2px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s"},title:"Blue"}),t.jsx("button",{onClick:()=>Ur({...$r,ctaColor:"#10b981"}),style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#10b981",border:"#10b981"===$r.ctaColor?"3px solid #1f2937":"2px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s"},title:"Green"}),t.jsx("button",{onClick:()=>Ur({...$r,ctaColor:"#8b5cf6"}),style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#8b5cf6",border:"#8b5cf6"===$r.ctaColor?"3px solid #1f2937":"2px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s"},title:"Purple"})]})]}),t.jsxs("div",{style:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"28px 24px",boxShadow:"0 6px 18px rgba(0,0,0,0.12)",textAlign:"center",maxWidth:"440px",width:"100%",margin:"0 auto"},children:[t.jsxs("div",{style:{width:"60px",height:"60px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",backgroundColor:P($r.ctaColor,.12),fontSize:"32px"},children:["gift"===$r.ctaIcon&&"ðŸŽ","star"===$r.ctaIcon&&"â­","megaphone"===$r.ctaIcon&&"ðŸ“¢","heart"===$r.ctaIcon&&"â¤ï¸","fire"===$r.ctaIcon&&"ðŸ”¥","check"===$r.ctaIcon&&"âœ…","arrow"===$r.ctaIcon&&"â†’"]}),t.jsxs("h3",{style:{fontSize:"18px",fontWeight:"700",margin:"0 0 8px 0",color:"#1f2937"},children:["offer"===$r.promotionType&&"Special Offer","announcement"===$r.promotionType&&"Announcement","feature"===$r.promotionType&&"Featured Content"]}),t.jsxs("p",{style:{fontSize:"12px",color:"#9ca3af",margin:"0 0 16px 0",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:["all"===$r.recipientType&&t.jsxs(t.Fragment,{children:[t.jsx(h,{size:14})," For All Users"]}),"creators"===$r.recipientType&&t.jsxs(t.Fragment,{children:[t.jsx(m,{size:14})," For Creators"]}),"individual"===$r.recipientType&&t.jsxs(t.Fragment,{children:[t.jsx(v,{size:14})," For ",$r.selectedUsers.length," user",1!==$r.selectedUsers.length?"s":""]})]}),t.jsx("h2",{style:{fontSize:"18px",fontWeight:"700",margin:"0 0 12px 0",color:"#1f2937",wordBreak:"break-word",lineHeight:"1.4"},children:$r.title}),t.jsx("p",{style:{fontSize:"14px",color:"#4b5563",margin:"0 0 20px 0",lineHeight:"1.6",wordBreak:"break-word",whiteSpace:"pre-wrap"},children:$r.message}),$r.ctaUrl?t.jsx("a",{href:$r.ctaUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",width:"100%",padding:"12px 24px",backgroundColor:$r.ctaColor,color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s",textDecoration:"none",textAlign:"center",opacity:1},onMouseEnter:e=>e.target.style.opacity="0.9",onMouseLeave:e=>e.target.style.opacity="1",children:$r.ctaText}):t.jsx("button",{style:{padding:"12px 24px",backgroundColor:$r.ctaColor,color:"white",border:"none",borderRadius:"6px",cursor:"not-allowed",fontSize:"14px",fontWeight:"600",width:"100%",transition:"all 0.2s",opacity:.6},children:$r.ctaText})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"24px",paddingTop:"16px",borderTop:"1px solid #e5e7eb"},children:[t.jsx("button",{onClick:async()=>{if($r.title.trim()&&$r.message.trim())try{const o=await L(`${E()}/staff/send-promotion`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id,title:$r.title,message:$r.message,promotionType:$r.promotionType,recipientType:$r.recipientType,selectedUsers:"individual"===$r.recipientType?$r.selectedUsers:null,ctaText:$r.ctaText,ctaIcon:$r.ctaIcon,ctaColor:$r.ctaColor,ctaUrl:$r.ctaUrl})});if(o.ok){const e=await o.json();me("");try{const e={id:Date.now(),title:$r.title.trim(),message:$r.message.trim()};Hr.some(t=>t.title===e.title&&t.message===e.message)||Vr(t=>[e,...t||[]].slice(0,25))}catch(t){}const r=e.created||($r.selectedUsers?$r.selectedUsers.length:0);je({type:"success",title:"Promotion Sent",message:`Delivered to ${r} recipient(s)`,icon:"gift",position:"top"})}else me("Failed to send promotion"),je({type:"error",title:"Promotion Failed",message:"Unable to deliver promotion"})}catch(o){console.error("Promotion send failed:",o),me("Error sending promotion")}else me("Please fill in all promotion fields")},draggable:!1,onMouseDown:e=>e.stopPropagation(),style:{flex:1,padding:"12px 16px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"opacity 0.2s"},onMouseEnter:e=>e.target.style.opacity="0.9",onMouseLeave:e=>e.target.style.opacity="1",children:"Send Promotion"}),t.jsx("button",{onClick:()=>Ur({isOpen:!1,title:"",message:"",recipientType:"individual",selectedUsers:[],promotionType:"offer",ctaText:"Learn More",ctaIcon:"gift",ctaColor:"#f59e0b",ctaUrl:""}),draggable:!1,onMouseDown:e=>e.stopPropagation(),style:{padding:"12px 16px",backgroundColor:"#e5e7eb",color:"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"opacity 0.2s"},onMouseEnter:e=>e.target.style.opacity="0.8",onMouseLeave:e=>e.target.style.opacity="1",children:"Cancel"})]})]})}),eo&&t.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.95)",zIndex:1400,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},onClick:()=>to(!1),children:t.jsxs("div",{onClick:e=>e.stopPropagation(),style:{width:"100%",height:"100%",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[t.jsx("button",{onClick:()=>to(!1),style:{position:"fixed",top:"calc(env(safe-area-inset-top, 20px) + 14px)",right:14,zIndex:1420,background:"rgba(255,255,255,0.04)",border:"none",color:"white",padding:"6px 8px",borderRadius:8,cursor:"pointer",fontSize:14,opacity:.95},children:"âœ•"}),t.jsxs("div",{style:{position:"absolute",top:"env(safe-area-inset-top, 20px)",left:0,right:0,bottom:"env(safe-area-inset-bottom, 20px)",background:"#000",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},children:[t.jsx("div",{style:{fontSize:24,color:"#9ca3af"},children:"Video Content Area"}),t.jsx("div",{style:{position:"absolute",width:"100%",height:160,background:"rgba(17,24,39,0.94)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2,boxShadow:"0 12px 30px rgba(0,0,0,0.5)"},children:t.jsxs("div",{style:{width:"95%",display:"flex",alignItems:"center",gap:12},children:[t.jsx("div",{style:{width:56,height:56,borderRadius:10,background:"#111827",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af",fontWeight:700,flexShrink:0},children:(ze||"").charAt(0).toUpperCase()||"A"}),t.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",minWidth:0},children:[t.jsx("div",{style:{fontSize:14,fontWeight:800,color:"#fff"},children:ze||"Advertiser"}),t.jsx("div",{style:{fontSize:13,color:"#e6eef8",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:We||"Your ad text goes here. Click to edit..."})]}),t.jsx("a",{href:Ve||"#",target:"_blank",rel:"noreferrer",style:{background:"#fff",color:"#111827",padding:"8px 12px",borderRadius:8,textDecoration:"none",fontWeight:800,fontSize:13,flexShrink:0},children:"Learn more"})]})})]}),("bottom"===bt||"top"===bt)&&t.jsx("div",{style:{position:"fixed",[bt]:"top"===bt?"env(safe-area-inset-top, 20px)":"env(safe-area-inset-bottom, 20px)",left:0,right:0,background:nt,color:st,padding:"14px 16px",fontSize:14,fontWeight:700,zIndex:1410,display:"flex",alignItems:"center",gap:16,overflow:"hidden"},children:t.jsx("div",{style:{whiteSpace:"nowrap",display:"flex",gap:32,animation:ot.length>0?`scroll ${1.5*ot.reduce((e,t)=>e+t.duration,0)}s linear infinite`:"scroll 20s linear infinite"},children:ot.length>0?ot.map(e=>t.jsxs("span",{children:[et," ",_e&&`[${_e}]`," ",e.text]},e.id)):t.jsxs(t.Fragment,{children:[t.jsxs("span",{children:[et," ",Qe]}),t.jsxs("span",{children:[et," ",Qe]}),t.jsxs("span",{children:[et," ",Qe]})]})})}),"fullscreen"===bt&&t.jsxs("div",{style:{position:"fixed",inset:0,background:nt,color:st,zIndex:1410,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:20,padding:"40px",paddingTop:"calc(env(safe-area-inset-top, 20px) + 40px)",paddingBottom:"calc(env(safe-area-inset-bottom, 20px) + 40px)",textAlign:"center"},children:[t.jsx("button",{onClick:e=>e.stopPropagation(),style:{position:"absolute",top:"calc(env(safe-area-inset-top, 20px) + 12px)",right:20,width:32,height:32,borderRadius:"50%",background:"rgba(255,255,255,0.2)",border:"2px solid rgba(255,255,255,0.4)",color:"#fff",fontSize:20,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:51},children:"âœ•"}),t.jsx("div",{style:{width:120,height:120,borderRadius:"12px",background:"rgba(255,255,255,0.15)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:24,border:"2px solid rgba(255,255,255,0.3)",overflow:"hidden"},children:vt?t.jsx("img",{src:vt,alt:"Company",style:{width:"100%",height:"100%",objectFit:"cover"}}):t.jsx("span",{style:{fontSize:40,opacity:.6},children:"ðŸ“·"})}),t.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",gap:16,maxWidth:"85%"},children:ot.length>0?ot.map((e,o)=>t.jsx("div",{style:{fontSize:28,fontWeight:700,lineHeight:1.3},children:e.text},o)):t.jsx("div",{style:{fontSize:28,fontWeight:700,lineHeight:1.3},children:"Sponsorship Message"})}),t.jsx("button",{style:{padding:"14px 40px",background:"white",color:nt,border:"none",borderRadius:8,fontSize:16,fontWeight:700,cursor:"pointer",marginTop:16,transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:yt||"Learn More"})]}),"videoPlayer"===bt&&t.jsxs("div",{style:{position:"fixed",inset:0,background:"#000",zIndex:1410,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:"env(safe-area-inset-top, 20px)",paddingBottom:"env(safe-area-inset-bottom, 20px)"},children:[t.jsxs("div",{style:{flex:1,width:"100%",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:["none"!==Rt&&t.jsx("div",{style:{position:"absolute",top:12,left:12,zIndex:601,pointerEvents:"none"},children:"sponsoredBy"===Rt&&Mt?t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,background:Wt||"#000",padding:"6px 12px",borderRadius:6,color:"#fff",fontSize:12,fontWeight:600,opacity:.95},children:[t.jsx("span",{children:"Sponsored by"}),t.jsx("img",{src:Mt,alt:"sponsor",style:{height:20,maxWidth:80,objectFit:"contain"}})]}):t.jsx("div",{style:{background:Wt||"#ff0000",padding:"6px 12px",borderRadius:6,color:"#fff",fontSize:12,fontWeight:700,letterSpacing:"0.5px",opacity:.95,minWidth:45,textAlign:"center"},children:"AD"})}),wt?(()=>{const e=(e=>{let t="";if(e.includes("youtu.be/"))t=e.split("youtu.be/")[1].split("?")[0];else if(e.includes("youtube.com"))try{t=new URL(e).searchParams.get("v")||""}catch{}return t})(wt);return((o=wt).includes("youtube.com")||o.includes("youtu.be"))&&e?t.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${e}?modestbranding=1&controls=1&fs=1&autoplay=1`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{background:"#000"}}):t.jsx("video",{src:wt,autoPlay:!0,style:{width:"100%",height:"100%",objectFit:"contain",background:"#000"}});var o})():t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",background:"#1a1a1a"},children:[t.jsx("div",{style:{fontSize:64,marginBottom:16},children:"â–¶ï¸"}),t.jsxs("div",{style:{fontSize:16,lineHeight:1.6,fontWeight:600,color:"#fff"},children:[t.jsx("div",{style:{marginBottom:8},children:Qe||"Advertisement"}),t.jsx("div",{style:{fontSize:13,opacity:.8},children:yt||"Watch Now"})]})]})]}),("text"===qt&&Ft||"text"!==qt&&Vt)&&t.jsxs("div",{style:{width:"100%",padding:"12px 16px",paddingBottom:"calc(env(safe-area-inset-bottom, 12px) + 12px)",background:"rgba(0,0,0,0.8)",display:"flex",flexDirection:"column",alignItems:"center",gap:8},children:[t.jsx("div",{style:{fontSize:24,color:Ut||"#4B9EFF"},children:"v"}),"text"===qt?t.jsx("button",{style:{width:"100%",padding:"12px 16px",background:Ut||"#4B9EFF",color:"#fff",border:"none",borderRadius:8,fontSize:14,fontWeight:700,cursor:"pointer"},children:Ft}):"image"===qt?t.jsx("img",{src:Vt,alt:"CTA",style:{width:"100%",maxHeight:"120px",objectFit:"contain",borderRadius:8}}):"gif"===qt?t.jsx("img",{src:Vt,alt:"CTA GIF",style:{width:"100%",maxHeight:"120px",objectFit:"contain",borderRadius:8}}):"video"===qt?t.jsx("video",{src:Vt,autoPlay:!0,loop:!0,style:{width:"100%",maxHeight:"120px",objectFit:"contain",borderRadius:8,background:"#000"}}):null]})]}),"videoOverlay"===bt&&t.jsx("div",{style:{position:"fixed",bottom:"calc(env(safe-area-inset-bottom, 20px) + 60px)",left:0,right:0,zIndex:1410,height:"auto",pointerEvents:"none",display:"flex",alignItems:"flex-start",justifyContent:"center",paddingLeft:0,paddingTop:_e?"24px":0},children:t.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[_e&&t.jsx("div",{style:{position:"absolute",bottom:"100%",left:"0px",transform:"translateY(6px)",background:P(nt||"#E41E24",null!=ft?ft:1),color:st||"#ffffff",padding:"6px 12px",borderRadius:"6px 6px 0 0",fontSize:"12px",fontWeight:"900",letterSpacing:"0.6px",boxShadow:"none",whiteSpace:"nowrap",textTransform:"uppercase",border:"1px solid rgba(0,0,0,0.06)"},children:_e}),t.jsx("div",{style:{background:P(nt||"#dc2626",null!=xt?xt:1),padding:"12px 24px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",boxShadow:xt>.5?"0 6px 18px rgba(0,0,0,0.35)":"none",borderRadius:"6px",color:st||"#ffffff",fontSize:"14px",fontWeight:"700",letterSpacing:"0.25px"},children:t.jsxs("div",{children:["marquee"===Qt&&t.jsx("div",{style:{display:"flex",animation:"marqueeScroll 14s linear infinite",whiteSpace:"nowrap"},children:ot&&ot.length>0?ot.map(e=>t.jsxs("span",{style:{paddingRight:32,display:"inline-block"},children:[et," ",e.text]},e.id)):t.jsxs("span",{style:{display:"inline-block"},children:[et," ",Qe||"Your announcement here"]})}),"fade"===Qt&&t.jsx("div",{style:{animation:"fadeInOut 6s ease-in-out infinite",textAlign:"center",whiteSpace:"nowrap",minWidth:"300px"},children:ot&&ot.length>0?ot[0]&&t.jsxs("span",{children:[et," ",ot[0].text]}):t.jsxs("span",{children:[et," ",Qe||"Your announcement here"]})}),"slide"===Qt&&t.jsx("div",{style:{animation:"slideInOut 8s ease-in-out infinite",whiteSpace:"nowrap",minWidth:"300px",textAlign:"center"},children:ot&&ot.length>0?ot[0]&&t.jsxs("span",{children:[et," ",ot[0].text]}):t.jsxs("span",{children:[et," ",Qe||"Your announcement here"]})})]})})]})}),t.jsx("style",{children:"\n                @keyframes marqueeScroll {\n                  0% { \n                    transform: translateX(-100%);\n                  }\n                  100% { \n                    transform: translateX(100%);\n                  }\n                }\n                @keyframes fadeInOut {\n                  0%, 100% { opacity: 0; }\n                  50% { opacity: 1; }\n                }\n                @keyframes slideInOut {\n                  0%, 100% { transform: translateX(-100%); }\n                  50% { transform: translateX(0); }\n                }\n                \n                /* Mobile Responsive Template Cards */\n                @media (max-width: 768px) {\n                  .template-card {\n                    flex-direction: column !important;\n                  }\n                  \n                  .template-card-content {\n                    flex-direction: column !important;\n                    align-items: flex-start !important;\n                  }\n                  \n                  .template-actions {\n                    width: 100% !important;\n                    flex-direction: row !important;\n                    gap: 8px !important;\n                    margin-top: 12px !important;\n                  }\n                  \n                  .template-actions button {\n                    flex: 1 !important;\n                  }\n                }\n              "})]})}),Bo&&t.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",zIndex:1500,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>Mo(!1),children:t.jsxs("div",{onClick:e=>e.stopPropagation(),style:{width:720,maxWidth:"96%",maxHeight:"88vh",overflowY:"auto",background:"white",borderRadius:16,padding:0,boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[t.jsx("div",{style:{padding:"28px 32px",borderBottom:"1px solid #e5e7eb",background:"linear-gradient(135deg, #f3f4f6 0%, #ffffff 100%)"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:22,fontWeight:700,color:"#111827"},children:"Saved Templates"}),t.jsx("p",{style:{margin:0,fontSize:13,color:"#6b7280"},children:"Manage your bottom ad templates"})]}),t.jsx("button",{onClick:()=>Mo(!1),style:{padding:"8px 12px",background:"#ef4444",color:"white",border:"none",borderRadius:8,cursor:"pointer",fontSize:13,fontWeight:600},children:"Close"})]})}),t.jsx("div",{style:{padding:"24px 32px"},children:0===(Io||[]).length?t.jsxs("div",{style:{padding:"48px 24px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:56,marginBottom:12},children:"ðŸ“‹"}),t.jsx("div",{style:{fontSize:16,fontWeight:600,color:"#111827",marginBottom:6},children:"No templates yet"}),t.jsx("div",{style:{fontSize:13,color:"#6b7280"},children:"Create your first template to get started"})]}):t.jsx("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1fr)",gap:16},children:(Io||[]).map(e=>t.jsxs("div",{className:"template-card",style:{display:"flex",gap:16,padding:"18px",borderRadius:12,border:"1px solid #e5e7eb",background:"#ffffff",transition:"all 0.2s",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[t.jsx("div",{style:{width:72,height:72,borderRadius:12,overflow:"hidden",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.avatar?t.jsx("img",{src:e.avatar,alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):t.jsx("div",{style:{color:"white",fontWeight:700,fontSize:28},children:(e.name||"A").charAt(0).toUpperCase()})}),t.jsxs("div",{style:{flex:1,minWidth:0,overflow:"hidden"},children:[t.jsx("div",{style:{fontWeight:700,fontSize:15,color:"#111827",marginBottom:6},children:e.name}),e.textItems&&e.textItems.length>0?t.jsxs("div",{style:{color:"#6b7280",fontSize:13,lineHeight:"1.5",marginBottom:8},children:[t.jsxs("strong",{children:["Text items (",e.textItems.length,"):"]}),t.jsxs("ul",{style:{margin:"4px 0 0 20px",padding:0},children:[e.textItems.slice(0,3).map((e,o)=>t.jsx("li",{style:{fontSize:12,color:"#6b7280"},children:e},o)),e.textItems.length>3&&t.jsxs("li",{style:{fontSize:12,color:"#9ca3af"},children:["... and ",e.textItems.length-3," more"]})]}),t.jsxs("div",{style:{fontSize:11,color:"#9ca3af",marginTop:6},children:["Interval: ",e.textInterval,"ms | Animation: ",e.textAnimation," | Entry: ",e.cardAnimation]})]}):t.jsx("div",{style:{color:"#6b7280",fontSize:13,lineHeight:"1.5",marginBottom:8},children:e.text}),e.link&&t.jsxs("div",{onClick:()=>Do(t=>({...t,[e.id]:!t[e.id]})),style:{fontSize:12,color:"#3b82f6",cursor:"pointer",maxWidth:"100%",display:"block",wordBreak:No[e.id]?"break-all":"keep-all",whiteSpace:No[e.id]?"normal":"nowrap",overflow:"hidden",textOverflow:No[e.id]?"clip":"ellipsis",transition:"all 0.2s",borderRadius:4,padding:"2px 4px",marginLeft:"-4px"},title:e.link,children:["ðŸ”— ",e.link," ",No[e.id]?"":"..."]})]}),t.jsxs("div",{className:"template-actions",style:{display:"flex",flexDirection:"column",gap:8,justifyContent:"center",flexShrink:0},children:[t.jsx("button",{onClick:()=>{var t;(t=e)&&(Te(t.name||""),Ie(t.avatar||""),t.textItems&&t.textItems.length>0?(Ae(t.textItems),Le(t.textInterval||5e3),Ne(t.textAnimation||"fade"),Oe(t.cardAnimation||"fade"),$e(t.cardEffect||"none"),Ye(t.cardExitAnimation||"fadeOut"),He(t.borderColor||"rgba(255, 0, 255, 0.6)")):Be(t.text||""),Je(t.link||""),Y(t.assets||[]),Mo(!1),je({type:"success",title:"Applied",message:`Template "${t.name||"Untitled"}" loaded into form fields.`}))},style:{padding:"10px 16px",borderRadius:8,background:"#10b981",color:"white",border:"none",cursor:"pointer",fontWeight:600,fontSize:13,transition:"all 0.2s",whiteSpace:"nowrap"},children:"âœ“ Apply"}),t.jsx("button",{onClick:()=>Eo(e),style:{padding:"10px 16px",borderRadius:8,background:"#f59e0b",color:"white",border:"none",cursor:"pointer",fontWeight:600,fontSize:13,transition:"all 0.2s",whiteSpace:"nowrap"},children:"âœŽ Edit"}),t.jsx("button",{onClick:()=>{confirm("Delete this template?")&&(async e=>{try{if((await L(`${E()}/templates/bottom/${e}`,{method:"DELETE"})).ok){const t=(Io||[]).filter(t=>t.id!==e);return Wo(t),localStorage.setItem("bottomAdTemplates",JSON.stringify(t)),void je({type:"success",title:"Deleted",message:"Template deleted."})}}catch(o){}const t=(Io||[]).filter(t=>t.id!==e);Wo(t),localStorage.setItem("bottomAdTemplates",JSON.stringify(t)),je({type:"success",title:"Deleted",message:"Template deleted locally."})})(e.id)},style:{padding:"10px 16px",borderRadius:8,background:"#ef4444",color:"white",border:"none",cursor:"pointer",fontWeight:600,fontSize:13,transition:"all 0.2s",whiteSpace:"nowrap"},children:"ðŸ—‘ Delete"})]})]},e.id))})}),Ao&&t.jsxs("div",{style:{marginTop:24,padding:"24px",borderTop:"1px solid #e5e7eb",background:"#f9fafb",borderRadius:"0 0 16px 16px"},children:[t.jsx("h3",{style:{margin:"0 0 20px 0",fontSize:18,fontWeight:700,color:"#111827"},children:"Edit Template"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:20},children:[t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:13,color:"#374151",fontWeight:600,display:"block",marginBottom:8},children:"Profile Name"}),t.jsx("input",{value:Ao.name,onChange:e=>Eo({...Ao,name:e.target.value}),style:{width:"100%",padding:"10px 12px",marginTop:0,borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:13,color:"#374151",fontWeight:600,display:"block",marginBottom:8},children:"Avatar URL"}),t.jsx("input",{value:Ao.avatar,onChange:e=>Eo({...Ao,avatar:e.target.value}),style:{width:"100%",padding:"10px 12px",marginTop:0,borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),Ao.textItems&&Ao.textItems.length>0?t.jsxs("div",{style:{gridColumn:"1 / -1"},children:[t.jsx("label",{style:{fontSize:13,color:"#374151",fontWeight:600,display:"block",marginBottom:8},children:"Text Items"}),t.jsx("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:12,background:"white",maxHeight:"150px",overflowY:"auto"},children:Ao.textItems.map((e,o)=>t.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:o===Ao.textItems.length-1?0:8},children:[t.jsx("input",{value:e,onChange:e=>{const t=Ao.textItems.slice();t[o]=e.target.value,Eo({...Ao,textItems:t})},placeholder:`Text item ${o+1}`,style:{flex:1,padding:"6px",borderRadius:6,border:"1px solid #e5e7eb",fontSize:12}}),t.jsx("button",{onClick:()=>{Eo({...Ao,textItems:Ao.textItems.filter((e,t)=>t!==o)})},style:{padding:"4px 8px",background:"#fee2e2",color:"#991b1b",border:"none",borderRadius:6,cursor:"pointer",fontSize:11,fontWeight:500},children:"Ã—"})]},o))}),t.jsx("button",{onClick:()=>Eo({...Ao,textItems:[...Ao.textItems||[],""]}),style:{marginTop:8,padding:"6px 12px",background:"#dbeafe",color:"#0369a1",border:"1px solid #7dd3fc",borderRadius:6,cursor:"pointer",fontSize:11,fontWeight:600},children:"+ Add Text Item"})]}):t.jsxs("div",{style:{gridColumn:"1 / -1"},children:[t.jsx("label",{style:{fontSize:13,color:"#374151",fontWeight:600,display:"block",marginBottom:8},children:"Ad Text"}),t.jsx("textarea",{value:Ao.text,onChange:e=>Eo({...Ao,text:e.target.value}),rows:3,style:{width:"100%",padding:"10px 12px",marginTop:0,borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:13,color:"#374151",fontWeight:600,display:"block",marginBottom:8},children:"Text Interval (ms)"}),t.jsx("input",{type:"number",value:Ao.textInterval||5e3,onChange:e=>Eo({...Ao,textInterval:parseInt(e.target.value)||5e3}),style:{width:"100%",padding:"10px 12px",marginTop:0,borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:13,color:"#374151",fontWeight:600,display:"block",marginBottom:8},children:"Text Animation"}),t.jsx(N,{value:Ao.textAnimation||"fade",onChange:e=>Eo({...Ao,textAnimation:e}),options:[{value:"fade",label:"Fade",icon:"âœ¨",description:"Smooth opacity transition"},{value:"slide-left",label:"Slide Left",icon:"â†’",description:"Text moves from right to left"},{value:"slide-right",label:"Slide Right",icon:"â†",description:"Text moves from left to right"},{value:"bounce",label:"Bounce",icon:"ðŸŽ¾",description:"Spring-like bounce effect"},{value:"scale",label:"Scale",icon:"ðŸ“",description:"Size grows and shrinks"}]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:13,color:"#374151",fontWeight:600,display:"block",marginBottom:8},children:"Card Animation"}),t.jsx(N,{value:Ao.cardAnimation||"fade",onChange:e=>Eo({...Ao,cardAnimation:e}),options:[{value:"fade",label:"Fade",icon:"âœ¨",description:"Simple opacity fade-in"},{value:"line-first",label:"Line First",icon:"â”",description:"Purple line appears first"},{value:"slide-down",label:"Slide Down",icon:"â¬‡ï¸",description:"Comes from top of screen"},{value:"bounce-in",label:"Bounce In",icon:"â¹ï¸",description:"Bouncy entrance animation"},{value:"scale-up",label:"Scale Up",icon:"ðŸ“",description:"Grows from center"}]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:13,color:"#374151",fontWeight:600,display:"block",marginBottom:8},children:"Card Effect (After Entry)"}),t.jsx(N,{value:Ao.cardEffect||"none",onChange:e=>Eo({...Ao,cardEffect:e}),options:[{value:"none",label:"None",icon:"â­•",description:"No additional effect"},{value:"pulse",label:"Pulse",icon:"ðŸ’“",description:"Subtle breathing effect"},{value:"shake",label:"Shake",icon:"ðŸ“³",description:"Slight horizontal shaking"},{value:"glow",label:"Glow",icon:"âš¡",description:"Purple glowing aura"},{value:"float",label:"Float",icon:"ðŸŽˆ",description:"Gentle up and down motion"},{value:"rotate",label:"Rotate",icon:"ðŸ”„",description:"Subtle rotating effect"}]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:13,color:"#374151",fontWeight:600,display:"block",marginBottom:8},children:"Exit Animation"}),t.jsx(N,{value:Ao.cardExitAnimation||"fadeOut",onChange:e=>Eo({...Ao,cardExitAnimation:e}),options:[{value:"fadeOut",label:"Fade Out",icon:"âœ¨",description:"Smooth opacity fade-out"},{value:"slideOut",label:"Slide Out",icon:"â†’",description:"Slides to the right"},{value:"scaleDown",label:"Scale Down",icon:"ðŸ“",description:"Shrinks and disappears"},{value:"bounceOut",label:"Bounce Out",icon:"ðŸŽ¾",description:"Bouncy exit animation"},{value:"rotateOut",label:"Rotate Out",icon:"ðŸ”„",description:"Rotates while fading"}]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:13,color:"#374151",fontWeight:600,display:"block",marginBottom:8},children:"Border Color"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[t.jsx("input",{type:"color",value:Ao.borderColor||"#ff00ff",onChange:e=>Eo({...Ao,borderColor:e.target.value}),style:{width:50,height:50,borderRadius:8,border:"1px solid #e5e7eb",cursor:"pointer"}}),t.jsx("div",{style:{fontSize:12,color:"#6b7280",flex:1},children:"Customize the purple line color"})]})]}),t.jsxs("div",{style:{gridColumn:"1 / -1"},children:[t.jsx("label",{style:{fontSize:13,color:"#374151",fontWeight:600,display:"block",marginBottom:8},children:"Target Link"}),t.jsx("input",{value:Ao.link,onChange:e=>Eo({...Ao,link:e.target.value}),style:{width:"100%",padding:"10px 12px",marginTop:0,borderRadius:8,border:"1px solid #e5e7eb",fontSize:13}})]})]}),t.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"flex-end"},children:[t.jsx("button",{onClick:()=>Eo(null),style:{padding:"10px 20px",borderRadius:8,border:"1px solid #e5e7eb",background:"white",fontWeight:600,fontSize:13,cursor:"pointer"},children:"Cancel"}),t.jsx("button",{onClick:()=>(async(e,t)=>{try{const o=await L(`${E()}/templates/bottom/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(o.ok){const t=await o.json(),r=(Io||[]).map(o=>o.id===e?t.template:o);return Wo(r),localStorage.setItem("bottomAdTemplates",JSON.stringify(r)),je({type:"success",title:"Updated",message:"Template updated."}),void Eo(null)}}catch(r){}const o=(Io||[]).map(o=>o.id===e?{...o,...t}:o);Wo(o),localStorage.setItem("bottomAdTemplates",JSON.stringify(o)),je({type:"success",title:"Updated",message:"Template updated locally."}),Eo(null)})(Ao.id,Ao),style:{padding:"10px 20px",borderRadius:8,background:"#3b82f6",color:"white",border:"none",fontWeight:600,fontSize:13,cursor:"pointer"},children:"Save Changes"})]})]})]})}),Lo&&(()=>{const e=pe.find(e=>e.id===Lo.id)||Lo;return t.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",zIndex:1500,display:"flex",alignItems:"center",justifyContent:"center",padding:20},onClick:()=>Po(null),children:t.jsxs("div",{onClick:e=>e.stopPropagation(),style:{width:"100%",maxWidth:600,maxHeight:"90vh",overflowY:"auto",background:"white",borderRadius:12,padding:24},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:20},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:20,fontWeight:700},children:"Manage Ads"}),t.jsxs("p",{style:{margin:"0 0 20px 0",fontSize:13,color:"#6b7280"},children:["Video: ",t.jsx("strong",{children:e.title})]})]}),t.jsx("button",{onClick:()=>Po(null),style:{padding:"6px 12px",background:"#ef4444",color:"white",border:"none",borderRadius:6,cursor:"pointer",fontSize:12,fontWeight:600},children:"Close"})]}),t.jsxs("div",{style:{marginBottom:24,padding:16,border:"1px solid #e5e7eb",borderRadius:8,background:"#f9fafb"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[t.jsxs("h3",{style:{margin:"0",fontSize:15,fontWeight:700,color:"#111827"},children:["Bottom Ads (",e.ads?.bottom?.length||0,")"]}),e.ads?.bottom&&e.ads.bottom.length>0&&t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontSize:12,fontWeight:600,color:"#ef4444"},children:[t.jsx("input",{type:"checkbox",onChange:()=>Mr(e.id,"bottom"),style:{cursor:"pointer"}}),"Remove All"]})]}),e.ads?.bottom&&e.ads.bottom.length>0?t.jsx(t.Fragment,{children:t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,marginBottom:12},children:e.ads.bottom.map((o,r)=>t.jsxs("div",{style:{padding:10,background:"white",borderRadius:6,border:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"start"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontWeight:600,fontSize:13},children:o.profileName||"Unnamed Ad"}),t.jsxs("div",{style:{fontSize:12,color:"#6b7280",marginTop:4},children:["Start: ",o.startTime,"s | Duration: ",o.duration,"s | Max Displays: ",o.displayCount||"unlimited"]}),t.jsx("div",{style:{fontSize:12,color:"#6b7280",marginTop:2},children:o.text})]}),t.jsx("button",{onClick:()=>Mr(e.id,"bottom",o.id),style:{padding:"6px 12px",background:"#ef4444",color:"white",border:"none",borderRadius:6,cursor:"pointer",fontSize:12,fontWeight:600,whiteSpace:"nowrap",marginLeft:8},children:"Remove"})]},o.id||r))})}):t.jsx("div",{style:{padding:12,textAlign:"center",color:"#9ca3af",fontSize:13},children:"No bottom ads assigned"})]}),t.jsxs("div",{style:{marginBottom:24,padding:16,border:"1px solid #e5e7eb",borderRadius:8,background:"#f9fafb"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[t.jsxs("h3",{style:{margin:"0",fontSize:15,fontWeight:700,color:"#111827"},children:["Overlay Ads (",e.ads?.overlays?.length||0,")"]}),e.ads?.overlays&&e.ads.overlays.length>0&&t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontSize:12,fontWeight:600,color:"#ef4444"},children:[t.jsx("input",{type:"checkbox",onChange:()=>Mr(e.id,"overlay"),style:{cursor:"pointer"}}),"Remove All"]})]}),e.ads?.overlays&&e.ads.overlays.length>0?t.jsx(t.Fragment,{children:t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,marginBottom:12},children:e.ads.overlays.map((o,r)=>t.jsxs("div",{style:{padding:10,background:"white",borderRadius:6,border:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"start"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontWeight:600,fontSize:13},children:o.companyName||"Unnamed Ad"}),t.jsxs("div",{style:{fontSize:12,color:"#6b7280",marginTop:4},children:["Start: ",o.startTime,"s | Duration: ",o.duration,"s | Max Displays: ",o.displayCount||"unlimited"]}),t.jsx("div",{style:{fontSize:12,color:"#6b7280",marginTop:2},children:o.text})]}),t.jsx("button",{onClick:()=>Mr(e.id,"overlay",o.id),style:{padding:"6px 12px",background:"#ef4444",color:"white",border:"none",borderRadius:6,cursor:"pointer",fontSize:12,fontWeight:600,whiteSpace:"nowrap",marginLeft:8},children:"Remove"})]},o.id||r))})}):t.jsx("div",{style:{padding:12,textAlign:"center",color:"#9ca3af",fontSize:13},children:"No overlay ads assigned"})]})]})})})(),t.jsxs("footer",{style:{position:"fixed",bottom:0,left:0,right:0,borderTop:"1px solid #e5e7eb",background:"white",display:"flex",justifyContent:"space-around",alignItems:"center",gap:"8px",zIndex:40,boxShadow:"0 -4px 12px rgba(0, 0, 0, 0.08)",paddingTop:"10px",paddingBottom:"calc(12px + env(safe-area-inset-bottom, 0px))",minHeight:"70px"},children:[t.jsxs("button",{onClick:()=>window.location.href="/",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0",width:"50px",height:"50px",backgroundColor:"transparent",color:"#4f46e5",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.3s ease",flexDirection:"column",gap:"4px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(79,70,229,0.1)",e.currentTarget.style.color="#4338ca"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="#4f46e5"},title:"Go to App",children:[t.jsx(T,{size:24}),t.jsx("span",{children:"App"})]}),t.jsxs("button",{onClick:()=>O("promotions"),style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0",width:"50px",height:"50px",backgroundColor:"promotions"===A?"rgba(245,158,11,0.1)":"transparent",color:"promotions"===A?"#f59e0b":"#6b7280",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"12px",fontWeight:"promotions"===A?"700":"600",transition:"all 0.3s ease",flexDirection:"column",gap:"4px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(245,158,11,0.1)",e.currentTarget.style.color="#f59e0b"},onMouseLeave:e=>{"promotions"!==A&&(e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="#6b7280")},title:"Manage Promotions",children:[t.jsx(h,{size:24}),t.jsx("span",{children:"Promotions"})]}),t.jsxs("button",{onClick:()=>O("templates"),style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0",width:"50px",height:"50px",backgroundColor:"templates"===A?"rgba(59,130,246,0.1)":"transparent",color:"templates"===A?"#3b82f6":"#6b7280",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"12px",fontWeight:"templates"===A?"700":"600",transition:"all 0.3s ease",flexDirection:"column",gap:"4px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(59,130,246,0.1)",e.currentTarget.style.color="#3b82f6"},onMouseLeave:e=>{"templates"!==A&&(e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="#6b7280")},title:"Manage Overlay Templates",children:[t.jsx(C,{size:24}),t.jsx("span",{children:"Templates"})]}),t.jsxs("button",{onClick:()=>O("ads"),style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0",width:"50px",height:"50px",backgroundColor:"ads"===A?"rgba(16,185,129,0.1)":"transparent",color:"ads"===A?"#10b981":"#6b7280",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"12px",fontWeight:"ads"===A?"700":"600",transition:"all 0.3s ease",flexDirection:"column",gap:"4px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(16,185,129,0.1)",e.currentTarget.style.color="#10b981"},onMouseLeave:e=>{"ads"!==A&&(e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="#6b7280")},title:"Manage Ads",children:[t.jsx(R,{size:24}),t.jsx("span",{children:"Ads"})]})]}),eo&&Ui&&t.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.95)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",overflow:"hidden",padding:G?"0":"landscape"===qi?"20px":"40px 20px"},children:[t.jsxs("div",{style:{position:"absolute",top:"12px",right:"12px",zIndex:1e4,display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:()=>_(!G),style:{width:"40px",height:"40px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"2px solid white",borderRadius:"6px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",fontWeight:"bold"},onMouseEnter:e=>{e.target.style.backgroundColor="rgba(255, 255, 255, 0.2)",e.target.style.transform="scale(1.1)"},onMouseLeave:e=>{e.target.style.backgroundColor="rgba(255, 255, 255, 0.1)",e.target.style.transform="scale(1)"},title:G?"Exit fullscreen":"Fullscreen/Landscape",children:t.jsx(I,{size:20})}),t.jsx("button",{onClick:()=>Ji(!0),style:{width:"40px",height:"40px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"2px solid white",borderRadius:"6px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",fontWeight:"bold"},onMouseEnter:e=>{e.target.style.backgroundColor="rgba(255, 255, 255, 0.2)",e.target.style.transform="scale(1.1)"},onMouseLeave:e=>{e.target.style.backgroundColor="rgba(255, 255, 255, 0.1)",e.target.style.transform="scale(1)"},title:"Close preview (Esc)",children:t.jsx(X,{size:20})})]}),t.jsxs("div",{style:{position:"absolute",top:"60px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(16, 185, 129, 0.25)",border:"2px solid #10b981",borderRadius:"6px",padding:"8px 16px",color:"#10b981",fontSize:"13px",fontWeight:"600",textAlign:"center",zIndex:10001,animation:"slideDown 0.3s ease",maxWidth:"80%",display:"flex",alignItems:"center",gap:"6px"},children:[t.jsx(f,{size:14})," Overlay created"]}),t.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",maxWidth:G?"100vw":"landscape"===qi?"95vw":"100vw",maxHeight:G?"100vh":"landscape"===qi?"90vh":"100vh",aspectRatio:G?"auto":"16/9",position:"relative",backgroundColor:"#1a1a1a",borderRadius:G?"0px":"landscape"===qi?"12px":"0px"},"data-preview-video-container":!0,children:[Ui.videoId&&pe.find(e=>e.id===Ui.videoId)&&t.jsx("video",{src:pe.find(e=>e.id===Ui.videoId)?.videoUrl,autoPlay:!0,controls:!0,"data-preview-video-container":!0,style:{width:"100%",height:"100%",objectFit:"contain",backgroundColor:"#000"}}),t.jsxs("div",{"data-preview-overlay":!0,style:{position:"absolute",left:`${Ui.x}%`,top:`${Ui.y}%`,width:`${Ui.width}%`,height:`${Ui.height}%`,transform:"translate(-50%, -50%)",cursor:"grab",borderRadius:"8px",overflow:"visible",pointerEvents:"auto",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.4)",transition:"all 0.2s ease",border:"2px solid rgba(245, 158, 11, 0.7)",userSelect:"none"},onMouseEnter:e=>{e.currentTarget.style.boxShadow="0 12px 32px rgba(245, 158, 11, 0.4)",e.currentTarget.style.border="2px solid rgba(245, 158, 11, 0.9)"},onMouseLeave:e=>{e.currentTarget.dataset.dragging||(e.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.4)",e.currentTarget.style.border="2px solid rgba(245, 158, 11, 0.7)")},onMouseDown:e=>{if(e.target.closest("[data-resize-handle]"))return;e.preventDefault();const t=document.querySelector("[data-preview-video-container]")?.getBoundingClientRect();if(!t)return;const o=e.clientX,r=e.clientY,n=Ui.x,i=Ui.y,s=e.currentTarget;s.dataset.dragging="true",s.style.cursor="grabbing";const a=e=>{e.preventDefault();const s=e.clientX-o,a=e.clientY-r,l=s/t.width*100,d=a/t.height*100,p=Math.max(0,Math.min(100,n+l)),c=Math.max(0,Math.min(100,i+d));Yi(e=>({...e,x:p,y:c}))},l=()=>{s.dataset.dragging="false",s.style.cursor="grab",document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",l)},onPointerDown:e=>{if(e.target.closest("[data-resize-handle]"))return;e.preventDefault();const t=document.querySelector("[data-preview-video-container]")?.getBoundingClientRect();if(!t)return;const o=e.clientX,r=e.clientY,n=Ui.x,i=Ui.y,s=e.currentTarget;s.setPointerCapture&&s.setPointerCapture(e.pointerId),s.dataset.dragging="true",s.style.cursor="grabbing";let a=0;let l=n,d=i;const p=e=>{e.preventDefault();const s=e.clientX-o,p=e.clientY-r,c=s/t.width*100,x=p/t.height*100;l=Math.max(0,Math.min(100,n+c)),d=Math.max(0,Math.min(100,i+x));const g=performance.now();g-a>=16&&(a=g,Yi(e=>({...e,x:l,y:d})))},c=e=>{s.releasePointerCapture&&s.releasePointerCapture(e.pointerId),s.dataset.dragging="false",s.style.cursor="grab",Yi(e=>({...e,x:l,y:d})),document.removeEventListener("pointermove",p),document.removeEventListener("pointerup",c)};document.addEventListener("pointermove",p),document.addEventListener("pointerup",c)},onClick:()=>{Ui.clickUrl&&window.open(Ui.clickUrl,"_blank")},children:[t.jsx("div",{"data-resize-handle":!0,onMouseDown:e=>{e.preventDefault(),e.stopPropagation();const t=document.querySelector("[data-preview-video-container]")?.getBoundingClientRect();if(!t)return;const o=e.clientX,r=e.clientY,n=Ui.width,i=Ui.height,s=e=>{e.preventDefault();const s=e.clientX-o,a=e.clientY-r,l=s/t.width*100,d=a/t.height*100;Yi(e=>({...e,width:Math.max(5,n+l),height:Math.max(5,i+d)}))},a=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",a)},onTouchStart:e=>{e.preventDefault(),e.stopPropagation();const t=document.querySelector("[data-preview-video-container]")?.getBoundingClientRect();if(!t||!e.touches||!e.touches[0])return;const o=e.touches[0].clientX,r=e.touches[0].clientY,n=Ui.width,i=Ui.height,s=e=>{if(!e.touches||!e.touches[0])return;e.preventDefault();const s=e.touches[0].clientX-o,a=e.touches[0].clientY-r,l=s/t.width*100,d=a/t.height*100;Yi(e=>({...e,width:Math.max(5,n+l),height:Math.max(5,i+d)}))},a=()=>{document.removeEventListener("touchmove",s),document.removeEventListener("touchend",a)};document.addEventListener("touchmove",s,{passive:!1}),document.addEventListener("touchend",a)},style:{position:"absolute",bottom:"-6px",right:"-6px",width:"20px",height:"20px",backgroundColor:"#3b82f6",cursor:"nwse-resize",borderRadius:"2px",zIndex:30,pointerEvents:"auto",border:"2px solid white",boxShadow:"0 0 6px rgba(59, 130, 246, 0.6)"},title:"Drag to resize"}),"image"===Ui.assetType?t.jsx("img",{src:Ui.assetUrl,alt:"Ad Overlay",style:{width:"100%",height:"100%",objectFit:"cover",display:"block",pointerEvents:"none"}}):"video"===Ui.assetType?t.jsx("video",{src:Ui.assetUrl,autoPlay:!0,loop:!0,muted:!0,style:{width:"100%",height:"100%",objectFit:"cover",display:"block",pointerEvents:"none"}}):t.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:Ui.color||Ui.overlayBgColor||"#000000",display:"flex",alignItems:"center",justifyContent:"center",color:Ui.overlayColor||"white",fontSize:"18px",fontWeight:"bold",padding:"16px",textAlign:"center",overflow:"hidden",wordWrap:"break-word",pointerEvents:"none"},children:Ui.text})]})]}),t.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"20px",right:"20px",color:"white",fontSize:"14px",textAlign:"center"},children:[t.jsx("div",{style:{display:"flex",gap:"12px",justifyContent:"center",marginBottom:"12px"},children:t.jsx("button",{onClick:()=>Ji(!0),style:{padding:"10px 20px",backgroundColor:"#1f2937",color:"white",border:"2px solid #4b5563",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"600",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.backgroundColor="#374151",e.target.style.borderColor="#6b7280"},onMouseLeave:e=>{e.target.style.backgroundColor="#1f2937",e.target.style.borderColor="#4b5563"},children:"Close Preview"})}),t.jsxs("p",{style:{margin:"0 0 8px 0",opacity:.8},children:["image"===Ui.assetType&&"ðŸ“¸ Image Overlay","video"===Ui.assetType&&"ðŸŽ¬ Video Overlay","text"===Ui.assetType&&"ðŸ“ Text Overlay",Ui.clickUrl&&" â€¢ ðŸ”— Clickable",Ui.duration&&` â€¢ Duration: ${Ui.duration}s`]}),t.jsxs("p",{style:{margin:"0",fontSize:"12px",opacity:.6},children:["landscape"===qi?"ðŸ“± Landscape Mode":"ðŸ“± Portrait Mode"," â€¢ This is how the ad will appear to users"]})]}),Vi&&t.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.6)",zIndex:2e4,display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsxs("div",{style:{width:"420px",background:"white",borderRadius:"8px",padding:"20px",boxShadow:"0 10px 40px rgba(0,0,0,0.4)"},children:[t.jsx("h3",{style:{margin:"0 0 8px 0"},children:"Save changes?"}),t.jsx("p",{style:{margin:"0 0 12px 0",color:"#374151"},children:"You can continue editing or save this overlay and apply it to the current video (and save as a reusable template)."}),t.jsx("div",{style:{marginBottom:"10px"},children:t.jsx("input",{placeholder:"Template name (optional)",value:_i,onChange:e=>Ki(e.target.value),style:{width:"100%",padding:"8px 10px",borderRadius:"6px",border:"1px solid #d1d5db"}})}),t.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[t.jsx("button",{onClick:()=>{Ji(!1),to(!1)},style:{padding:"8px 12px",background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer"},children:"Continue Editing"}),t.jsx("button",{onClick:()=>((e=!0)=>{if(Ui){if(J(e=>({...e,overlayPosition:{x:Ui.x,y:Ui.y},overlaySize:{width:Ui.width,height:Ui.height}})),e){const e={id:Date.now(),name:_i&&_i.trim()?_i.trim():`Template ${Gi.length+1}`,overlay:{...Ui}};Xi(t=>[e,...t]),Ki("")}to(!1),Ji(!1)}})(!0),style:{padding:"8px 12px",background:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Save and Apply"})]})]})}),"myProfile"===A&&e&&t.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"32px",gap:"16px"},children:[t.jsx("button",{onClick:()=>O("videos"),style:{background:"none",border:"none",color:"#3b82f6",cursor:"pointer",fontSize:"14px",fontWeight:"600",padding:"8px 12px",borderRadius:"6px",transition:"all 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#eff6ff",onMouseLeave:e=>e.target.style.backgroundColor="transparent",children:"â† Back to Dashboard"}),t.jsx("h1",{style:{margin:0,fontSize:"24px",fontWeight:"700",color:"#111827"},children:"My Profile"})]}),t.jsx("div",{style:{background:"white",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"32px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:Si.isEditing?t.jsx(t.Fragment,{children:t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"700",color:"#6b7280",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Full Name"}),t.jsx("input",{type:"text",value:Si.name,onChange:e=>Ci({...Si,name:e.target.value}),style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",fontFamily:"inherit",boxSizing:"border-box",transition:"all 0.2s"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#d1d5db"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"700",color:"#6b7280",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Email Address"}),t.jsx("input",{type:"email",value:Si.email,onChange:e=>Ci({...Si,email:e.target.value}),style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",fontFamily:"inherit",boxSizing:"border-box",transition:"all 0.2s"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#d1d5db"})]}),t.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"20px"},children:[t.jsx("div",{style:{padding:"12px 16px",background:"#f3f4f6",borderRadius:"8px",marginBottom:"12px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>Ci({...Si,showPasswordChange:!Si.showPasswordChange}),onMouseEnter:e=>e.target.style.backgroundColor="#e5e7eb",onMouseLeave:e=>e.target.style.backgroundColor="#f3f4f6",children:t.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",display:"flex",alignItems:"center",gap:"8px"},children:[Si.showPasswordChange?"â–¼":"â–¶"," Change Password"]})}),Si.showPasswordChange&&t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"16px"},children:[t.jsx("input",{type:"password",placeholder:"New Password",value:Si.newPassword,onChange:e=>Ci({...Si,newPassword:e.target.value}),style:{padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",fontFamily:"inherit",transition:"all 0.2s"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#d1d5db"}),t.jsx("input",{type:"password",placeholder:"Confirm Password",value:Si.confirmPassword,onChange:e=>Ci({...Si,confirmPassword:e.target.value}),style:{padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",fontFamily:"inherit",transition:"all 0.2s"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#d1d5db"})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsx("button",{onClick:()=>{Ci({name:e?.name||"",email:e?.email||"",newPassword:"",confirmPassword:"",showPasswordChange:!1,isEditing:!1})},style:{flex:1,padding:"12px 16px",background:"transparent",color:"#6b7280",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.backgroundColor="#f3f4f6",e.target.style.borderColor="#9ca3af"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent",e.target.style.borderColor="#d1d5db"},children:"Cancel"}),t.jsx("button",{onClick:async()=>{if(Si.name.trim()&&Si.email.trim())if(Si.email.includes("@")){if(Si.showPasswordChange){if(!Si.newPassword||!Si.confirmPassword)return void je({type:"error",message:"Please enter both passwords"});if(Si.newPassword!==Si.confirmPassword)return void je({type:"error",message:"Passwords do not match"})}try{const t={employeeId:e?.id,name:Si.name,email:Si.email};Si.showPasswordChange&&Si.newPassword&&(t.newPassword=Si.newPassword);const o=await L(`${E()}/staff/update-profile`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(o.ok){const t={...e,name:Si.name,email:Si.email};i(t),localStorage.setItem("staffSession",JSON.stringify(t)),Ci({name:Si.name,email:Si.email,newPassword:"",confirmPassword:"",showPasswordChange:!1,isEditing:!1}),je({type:"success",message:"Profile updated successfully"})}else{const e=await o.json();je({type:"error",message:e.error||"Failed to update profile"})}}catch(t){console.error("Profile update error:",t),je({type:"error",message:"Connection error"})}}else je({type:"error",message:"Invalid email address"});else je({type:"error",message:"Name and email are required"})},style:{flex:1,padding:"12px 16px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 2px 8px rgba(16, 185, 129, 0.2)"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 12px rgba(16, 185, 129, 0.3)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 8px rgba(16, 185, 129, 0.2)"},children:"Save Changes"})]})]})}):t.jsx(t.Fragment,{children:t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"700",color:"#6b7280",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Employee ID"}),t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",padding:"8px 0"},children:e.id||"N/A"})]}),t.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"20px"},children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"700",color:"#6b7280",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Full Name"}),t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",padding:"8px 0"},children:e.name||"Not set"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"700",color:"#6b7280",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Email Address"}),t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",padding:"8px 0"},children:e.email||"Not set"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"700",color:"#6b7280",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Role"}),t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",padding:"8px 0",textTransform:"capitalize"},children:e.role||"Staff"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"700",color:"#6b7280",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Permissions"}),t.jsxs("div",{style:{padding:"12px 16px",background:"#f0f9ff",border:"1px solid #bfdbfe",borderRadius:"8px",fontSize:"13px",color:"#1e40af"},children:[Object.entries(e?.permissions||{}).filter(([e,t])=>t).length>0?Object.entries(e?.permissions||{}).map(([e,o])=>o&&t.jsxs("div",{style:{padding:"4px 0"},children:["âœ“ ",e.replace(/_/g," ")]},e)):t.jsx("div",{children:"No specific permissions assigned"}),e?.isAdmin&&t.jsx("div",{style:{padding:"4px 0",fontWeight:"600"},children:"âœ“ ADMIN ACCESS"})]})]}),t.jsx("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"20px"},children:t.jsx("button",{onClick:()=>{Ci({name:e?.name||"",email:e?.email||"",newPassword:"",confirmPassword:"",showPasswordChange:!1,isEditing:!0})},style:{width:"100%",padding:"12px 16px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 2px 8px rgba(59, 130, 246, 0.2)"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.3)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 8px rgba(59, 130, 246, 0.2)"},children:"Edit Profile"})})]})})})]}),ve&&t.jsx("div",{style:{position:"fixed",bottom:"20px",right:"20px",padding:"16px 20px",borderRadius:"8px",fontSize:"14px",fontWeight:"600",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:2001,backgroundColor:"success"===ve.type?"#10b981":"#ef4444",color:"white",animation:"slideIn 0.3s ease-out"},children:ve.message}),hi.isOpen&&hi.account&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:3e3},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"32px",maxWidth:"600px",width:"90%",maxHeight:"85vh",overflowY:"auto",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.15)"},children:[t.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"20px",fontWeight:"bold",color:"#1f2937"},children:"Approve Account & Set Instructions"}),t.jsxs("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:[hi.account.name," (",hi.account.email,")"]}),t.jsxs("div",{style:{padding:"12px",marginBottom:"16px",borderRadius:"8px",backgroundColor:"#fef2f2",border:"1px solid #fee2e2"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",gap:"8px"},children:[t.jsx("input",{type:"checkbox",checked:hi.grantAdmin,onChange:e=>yi(t=>({...t,grantAdmin:e.target.checked})),style:{cursor:"pointer",width:"16px",height:"16px"}}),t.jsx("span",{style:{fontWeight:"600",color:"#991b1b"},children:"â­ Grant Administrator Access"})]}),t.jsx("p",{style:{margin:"4px 0 0 24px",fontSize:"12px",color:"#7f1d1d"},children:"Allows approval of other accounts and full system access"})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[t.jsx("h3",{style:{margin:"0",fontSize:"14px",fontWeight:"bold",color:"#1f2937"},children:"Access Permissions"}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:()=>vs(!0),style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"#e0e7ff",color:"#4f46e5",border:"1px solid #c7d2fe",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},children:"All"}),t.jsx("button",{onClick:()=>vs(!1),style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"#f3f4f6",color:"#6b7280",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},children:"None"})]})]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:Object.entries(hi.permissions||{}).map(([e,o])=>t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"6px"},children:[t.jsx("input",{type:"checkbox",checked:o,onChange:()=>yi(t=>({...t,permissions:{...t.permissions,[e]:!o}})),style:{cursor:"pointer",width:"16px",height:"16px"}}),t.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:e.replace(/([A-Z])/g," $1").trim()})]},e))})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"bold",color:"#1f2937"},children:"ðŸ“‹ Custom Instructions (Optional)"}),t.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"12px",color:"#6b7280"},children:"Add custom instructions or welcome message to display when the user logs in"}),t.jsx("textarea",{value:hi.instructions,onChange:e=>yi(t=>({...t,instructions:e.target.value})),placeholder:"e.g., Welcome to the team! Here are your first steps...",style:{width:"100%",minHeight:"100px",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontFamily:"inherit",fontSize:"13px",resize:"vertical"}})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end",marginTop:"24px"},children:[t.jsx("button",{onClick:()=>yi({isOpen:!1,account:null,permissions:{},grantAdmin:!1,instructions:""}),style:{padding:"10px 16px",backgroundColor:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",color:"#374151"},children:"Cancel"}),t.jsx("button",{onClick:async()=>{if(hi.account)try{const t=await L(`${E()}/staff/approve-account`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id,pendingId:hi.account.employeeId,approve:!0,permissions:hi.permissions,grantAdminAccess:hi.grantAdmin,approvalInstructions:hi.instructions})});if(t.ok){const e=await t.json();de(le.filter(e=>e.employeeId!==hi.account.employeeId)),yi({isOpen:!1,account:null,permissions:{},grantAdmin:!1,instructions:""}),je({type:"success",message:`Account approved for ${hi.account.name}! Employee ID: ${e.employeeId}`})}}catch(t){console.error("Approval failed:",t),je({type:"error",message:"Failed to approve account"})}},style:{padding:"10px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},children:"Approve Account"})]})]})}),ui.isOpen&&ui.account&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:3e3},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"32px",maxWidth:"600px",width:"90%",maxHeight:"85vh",overflowY:"auto",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.15)"},children:[t.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"20px",fontWeight:"bold",color:"#1f2937"},children:"Deny Account"}),t.jsxs("p",{style:{margin:"0 0 24px 0",color:"#6b7280",fontSize:"14px"},children:[ui.account.name," (",ui.account.email,")"]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"12px",fontSize:"14px",fontWeight:"bold",color:"#1f2937"},children:"ðŸ“Œ Quick Reasons"}),t.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:"16px"},children:["Insufficient information","Policy violation","Account verification failed","Suspicious activity","Duplicate account","Incomplete application"].map(e=>t.jsx("button",{onClick:()=>bi(t=>({...t,selectedReason:e})),style:{padding:"8px 12px",backgroundColor:ui.selectedReason===e?"#ef4444":"#f3f4f6",color:ui.selectedReason===e?"white":"#374151",border:"1px solid "+(ui.selectedReason===e?"#dc2626":"#d1d5db"),borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"500",transition:"all 0.2s"},onMouseEnter:t=>{ui.selectedReason!==e&&(t.target.style.backgroundColor="#e5e7eb")},onMouseLeave:t=>{ui.selectedReason!==e&&(t.target.style.backgroundColor="#f3f4f6")},children:e},e))})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"bold",color:"#1f2937"},children:"ðŸ’¬ Custom Denial Message (Optional)"}),t.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"12px",color:"#6b7280"},children:"Leave empty to use the selected reason above, or customize the message below"}),t.jsx("textarea",{value:ui.customMessage,onChange:e=>bi(t=>({...t,customMessage:e.target.value})),placeholder:"Explain why the account was denied (optional)...",style:{width:"100%",minHeight:"80px",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontFamily:"inherit",fontSize:"13px",resize:"vertical"}})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end",marginTop:"24px"},children:[t.jsx("button",{onClick:()=>bi({isOpen:!1,account:null,selectedReason:"",customMessage:""}),style:{padding:"10px 16px",backgroundColor:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",color:"#374151"},children:"Cancel"}),t.jsx("button",{onClick:async()=>{const t=ui.selectedReason.trim()||ui.customMessage.trim();if(ui.account&&t)try{const t=ui.customMessage.trim()||ui.selectedReason;(await L(`${E()}/staff/approve-account`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id,pendingId:ui.account.employeeId,approve:!1,denialReason:t})})).ok&&(de(le.filter(e=>e.employeeId!==ui.account.employeeId)),bi({isOpen:!1,account:null,selectedReason:"",customMessage:""}),je({type:"success",message:`Account denied for ${ui.account.name}`}))}catch(o){console.error("Denial failed:",o),je({type:"error",message:"Failed to deny account"})}else je({type:"error",message:"Please select or provide a denial reason"})},style:{padding:"10px 16px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},children:"Deny Account"})]})]})}),t.jsx("style",{children:"\n          @keyframes slideDown {\n            from {\n              opacity: 0;\n              transform: translateX(-50%) translateY(-20px);\n            }\n            to {\n              opacity: 1;\n              transform: translateX(-50%) translateY(0);\n            }\n          }\n          @keyframes slideIn {\n            from {\n              opacity: 0;\n              transform: translateX(400px);\n            }\n            to {\n              opacity: 1;\n              transform: translateX(0);\n            }\n          }\n        "})]}),gi.isOpen&&gi.member&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"32px",maxWidth:"600px",width:"90%",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.15)"},children:[t.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"20px",fontWeight:"bold",color:"#1f2937"},children:"Manage Staff Permissions"}),t.jsxs("p",{style:{margin:"0 0 16px 0",color:"#6b7280",fontSize:"14px"},children:[gi.member.name," (",gi.member.email,")"]}),t.jsx("div",{style:{padding:"16px",marginBottom:"16px",borderRadius:"8px",backgroundColor:gi.blocked?"#fef2f2":"#f9fafb",border:"1px solid "+(gi.blocked?"#fecaca":"#e5e7eb")},children:t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",gap:"12px"},children:[t.jsx("div",{onClick:()=>fi(e=>({...e,blocked:!e.blocked})),style:{position:"relative",width:"48px",height:"26px",backgroundColor:gi.blocked?"#ef4444":"#d1d5db",borderRadius:"13px",transition:"background-color 0.2s",cursor:"pointer"},children:t.jsx("div",{style:{position:"absolute",top:"3px",left:gi.blocked?"25px":"3px",width:"20px",height:"20px",backgroundColor:"white",borderRadius:"50%",transition:"left 0.2s",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"}})}),t.jsxs("div",{children:[t.jsx("span",{style:{display:"block",fontWeight:"bold",color:gi.blocked?"#dc2626":"#374151",fontSize:"14px"},children:"ðŸš« Block User Account"}),t.jsx("span",{style:{display:"block",fontSize:"12px",color:gi.blocked?"#b91c1c":"#6b7280"},children:gi.blocked?"User will see a blocked message on login":"Prevent this user from logging in"})]})]})}),t.jsxs("div",{style:{padding:"12px",marginBottom:"16px",borderRadius:"8px",backgroundColor:"#fff7ed",border:"1px solid #ffedd5"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",gap:"8px"},children:[t.jsx("input",{type:"checkbox",checked:gi.grantAdmin,onChange:e=>fi(t=>({...t,grantAdmin:e.target.checked})),style:{cursor:"pointer",width:"16px",height:"16px"}}),t.jsx("span",{style:{fontWeight:"600",color:"#9a3412"},children:"â­ Grant Approval Authority"})]}),t.jsx("p",{style:{margin:"4px 0 0 24px",fontSize:"12px",color:"#c2410c"},children:"Allows this user to approve new accounts and manage other staff"})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[t.jsx("h3",{style:{margin:"0",fontSize:"14px",fontWeight:"bold",color:"#1f2937"},children:"Access Permissions"}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:()=>{const e={};Object.keys(ki).forEach(t=>{e[t]=!0}),fi(t=>({...t,permissions:e}))},style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"#e0e7ff",color:"#4f46e5",border:"1px solid #c7d2fe",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},children:"All"}),t.jsx("button",{onClick:()=>{const e={};Object.keys(ki).forEach(t=>{e[t]=!1}),fi(t=>({...t,permissions:e}))},style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"#fef2f2",color:"#dc2626",border:"1px solid #fecaca",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},children:"None"})]})]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:Object.entries(ki).map(([e,o])=>{const r=!1!==gi.permissions[e];return t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 12px",borderRadius:"6px",backgroundColor:r?"#dbeafe":"#fef2f2",border:"1px solid "+(r?"#93c5fd":"#fecaca"),cursor:"pointer",transition:"all 0.2s"},children:[t.jsx("input",{type:"checkbox",checked:r,onChange:()=>{fi(t=>({...t,permissions:{...t.permissions,[e]:!r}}))},style:{cursor:"pointer",width:"16px",height:"16px"}}),t.jsx("span",{style:{fontSize:"13px",fontWeight:"500",color:r?"#374151":"#dc2626"},children:o})]},e)})})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end",marginTop:"24px"},children:[t.jsx("button",{onClick:()=>fi({isOpen:!1,member:null,permissions:{},grantAdmin:!1,blocked:!1}),style:{padding:"10px 16px",backgroundColor:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",color:"#374151"},children:"Cancel"}),t.jsx("button",{onClick:async()=>{try{if((await L(`${E()}/staff/update-permissions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id,targetEmployeeId:gi.member.id,permissions:gi.permissions,grantAdminAccess:gi.grantAdmin,blocked:gi.blocked})})).ok){const t=gi.member.name,o=gi.blocked;fi({isOpen:!1,member:null,permissions:{},grantAdmin:!1,blocked:!1}),je({type:o?"warning":"success",message:o?`${t} has been blocked. They will see a blocked message on login.`:`Permissions updated for ${t}`});const r=await L(`${E()}/staff/all?employeeId=${e.id}`);if(r.ok){const e=await r.json();li(e.members||[])}}else je({type:"error",message:"Failed to update permissions"})}catch(t){console.error("Update permissions failed:",t),je({type:"error",message:"Error updating permissions"})}},style:{padding:"10px 16px",backgroundColor:gi.blocked?"#ef4444":"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},children:gi.blocked?"ðŸš« Block & Save":"Save Changes"})]})]})}),mi.isOpen&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"32px",maxWidth:"600px",width:"90%",maxHeight:"85vh",overflowY:"auto",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.15)"},children:[t.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"20px",fontWeight:"bold",color:"#1f2937"},children:"ðŸ‘¤ My Profile"}),t.jsx("p",{style:{margin:"0 0 24px 0",color:"#6b7280",fontSize:"14px"},children:"Manage your account settings and permissions"}),t.jsxs("div",{style:{marginBottom:"24px",padding:"16px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[t.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"14px",fontWeight:"bold",color:"#1f2937"},children:"Account Information"}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"12px",fontWeight:"bold",color:"#6b7280",textTransform:"uppercase"},children:"Employee ID"}),t.jsx("div",{style:{padding:"10px 12px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px",color:"#374151",fontWeight:"500"},children:e?.id})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"12px",fontWeight:"bold",color:"#6b7280",textTransform:"uppercase"},children:"Role"}),t.jsx("div",{style:{padding:"10px 12px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px",color:"#374151",fontWeight:"500"},children:"administrator"===e?.role?"â­ Administrator":"ðŸ‘¤ Moderator"})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"12px",fontWeight:"bold",color:"#6b7280",textTransform:"uppercase"},children:"Name"}),t.jsx("input",{type:"text",value:mi.name,onChange:e=>vi(t=>({...t,name:e.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"12px",fontWeight:"bold",color:"#6b7280",textTransform:"uppercase"},children:"Email"}),t.jsx("input",{type:"email",value:mi.email,onChange:e=>vi(t=>({...t,email:e.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px"}})]})]}),t.jsxs("div",{style:{marginBottom:"24px",padding:"16px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[t.jsxs("button",{onClick:()=>vi(e=>({...e,showPasswordChange:!e.showPasswordChange})),style:{width:"100%",padding:"12px",backgroundColor:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",color:"#374151",display:"flex",alignItems:"center",justifyContent:"space-between"},children:["ðŸ”‘ Manage Passwords",t.jsx("span",{children:mi.showPasswordChange?"â–¼":"â–¶"})]}),mi.showPasswordChange&&t.jsxs("div",{style:{marginTop:"16px",display:"flex",flexDirection:"column",gap:"16px"},children:[t.jsxs("div",{style:{padding:"12px",backgroundColor:"#eff6ff",borderRadius:"6px",border:"1px solid #93c5fd"},children:[t.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"12px",fontWeight:"bold",color:"#1e40af"},children:"ðŸ“‹ YOUR CURRENT PASSWORDS"}),[0,1,2].map(e=>t.jsx("div",{style:{marginBottom:e<2?"12px":"0"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"8px"},children:[t.jsxs("span",{style:{fontSize:"12px",fontWeight:"bold",color:"#374151",minWidth:"70px"},children:["Password ",e+1,":"]}),t.jsx("div",{style:{flex:1,padding:"8px 12px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"13px",color:"#4b5563",fontFamily:"monospace",wordBreak:"break-all"},children:mi[`showCurrentPassword${e+1}`]?mi.currentPasswords[e]||"(Not set)":"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),t.jsx("button",{onClick:()=>vi(t=>({...t,[`showCurrentPassword${e+1}`]:!t[`showCurrentPassword${e+1}`]})),style:{padding:"6px 12px",backgroundColor:"#e0e7ff",color:"#4f46e5",border:"1px solid #c7d2fe",borderRadius:"4px",cursor:"pointer",fontSize:"11px",fontWeight:"600",whiteSpace:"nowrap"},children:mi[`showCurrentPassword${e+1}`]?"ðŸ‘ï¸ Hide":"ðŸ‘ï¸ Show"})]})},`current-${e}`))]}),t.jsxs("div",{children:[t.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"12px",fontWeight:"bold",color:"#374151"},children:"âœï¸ UPDATE PASSWORDS (Optional - leave blank to keep current)"}),[1,2,3].map(e=>t.jsxs("div",{style:{marginBottom:e<3?"12px":"0"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"6px",fontSize:"12px",fontWeight:"bold",color:"#6b7280",textTransform:"uppercase"},children:["New Password ",e]}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("input",{type:mi[`showPassword${e}`]?"text":"password",value:mi[`newPassword${e}`],onChange:t=>vi(o=>({...o,[`newPassword${e}`]:t.target.value})),placeholder:`Enter new password ${e}`,style:{flex:1,padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px"}}),t.jsx("button",{onClick:()=>vi(t=>({...t,[`showPassword${e}`]:!t[`showPassword${e}`]})),style:{padding:"10px 12px",backgroundColor:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"600",color:"#374151",minWidth:"45px"},children:mi[`showPassword${e}`]?"ðŸ‘ï¸":"ðŸ‘ï¸â€ðŸ—¨ï¸"})]})]},`new-${e}`))]})]})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[t.jsx("button",{onClick:()=>vi({isOpen:!1,showPasswordChange:!1,name:"",email:"",currentPasswords:["","",""],newPassword1:"",newPassword2:"",newPassword3:"",showPassword1:!1,showPassword2:!1,showPassword3:!1,showCurrentPassword1:!1,showCurrentPassword2:!1,showCurrentPassword3:!1}),style:{padding:"10px 16px",backgroundColor:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",color:"#374151"},children:"Cancel"}),t.jsx("button",{onClick:async()=>{try{const t=[];mi.newPassword1&&t.push(mi.newPassword1),mi.newPassword2&&t.push(mi.newPassword2),mi.newPassword3&&t.push(mi.newPassword3);const o=await L(`${E()}/staff/update-profile`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e.id,name:mi.name,email:mi.email,passwords:t.length>0?t:void 0})});if(o.ok){const e=await o.json();i(e.employee),vi({isOpen:!1,showPasswordChange:!1,name:"",email:"",currentPasswords:e.employee.passwords||["","",""],newPassword1:"",newPassword2:"",newPassword3:"",showPassword1:!1,showPassword2:!1,showPassword3:!1,showCurrentPassword1:!1,showCurrentPassword2:!1,showCurrentPassword3:!1}),je({type:"success",message:"Profile updated successfully"})}else je({type:"error",message:"Failed to update profile"})}catch(t){console.error("Update profile failed:",t),je({type:"error",message:"Error updating profile"})}},style:{padding:"10px 16px",backgroundColor:"#4f46e5",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},children:"Save Changes"})]})]})}),ji.isOpen&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"32px",maxWidth:"400px",width:"90%",textAlign:"center",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.25)"},children:[t.jsx("div",{style:{width:"64px",height:"64px",margin:"0 auto 16px",backgroundColor:"#fef2f2",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("span",{style:{fontSize:"32px"},children:"ðŸš«"})}),t.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"20px",fontWeight:"bold",color:"#dc2626"},children:"Access Denied"}),t.jsxs("p",{style:{margin:"0 0 24px 0",color:"#6b7280",fontSize:"14px",lineHeight:"1.5"},children:["You don't have the clearance to access ",t.jsx("strong",{style:{color:"#374151"},children:ji.pageName}),".",t.jsx("br",{}),t.jsx("br",{}),"Contact your administrator to request access."]}),t.jsx("button",{onClick:()=>wi({isOpen:!1,pageName:""}),style:{padding:"12px 24px",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600",width:"100%"},children:"OK, Got It"})]})})]}):t.jsx("div",{style:{padding:"32px",textAlign:"center",color:"#666"},children:"Please login as staff to access this dashboard"})}export{O as default};
