import{c as e,j as t,g as n}from"./index-BUV2eFhd.js";import{b as s}from"./vendor-Cml8jNaD.js";const r=e("ChevronsUp",[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]]),a=({isOpen:e,onClose:r,requestId:a,detailedRank:o,onGiveLikeFree:i,selectedLanguage:l="English"})=>{const c=s.useRef(null),d=.5*window.innerHeight,u=.95*window.innerHeight,[x,f]=s.useState(.9*window.innerHeight),[m,h]=s.useState(10),{rank:y,nextRankNeeded:p,threatCount:v,totalInfluence:b}=o,[g]=s.useState((()=>{const e=220+40*Math.random();return Math.round(e)})()),[w,j]=s.useState(b);s.useEffect(()=>{j(b)},[b]);const[N,k]=s.useState("wise"),[E,C]=s.useState(!1);s.useCallback(e=>{if(e.preventDefault(),!c.current)return;const t=e.touches[0].clientY,n=c.current.clientHeight,s=e=>{const s=e.touches[0].clientY-t;let r=n-s;r=Math.min(Math.max(r,d),u),f(r)},a=()=>{window.removeEventListener("touchmove",s),window.removeEventListener("touchend",a),c.current&&c.current.clientHeight<d+50&&r()};window.addEventListener("touchmove",s,{passive:!1}),window.addEventListener("touchend",a)},[d,u,r]),s.useEffect(()=>(e?(f(.9*window.innerHeight),document.body.style.overflow="hidden",h(10)):document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),s.useEffect(()=>{if(!e)return;const t=e=>{"Escape"===e.key&&r()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e,r]);const S=s.useRef(null);return s.useEffect(()=>{if(!e||!c.current)return;S.current=document.activeElement,setTimeout(()=>{try{const e=c.current.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])');e&&e.length?e[0].focus():c.current.focus()}catch(e){}},50);const t=e=>{if(c.current){if("Tab"===e.key){const t=c.current.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])');if(!t||0===t.length)return void e.preventDefault();const n=t[0],s=t[t.length-1];e.shiftKey&&document.activeElement===n?(e.preventDefault(),s.focus()):e.shiftKey||document.activeElement!==s||(e.preventDefault(),n.focus())}"Escape"===e.key&&r()}};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t);try{S.current&&S.current.focus&&S.current.focus()}catch(e){}}},[e,r]),t.jsxs("div",{className:"fixed inset-0 z-50 transition-all duration-300 flex items-center justify-center "+(e?"opacity-100":"opacity-0 pointer-events-none"),style:{transitionProperty:"opacity",transitionTimingFunction:"cubic-bezier(.4,0,.2,1)"},"aria-hidden":!e,children:[t.jsx("div",{className:"absolute inset-0 bg-black transition-opacity duration-300 "+(e?"opacity-50":"opacity-0"),onClick:r,"aria-label":"Close boost modal background"}),t.jsxs("div",{ref:c,tabIndex:-1,className:"relative w-full mx-auto rounded-3xl flex flex-col z-50",style:{maxHeight:"75vh",maxWidth:"280px",background:"#ffffff",boxShadow:"0 20px 40px rgba(0,0,0,0.3)",border:"1px solid #e5e7eb"},"aria-label":"Boost visibility modal",children:[t.jsxs("header",{className:"relative px-5 pt-5 pb-3 text-center",children:[t.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-0.5",children:n(1===y?"Amplify Your Reach":y<=5?"Rise in Discovery":"Get More Eyes",l)}),t.jsx("p",{className:"text-gray-500 text-xs leading-relaxed",children:n(1===y&&v>0?"Another request is gaining traction. Stay visible to stay winning.":y<=5?"Climb the rankings so creators discover your request first.":"More visibility, faster fulfillment",l)})]}),t.jsxs("main",{className:"flex-grow overflow-y-auto px-5 pb-4 space-y-4",children:[t.jsxs("section",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-blue-500 flex-shrink-0 mt-0.5"}),t.jsx("div",{className:"flex-1",children:t.jsx("div",{className:"font-medium text-gray-900 text-xs",children:n("Reach More Creators",l)})})]}),t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-green-500 flex-shrink-0 mt-0.5"}),t.jsx("div",{className:"flex-1",children:t.jsx("div",{className:"font-medium text-gray-900 text-xs",children:n("Get Fulfilled Faster",l)})})]})]}),t.jsx("section",{children:t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[10,25,50].map(e=>t.jsxs("button",{onClick:()=>h(e),className:"relative py-4 px-2 text-center rounded-lg border-2 font-bold transition-all duration-200",style:{backgroundColor:m===e?"#111827":"#f9fafb",color:m===e?"#fff":"#6b7280",borderColor:m===e?"#111827":"#e5e7eb",boxShadow:m===e?"0 0 12px rgba(17, 24, 39, 0.15)":"none"},children:[t.jsxs("div",{className:"text-xs font-bold",children:["$",e]}),t.jsxs("div",{className:"text-[10px] mt-0.5",style:{opacity:.7},children:["+",2*e]})]},e))})})]}),t.jsxs("footer",{className:"px-5 pb-6 pt-3 border-t border-gray-100",style:{paddingBottom:"calc(24px + env(safe-area-inset-bottom))"},children:[t.jsx("button",{className:"w-full py-3 font-semibold text-sm rounded-2xl transition-all "+(E?"opacity-50 pointer-events-none":"hover:scale-[1.02] active:scale-[0.98]"),style:{backgroundColor:"#111827",color:"#ffffff"},onClick:async()=>{C(!0);try{return void(window.location.href="https://www.paypal.com/ncp/payment/FAR4N4DZARHBY")}catch(e){console.error("Payment error",e),C(!1),alert(n("Payment failed. Please try again.",l))}},children:E?n("Processing...",l):`${n("Boost for",l)} $${m}`}),t.jsx("div",{className:"text-center pt-2",children:t.jsx("p",{className:"text-[10px] text-gray-400",children:n("Secured by PayPal",l)})})]})]})]})};export{a as B,r as C};
