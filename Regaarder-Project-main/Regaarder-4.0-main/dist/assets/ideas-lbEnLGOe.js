import{c as e,j as t,g as r,b as s,C as n,L as a,d as o}from"./index-Dffz9O_H.js";import{d as i,b as l}from"./vendor-Cml8jNaD.js";import{X as c}from"./x-BtVIjD1R.js";import{C as d}from"./check-circle-CWdZhztr.js";import{C as u,B as m}from"./BoostsModal-PsakSbO-.js";import{S as x}from"./SharedBottomBar-ftLq5vqx.js";import{F as g}from"./folder-BM_h9G5z.js";import{C as p}from"./clock-CO7zGInQ.js";import{L as h}from"./lightbulb-Cgck_kRT.js";import{A as f}from"./arrow-right-Bo65QuJQ.js";import{H as b}from"./heart-DAgKoHaU.js";import{M as y}from"./message-square-CNovjS0u.js";import{B as v}from"./bookmark-DxL_Xr1W.js";import{C as w}from"./crown-FyEv4QQm.js";import{U as j}from"./users-DbTPX5ht.js";import{S as N}from"./search-BlChXm75.js";import{F as k,P as S}from"./pencil-Dwd5jUWx.js";import{L as C}from"./link-DNNFqHIG.js";import{B as L}from"./briefcase-B2kCEzfD.js";import{T as E}from"./trending-up-DyyEJKTd.js";import{B as I}from"./book-open-ButPwPDd.js";import{M as T}from"./message-circle-B6UHl-nE.js";import{U as R}from"./user-ruYZ-ydt.js";import{S as P}from"./shield-UflaCjzY.js";import{T as F}from"./target-DdnSXZJV.js";import{S as D}from"./sparkles-F1FsclXw.js";import{C as z}from"./chevron-down-DUtZ1Sn5.js";import{G as A}from"./globe-ubWQGsoq.js";import{D as q}from"./dollar-sign-Dt55NhB_.js";import{C as _}from"./calendar-DprmkQut.js";import{C as M}from"./chevron-up-DLy_zouo.js";import{C as B}from"./chevron-right-D9r8tnUK.js";import"./home-Dd5N3dNo.js";const U=e("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),$=e("Film",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"2.18",ry:"2.18",key:"vury4c"}],["line",{x1:"7",x2:"7",y1:"2",y2:"22",key:"t1e4qh"}],["line",{x1:"17",x2:"17",y1:"2",y2:"22",key:"1tliql"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"2",x2:"7",y1:"7",y2:"7",key:"1wdzzh"}],["line",{x1:"2",x2:"7",y1:"17",y2:"17",key:"2fufxq"}],["line",{x1:"17",x2:"22",y1:"17",y2:"17",key:"1xg577"}],["line",{x1:"17",x2:"22",y1:"7",y2:"7",key:"acrv2l"}]]),O=e("ListVideo",[["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}],["path",{d:"m16 12 5 3-5 3v-6Z",key:"zpskkp"}]]),V=e("MoveLeft",[["path",{d:"M6 8L2 12L6 16",key:"kyvwex"}],["path",{d:"M2 12H22",key:"1m8cig"}]]),Y=e("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),H=e("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);function J({onClose:e,onBoostRequest:s,onInviteContributors:n,onViewDetails:a,selectedLanguage:o,requestData:i}){return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9999] flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 relative",children:[t.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600","aria-label":"Close",children:t.jsx(c,{size:24})}),t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:t.jsx(d,{size:32,className:"text-green-600"})})}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 text-center mb-3",children:r("Free Request Submitted",o)}),t.jsx("p",{className:"text-gray-600 text-sm text-center mb-6 leading-relaxed",children:r("Free requests may take longer to reach creators, as paid requests are prioritized. To increase visibility, you can boost your request at any time or invite others to contribute.",o)}),t.jsx("button",{onClick:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg mb-3 transition-colors",children:r("Boost Request",o)}),t.jsx("button",{onClick:async()=>{try{const e=`${r("Check out this request on Regaarder!",o)}\n\n${r("Title",o)}: ${i?.title||"Request"}\n${r("Requester",o)}: ${i?.requesterName||"Unknown"}\n\n${r("Help boost this request and earn rewards by contributing! Visit Regaarder to see more.",o)}`;navigator.share?await navigator.share({title:i?.title||"Check out this request on Regaarder!",text:e,url:window.location.href}):(await navigator.clipboard.writeText(e),alert(r("Share message copied to clipboard!",o)))}catch(e){console.error("Share failed:",e),n&&n()}},className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 font-semibold py-3 rounded-lg transition-colors mb-3",children:r("Invite Contributors",o)}),t.jsx("button",{onClick:a||e,className:"w-full text-gray-500 hover:text-gray-700 font-medium py-2 rounded-lg transition-colors text-sm",children:r("View Request Details",o)})]})})}const W=(e,t)=>{try{const r=getComputedStyle(document.documentElement).getPropertyValue(e);return r?r.trim():t||""}catch(r){return t||""}},K=({selectedLanguage:e="English"})=>t.jsx(x,{selectedLanguage:e,activeTabOverride:"Ideas"}),X=({selectedLanguage:e="English"})=>{const[s,a]=l.useState(!1);return l.useEffect(()=>{a(!0);const e=setTimeout(()=>a(!1),5e3);return()=>clearTimeout(e)},[]),t.jsxs("div",{className:"space-y-8",children:[s&&t.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:[...Array(40)].map((e,r)=>t.jsx("div",{style:{position:"absolute",left:100*Math.random()+"%",top:"-20px",width:"8px",height:"8px",backgroundColor:["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4"][Math.floor(5*Math.random())],animation:`confetti-fall ${2+3*Math.random()}s linear forwards`,animationDelay:2*Math.random()+"s",borderRadius:Math.random()>.5?"50%":"0"}},r))}),t.jsxs("div",{className:`\n                    fixed left-1/2 transform -translate-x-1/2 w-[90%] max-w-sm\n                    bg-[var(--surface)] px-4 py-3 rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-gray-100\n                    flex items-start space-x-3 z-50 transition-all duration-500\n                    ${s?"translate-y-0 opacity-100":"-translate-y-20 opacity-0"}\n                `,style:{top:"calc(12px + env(safe-area-inset-top, 0px))"},children:[t.jsx("div",{className:"bg-green-500 rounded-full p-1 flex-shrink-0 mt-0.5",children:t.jsx(n,{className:"w-3 h-3 text-white",strokeWidth:3})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"font-bold text-sm text-gray-900 leading-tight",children:r("Request Created",e)}),t.jsx("p",{className:"text-xs text-gray-500 mt-0.5 leading-tight",children:r("Your request has been successfully created.",e)})]}),t.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 p-0.5 -mr-1",children:t.jsx(c,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"flex items-center text-lg font-semibold text-gray-700",children:[t.jsx(n,{className:"w-5 h-5 mr-2 text-gold-small"}),t.jsx("span",{className:"tracking-tight",children:r("New options unlocked!",e)})]}),t.jsxs("div",{className:"relative rounded-xl cream-glow-box p-6 cursor-pointer hover:shadow-lg transition duration-200",role:"button",tabIndex:0,onClick:()=>{try{window.location.href="advertisewithus.jsx"}catch(e){}},onKeyDown:e=>{if("Enter"===e.key||" "===e.key){e.preventDefault();try{window.location.href="advertisewithus.jsx"}catch(t){}}},style:{background:"radial-gradient(circle at 12% 18%, rgba(var(--color-gold-rgb,203,138,0),0.16), rgba(var(--color-gold-rgb,203,138,0),0.04))",border:"1px solid rgba(var(--color-gold-rgb, 203,138,0), 0.22)",boxShadow:"inset 0 8px 24px rgba(var(--color-gold-rgb,203,138,0),0.05), 0 10px 30px rgba(6,24,58,0.06)",backgroundBlendMode:"screen, screen, normal, normal"},children:[t.jsx("span",{style:{position:"absolute",left:12,top:8,width:44,height:44,borderRadius:9999,background:"radial-gradient(circle, rgba(var(--color-gold-rgb,203,138,0),0.16), rgba(var(--color-gold-rgb,203,138,0),0.04))",filter:"blur(10px)",opacity:.95,pointerEvents:"none"}}),t.jsx("span",{style:{position:"absolute",right:18,top:28,width:58,height:58,borderRadius:9999,background:"radial-gradient(circle, rgba(var(--color-gold-rgb,203,138,0),0.12), rgba(var(--color-gold-rgb,203,138,0),0.03))",filter:"blur(14px)",opacity:.9,pointerEvents:"none"}}),t.jsx("span",{style:{position:"absolute",left:"38%",bottom:6,width:36,height:36,borderRadius:9999,background:"radial-gradient(circle, rgba(var(--color-gold-rgb,203,138,0),0.10), rgba(var(--color-gold-rgb,203,138,0),0.02))",filter:"blur(8px)",opacity:.95,pointerEvents:"none"}}),t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("span",{className:"p-3 rounded-full mr-4 text-[var(--color-gold)]",style:{background:"linear-gradient(135deg, rgba(var(--color-gold-rgb,203,138,0),0.12), rgba(var(--color-gold-rgb,203,138,0),0.06))",border:"1px solid rgba(var(--color-gold-rgb, 203,138,0), 0.12)",boxShadow:"inset 0 2px 6px rgba(var(--color-gold-rgb,203,138,0),0.06)"},children:t.jsx(q,{className:"w-6 h-6 text-[var(--color-gold)]"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-base font-semibold text-gray-800",children:r("Sponsor Content on Regaarder",e)}),t.jsx("p",{className:"text-sm text-gray-500",children:r("For brands & businesses",e)})]})]}),t.jsx(f,{className:"w-6 h-6 text-[var(--color-gold)]"})]}),t.jsx("p",{className:"text-sm text-gray-700 mb-6",children:r("Reach millions of engaged viewers through authentic creator partnerships. Tap here to explore our transparent sponsorship system.",e)}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsx("span",{className:"px-4 py-2 text-sm rounded-full font-medium text-[var(--color-gold)]",style:{background:"linear-gradient(180deg, rgba(var(--color-gold-rgb,203,138,0),0.06), var(--color-cream-bg))",border:"1px solid rgba(var(--color-gold-rgb,203,138,0),0.12)"},children:r("Transparent Pricing",e)}),t.jsx("span",{className:"px-4 py-2 text-sm rounded-full font-medium text-[var(--color-gold)]",style:{background:"linear-gradient(180deg, rgba(var(--color-gold-rgb,203,138,0),0.06), var(--color-cream-bg))",border:"1px solid rgba(var(--color-gold-rgb,203,138,0),0.12)"},children:r("Direct Brand-Creator Connection",e)})]})]})]})},G=({description:e,setDescription:s,title:a,setTitle:o,MAX_CHARS:i,showAdvanced:l,selectedLanguage:c="English"})=>t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex items-center text-sm font-normal text-[var(--color-accent)]",children:[t.jsx(n,{className:"w-4 h-4 mr-2 text-[var(--color-accent)]"}),t.jsx("span",{className:"tracking-tight",children:r("Format selected! Now add details.",c)})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsx("span",{className:"italic",children:r("Using the Description and Title you entered above for this one-time video.",c)}),t.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const e=document.getElementById("description-input");e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus(),e.classList.add("jump-highlight"),setTimeout(()=>e.classList.remove("jump-highlight"),900));const t=document.getElementById("title-input");t&&setTimeout(()=>{t.focus(),t.classList.add("jump-highlight"),setTimeout(()=>t.classList.remove("jump-highlight"),900)},300)},children:r("Edit",c)})]})]}),Q=({description:e,setDescription:s,title:a,setTitle:o,MAX_CHARS:i,MIN_CHARS:l,recurrentStep:c,selectedFrequency:d,setSelectedFrequency:u,selectedTones:m,setSelectedTones:x,selectedStyles:g,setSelectedStyles:h,selectedPrivacy:f,setSelectedPrivacy:b,customRecurrentDates:y,setCustomRecurrentDates:v,selectedLanguage:w="English",setRecurrentStep:j,selectedDeliveryType:N,selectedVideoLength:k,customVideoLength:S,uploadedFiles:C,referenceLinks:L,customPrice:E,setCustomPrice:I,editingPrice:T,setEditingPrice:R,priceInput:P,setPriceInput:F,priceInputRef:D,savePrice:z,displayPrice:A,sanitizePriceInput:q,handleSaveReview:M})=>{const B=[{type:"daily",title:r("Daily",w),subtitle:r("New videos delivered every day",w),Icon:p},{type:"weekly",title:r("Weekly",w),subtitle:r("New videos delivered every week",w),Icon:Y},{type:"monthly",title:r("Monthly",w),subtitle:r("New videos delivered every month",w),Icon:_},{type:"custom",title:r("Custom",w),subtitle:r("Set a custom delivery schedule",w),Icon:_}];return 1===c?t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex items-center text-sm font-normal text-[var(--color-accent)]",children:[t.jsx(n,{className:"w-4 h-4 mr-2 text-[var(--color-accent)]"}),t.jsx("span",{className:"tracking-tight",children:r("Frequency selection unlocked!",w)})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsx("span",{className:"italic",children:r("Using the Description and Title you entered above for this recurring request.",w)}),t.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const e=document.getElementById("description-input");e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus(),e.classList.add("jump-highlight"),setTimeout(()=>e.classList.remove("jump-highlight"),900))},children:r("Edit",w)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:r("How often would you like creators to deliver new videos?",w)}),t.jsx("p",{className:"text-sm text-gray-500",children:r("Creators will plan their uploads according to your chosen rhythm.",w)})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(re,{options:B,selected:d,setSelected:u,selectedLanguage:w}),"custom"===d&&t.jsx("div",{className:"mt-3",children:t.jsx(ne,{selectedDates:y,setSelectedDates:v,selectedLanguage:w})})]})]}):3===c?t.jsx(Z,{selectedTones:m,setSelectedTones:x,selectedStyles:g,setSelectedStyles:h,selectedLanguage:w}):4===c?t.jsx(ee,{selectedLanguage:w}):5===c?t.jsx(le,{selectedPrivacy:f,setSelectedPrivacy:b,selectedLanguage:w}):6===c?t.jsx(ce,{title:a,description:e,selectedDeliveryType:N,selectedFrequency:d,customRecurrentDates:y,selectedTones:m,selectedVideoLength:k,customVideoLength:S,uploadedFiles:C,referenceLinks:L,selectedPrivacy:f,selectedLanguage:w,customPrice:E,setCustomPrice:I,editingPrice:T,setEditingPrice:R,priceInput:P,setPriceInput:F,priceInputRef:D,savePrice:z,displayPrice:A,sanitizePriceInput:q,onEdit:()=>j(1),onSaveReview:M}):8===c?t.jsx(X,{}):null},Z=({selectedTones:e,setSelectedTones:s,selectedStyles:a,setSelectedStyles:i,selectedLanguage:c="English"})=>{const[d,u]=l.useState(!1),[m,x]=l.useState(!1);l.useRef(null);const g=l.useRef(null),p=l.useRef(null);l.useRef(null),l.useRef(null);const h=l.useRef(null),f=[{id:"professional",label:r("Professional",c),Icon:L},{id:"casual",label:r("Casual",c),Icon:U},{id:"inspirational",label:r("Inspirational / Motivational",c),Icon:E},{id:"humorous",label:r("Humorous / Lighthearted",c),Icon:H},{id:"emotional",label:r("Emotional / Heartfelt",c),Icon:b},{id:"analytical",label:r("Analytical / Educational",c),Icon:I}],y=[{id:"dramatic",label:r("Dramatic / Cinematic",c),Icon:$},{id:"sarcastic",label:r("Sarcastic / Satirical",c),Icon:T},{id:"romantic",label:r("Romantic / Soothing",c),Icon:R},{id:"bold",label:r("Bold / Controversial",c),Icon:P},{id:"serious",label:r("Serious / Neutral",c),Icon:F},{id:"experimental",label:r("Experimental / Artistic",c),Icon:o},{id:"hopeful",label:r("Hopeful / Reflective",c),Icon:D}],v=t=>{e.includes(t)?s(e.filter(e=>e!==t)):e.length<2&&(s([...e,t]),u(!1))},j=[{id:"cinematic",label:r("Cinematic",c),Icon:$},{id:"minimal",label:r("Minimal",c),Icon:o},{id:"documentary",label:r("Documentary",c),Icon:I},{id:"animated",label:r("Animated",c),Icon:D},{id:"vibrant",label:r("Vibrant",c),Icon:E},{id:"intimate",label:r("Intimate",c),Icon:b}],N=e=>{a.includes(e)?i(a.filter(t=>t!==e)):(i([e]),x(!1))};l.useEffect(()=>{const e=e=>{try{if(!d)return;const t=h.current;if(!t)return;t.contains(e.target)||u(!1)}catch(t){}},t=e=>{"Escape"===e.key&&d&&u(!1)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e,{passive:!0}),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e),document.removeEventListener("keydown",t)}},[d]);return t.jsxs("div",{ref:h,className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500 relative",children:[t.jsxs("div",{className:"space-y-2 text-left flex items-center",children:[t.jsx(w,{className:"w-5 h-5 mr-3 text-[var(--color-gold)] flex-shrink-0",style:{transform:"translateY(4px)"}}),t.jsx("h3",{className:"text-gray-800 font-semibold text-base block tracking-tight",children:r("Choose Your Tone & Style",c)})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("button",{type:"button",onClick:()=>u(e=>!e),"aria-haspopup":"listbox","aria-expanded":d,className:"w-full flex items-center justify-between p-4 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm",children:[t.jsx("div",{className:"flex items-center",children:0===e.length?t.jsx("div",{className:"text-sm text-gray-500",children:r("Choose tone",c)}):t.jsx("div",{className:"flex items-center space-x-2",children:e.map(e=>{const r=[...f,...y].find(t=>t.id===e);return r?t.jsxs("span",{className:"inline-flex items-center space-x-2",children:[t.jsx(r.Icon,{className:"w-4 h-4 text-[var(--color-gold)]"}),t.jsx("span",{className:"text-sm text-gray-800 font-medium",children:r.label.split(" ")[0]})]},e):null})})}),t.jsx(z,{className:"w-4 h-4 text-gray-500"})]}),d&&t.jsxs("div",{className:"absolute z-30 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg",children:[t.jsx("ul",{ref:g,role:"listbox","aria-label":"Tone",className:"divide-y divide-gray-100 max-h-72 overflow-auto",children:[...f,...y].map(r=>{const s=!e.includes(r.id)&&e.length>=2;return t.jsxs("li",{role:"option","aria-selected":e.includes(r.id),tabIndex:s?-1:0,onClick:()=>!s&&v(r.id),onKeyDown:e=>{s||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),v(r.id))},className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer "+(s?"opacity-50 cursor-not-allowed":""),children:[t.jsx(r.Icon,{className:"w-5 h-5 mr-3 "+(e.includes(r.id)?"text-[var(--color-gold)]":"text-gray-400")}),t.jsx("div",{className:"flex-1",children:t.jsx("div",{className:"text-sm font-medium text-gray-800",children:r.label})}),e.includes(r.id)&&t.jsx(n,{className:"w-4 h-4 text-[var(--color-gold)]"})]},r.id)})}),t.jsx("div",{className:"p-3 text-xs text-gray-500 border-t border-gray-100",children:r("Tip: choose up to two tones. Selected tones help creators match style.",c)})]})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{type:"button",onClick:()=>x(e=>!e),"aria-haspopup":"listbox","aria-expanded":m,className:"w-full flex items-center justify-between p-4 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm",children:[t.jsx("div",{className:"flex items-center",children:(()=>{if(!a||0===a.length)return t.jsx("div",{className:"text-sm text-gray-500",children:r("Choose style",c)});const e=a[0],s=j.find(t=>t.id===e);return s?t.jsx("div",{className:"flex items-center space-x-2",children:t.jsxs("span",{className:"inline-flex items-center space-x-2",children:[t.jsx(s.Icon,{className:"w-4 h-4 text-[var(--color-gold)]"}),t.jsx("span",{className:"text-sm text-gray-800 font-medium",children:s.label.split(" ")[0]})]})}):t.jsx("div",{className:"text-sm text-gray-500",children:r("Choose style",c)})})()}),t.jsx(z,{className:"w-4 h-4 text-gray-500"})]}),m&&t.jsxs("div",{className:"absolute z-30 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg",children:[t.jsx("ul",{ref:p,role:"listbox","aria-label":"Style",className:"divide-y divide-gray-100 max-h-72 overflow-auto",children:j.map(e=>{const r=a.includes(e.id);return t.jsxs("li",{role:"option","aria-selected":r,tabIndex:0,onClick:()=>N(e.id),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),N(e.id))},className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer ",children:[t.jsx(e.Icon,{className:"w-5 h-5 mr-3 "+(r?"text-[var(--color-gold)]":"text-gray-400")}),t.jsx("div",{className:"flex-1",children:t.jsx("div",{className:"text-sm font-medium text-gray-800",children:e.label})}),r&&t.jsx(n,{className:"w-4 h-4 text-[var(--color-gold)]"})]},e.id)})}),t.jsx("div",{className:"p-3 text-xs text-gray-500 border-t border-gray-100",children:r("Tip: choose a style to help communicate visual approach.",c)})]})]})]})]})},ee=({selectedLength:e,setSelectedLength:s,customLength:n,setCustomLength:a,selectedLanguage:o="English"})=>{const i=[{id:"short-form",label:r("Short Form",o),duration:r("15 sec – 1 min",o),description:r("Quick insights, reactions, jokes, highlights – TikTok/Reel style",o)},{id:"standard",label:r("Standard",o),duration:r("2–5 min",o),description:r("Mini explanations, challenges, creative short stories, tutorials",o)},{id:"extended",label:r("Extended",o),duration:r("6–15 min",o),description:r("Deeper dives, analyses, vlogs, storytime, discussions",o)},{id:"long-form",label:r("Long Form",o),duration:r("16–30+ min",o),description:r("Documentaries, interviews, or in-depth guides",o)},{id:"custom",label:r("Custom",o),duration:r("User defined",o),description:r("Let creators decide what fits best",o)}];return t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsxs("div",{className:"space-y-2 text-left flex items-center",children:[t.jsx(w,{className:"w-5 h-5 mr-3 text-[var(--color-gold)] flex-shrink-0",style:{transform:"translateY(4px)"}}),t.jsx("h3",{className:"text-gray-800 font-semibold text-base block tracking-tight",children:r("How long should your video be?",o)})]}),!localStorage.getItem("ideas_examples_seen_v1")&&t.jsxs("div",{className:"rounded-xl cream-glow-box p-5",style:{background:"radial-gradient(circle at 16% 16%, rgba(var(--color-gold-rgb,203,138,0),0.08), rgba(var(--color-gold-rgb,203,138,0),0.02) 26%, var(--color-cream-bg) 60%), var(--color-cream-bg)",border:"1px solid rgba(var(--color-gold-rgb,203,138,0),0.10)",boxShadow:"inset 0 4px 12px rgba(var(--color-gold-rgb,203,138,0),0.02)"},children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(h,{className:"w-5 h-5 text-[var(--color-gold)] mr-2"}),t.jsx("h3",{className:"text-sm font-normal text-gray-700",children:r("Examples for video length:",o)})]}),t.jsxs("ul",{className:"space-y-2 text-xs text-gray-600 list-none pl-0",children:[t.jsxs("li",{children:[t.jsx("strong",{className:"text-gray-800",children:r("Short Form (15s–1m):",o)})," ",r("Quick tips, reactions, TikTok/Reels-style content",o)]}),t.jsxs("li",{children:[t.jsx("strong",{className:"text-gray-800",children:r("Standard (2–5m):",o)})," ",r("Tutorials, challenges, product demos, reviews",o)]}),t.jsxs("li",{children:[t.jsx("strong",{className:"text-gray-800",children:r("Extended (6–15m):",o)})," ",r("Deep dives, vlogs, detailed explanations, discussions",o)]}),t.jsxs("li",{children:[t.jsx("strong",{className:"text-gray-800",children:r("Long Form (16–30m+):",o)})," ",r("Documentaries, interviews, masterclasses, podcasts",o)]}),t.jsxs("li",{children:[t.jsx("strong",{className:"text-gray-800",children:r("Custom:",o)})," ",r("Let creators choose based on your content",o)]})]})]}),t.jsx(te,{lengths:i,selectedLength:e,setSelectedLength:s,customLength:n,setCustomLength:a,selectedLanguage:o})]})},te=({lengths:e,selectedLength:s,setSelectedLength:a,customLength:o,setCustomLength:i,selectedLanguage:c="English"})=>{const[d,u]=l.useState(!1),m=l.useRef(null),x=l.useRef(null);l.useEffect(()=>{const e=e=>{d&&(m.current&&m.current.contains(e.target)||x.current&&x.current.contains(e.target)||u(!1))};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[d]);const g=e=>{a(e),u(!1)},p=e.find(e=>e.id===s);return t.jsxs("div",{className:"relative",children:[t.jsxs("button",{ref:x,type:"button","aria-haspopup":"listbox","aria-expanded":d,onClick:()=>u(e=>!e),className:"w-full flex items-center justify-between p-4 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm",children:[t.jsxs("div",{className:"text-left",children:[p?t.jsx("div",{className:"text-sm font-medium text-gray-800",children:r(p.label,c)}):t.jsx("div",{className:"text-sm text-gray-500",children:r("Select preferred video length",c)}),t.jsx("div",{className:"text-xs text-gray-400",children:p?r(p.duration,c):""})]}),t.jsx(z,{className:"w-4 h-4 text-gray-500"})]}),d&&t.jsx("div",{className:"absolute z-20 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg",children:t.jsx("ul",{ref:m,role:"listbox","aria-label":"Video lengths",className:"divide-y divide-gray-100",children:e.map(e=>t.jsxs("li",{role:"option",tabIndex:0,"aria-selected":s===e.id,onClick:()=>g(e.id),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),g(e.id))},className:"p-3 flex items-start cursor-pointer hover:bg-gray-50 "+(s===e.id?"bg-[var(--color-gold-cream)]":""),children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-sm font-medium "+(s===e.id?"text-gray-900":"text-gray-800"),children:r(e.label,c)}),t.jsx("div",{className:"text-xs text-gray-500",children:r(e.duration,c)}),t.jsx("div",{className:"text-xs text-gray-600 mt-1",children:r(e.description,c)}),"custom"===e.id&&"custom"===s&&t.jsxs("div",{className:"mt-3 flex gap-2",onClick:e=>e.stopPropagation(),children:[t.jsx("input",{type:"text",placeholder:r("Enter desired length (e.g. 45 mins)",c),value:o,onChange:e=>i(e.target.value),className:"flex-1 p-3 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-soft)] focus:border-[var(--color-accent)] transition-all",autoFocus:!0}),t.jsx("button",{onClick:()=>{o.trim()},className:"px-3 py-3 bg-[var(--color-gold)] hover:bg-[var(--color-gold)]/90 text-white rounded-lg flex items-center justify-center transition-colors",title:r("Save",c),children:t.jsx(n,{className:"w-5 h-5"})})]})]}),s===e.id&&t.jsx(n,{className:"w-4 h-4 text-[var(--color-gold)] ml-3"})]},e.id))})})]})},re=({options:e,selected:s,setSelected:a,selectedLanguage:o="English"})=>{const[i,c]=l.useState(!1),d=l.useRef(null),u=l.useRef(null);l.useEffect(()=>{const e=e=>{i&&(d.current&&d.current.contains(e.target)||u.current&&u.current.contains(e.target)||c(!1))};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[i]);const m=e=>{a(e),c(!1)},x=e.find(e=>e.type===s);return t.jsxs("div",{className:"relative",children:[t.jsxs("button",{ref:u,type:"button","aria-haspopup":"listbox","aria-expanded":i,onClick:()=>c(e=>!e),className:"w-full flex items-center justify-between p-4 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm",children:[t.jsxs("div",{className:"text-left",children:[x?t.jsx("div",{className:"text-sm font-medium text-gray-800",children:r(x.title,o)}):t.jsx("div",{className:"text-sm text-gray-500",children:r("Select frequency",o)}),t.jsx("div",{className:"text-xs text-gray-400",children:x?r(x.subtitle,o):""})]}),t.jsx(z,{className:"w-4 h-4 text-gray-500"})]}),i&&t.jsx("div",{className:"absolute z-20 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg",children:t.jsx("ul",{ref:d,role:"listbox","aria-label":"Frequency options",className:"divide-y divide-gray-100",children:e.map(e=>t.jsxs("li",{role:"option",tabIndex:0,"aria-selected":s===e.type,onClick:()=>m(e.type),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),m(e.type))},className:"p-3 flex items-start cursor-pointer hover:bg-gray-50 "+(s===e.type?"bg-[var(--color-gold-cream)]":""),children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-sm font-medium "+(s===e.type?"text-gray-900":"text-gray-800"),children:r(e.title,o)}),t.jsx("div",{className:"text-xs text-gray-500",children:r(e.subtitle,o)})]}),s===e.type&&t.jsx(n,{className:"w-4 h-4 text-[var(--color-gold)] ml-3"})]},e.type))})})]})},se=({files:e,setFiles:s,links:n,setLinks:a,selectedLanguage:o="English"})=>{const i=l.useRef(null),[d,u]=l.useState(""),m=()=>{d.trim()&&(a([...n,d.trim()]),u(""))};return t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsxs("div",{onClick:()=>i.current.click(),className:"border-2 border-dashed border-gray-200 rounded-xl p-8 flex flex-col items-center justify-center text-center hover:bg-[var(--bg)] transition-colors cursor-pointer bg-[var(--surface)]",children:[t.jsx("input",{type:"file",multiple:!0,className:"hidden",ref:i,onChange:t=>{t.target.files&&t.target.files.length>0&&s([...e,...Array.from(t.target.files)])}}),t.jsx("div",{className:"p-3 bg-gray-100 rounded-full mb-3",children:t.jsx(k,{className:"w-6 h-6 text-gray-500"})}),t.jsx("h3",{className:"text-sm font-normal text-gray-700",children:r("Upload reference files",o)}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:r("Images, videos, PDFs, documents",o)})]}),e.length>0&&t.jsx("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2",children:e.map((r,n)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[t.jsxs("div",{className:"flex items-center overflow-hidden",children:[t.jsx(k,{className:"w-4 h-4 text-gray-400 mr-2 flex-shrink-0"}),t.jsx("span",{className:"text-sm text-gray-700 truncate",children:r.name})]}),t.jsx("button",{onClick:()=>(t=>{s(e.filter((e,r)=>r!==t))})(n),className:"text-gray-400 hover:text-red-500 ml-2",children:t.jsx(c,{className:"w-4 h-4"})})]},n))}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"text",placeholder:r("Add reference links",o)+"...",value:d,onChange:e=>u(e.target.value),onKeyDown:e=>"Enter"===e.key&&m(),className:"flex-1 p-4 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-soft)] focus:border-[var(--color-accent)] transition-all"}),t.jsx("button",{onClick:m,className:"p-4 bg-gray-100 rounded-xl text-gray-500 hover:bg-gray-200 transition-colors",children:t.jsx(C,{className:"w-5 h-5"})})]}),n.length>0&&t.jsx("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2",children:n.map((e,r)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[t.jsxs("div",{className:"flex items-center overflow-hidden",children:[t.jsx(C,{className:"w-4 h-4 text-gray-400 mr-2 flex-shrink-0"}),t.jsx("span",{className:"text-sm text-blue-600 truncate underline",children:e})]}),t.jsx("button",{onClick:()=>(e=>{a(n.filter((t,r)=>r!==e))})(r),className:"text-gray-400 hover:text-red-500 ml-2",children:t.jsx(c,{className:"w-4 h-4"})})]},r))})]})},ne=({selectedDates:e,setSelectedDates:s,selectedLanguage:n="English"})=>{const[a,o]=l.useState(new Date),i=(c=a,new Date(c.getFullYear(),c.getMonth()+1,0).getDate());var c;const d=(e=>new Date(e.getFullYear(),e.getMonth(),1).getDay())(a),u=Array.from({length:i},(e,t)=>t+1),m=Array.from({length:d},(e,t)=>t),x=[r("January",n),r("February",n),r("March",n),r("April",n),r("May",n),r("June",n),r("July",n),r("August",n),r("September",n),r("October",n),r("November",n),r("December",n)];return t.jsxs("div",{className:"mt-4 p-4 bg-[var(--surface)] rounded-xl border border-gray-200 shadow-sm animate-in fade-in slide-in-from-top-2",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("button",{onClick:()=>o(new Date(a.getFullYear(),a.getMonth()-1,1)),className:"p-1 hover:bg-[var(--bg)] rounded-full",children:t.jsx(V,{className:"w-5 h-5 text-gray-600"})}),t.jsxs("span",{className:"font-semibold text-gray-800",children:[x[a.getMonth()]," ",a.getFullYear()]}),t.jsx("button",{onClick:()=>o(new Date(a.getFullYear(),a.getMonth()+1,1)),className:"p-1 hover:bg-[var(--bg)] rounded-full",children:t.jsx(B,{className:"w-5 h-5 text-gray-600"})})]}),t.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:["S","M","T","W","T","F","S"].map((e,r)=>t.jsx("div",{className:"text-xs font-medium text-gray-400",children:e},r))}),t.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[m.map(e=>t.jsx("div",{},`blank-${e}`)),u.map(r=>{const n=new Date(a.getFullYear(),a.getMonth(),r).toDateString(),o=e.includes(n);return t.jsx("div",{onClick:t=>{t.stopPropagation(),(t=>{const r=new Date(a.getFullYear(),a.getMonth(),t).toDateString();e.includes(r)?s(e.filter(e=>e!==r)):s([...e,r])})(r)},className:`\n                                h-8 w-8 flex items-center justify-center rounded-full text-sm cursor-pointer transition-colors\n                                ${o?"bg-[var(--color-gold)] text-white":"hover:bg-[var(--bg)] text-gray-700"}\n                            `,children:r},r)})]}),t.jsxs("div",{className:"mt-3 text-xs text-gray-500 text-center",children:[e.length," dates selected"]})]})},ae=({description:e,setDescription:s,title:a,setTitle:o,MAX_CHARS:i,seriesStep:c,numberOfEpisodes:d,setNumberOfEpisodes:u,selectedReleaseSchedule:m,setSelectedReleaseSchedule:x,customSeriesDates:g,setCustomSeriesDates:h,selectedLanguage:f="English"})=>{const b=[{id:"all-at-once",label:r("All at once",f),icon:$},{id:"weekly",label:r("Weekly",f),icon:p},{id:"monthly",label:r("Monthly",f),icon:_},{id:"custom",label:r("Custom Dates",f),icon:S}],[y,v]=l.useState(!1),w=l.useRef(null),j=l.useRef(null);return l.useEffect(()=>{const e=e=>{y&&(w.current&&w.current.contains(e.target)||j.current&&j.current.contains(e.target)||v(!1))};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[y]),1===c?t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsx("span",{className:"italic",children:r("Using the Description and Title you entered above for this series.",f)}),t.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const e=document.getElementById("description-input");e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus(),e.classList.add("jump-highlight"),setTimeout(()=>e.classList.remove("jump-highlight"),900))},children:r("Edit",f)})]})}):2===c?t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex items-center text-sm font-normal text-[var(--color-accent)]",children:[t.jsx(n,{className:"w-4 h-4 mr-2 text-[var(--color-accent)]"}),t.jsx("span",{className:"tracking-tight",children:r("Format selected! Now detail your series.",f)})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsx("span",{className:"italic",children:r("Using the Description and Title you entered above for this series.",f)}),t.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const e=document.getElementById("description-input");e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus(),e.classList.add("jump-highlight"),setTimeout(()=>e.classList.remove("jump-highlight"),900));const t=document.getElementById("title-input");t&&setTimeout(()=>{t.focus(),t.classList.add("jump-highlight"),setTimeout(()=>t.classList.remove("jump-highlight"),900)},300)},children:r("Edit",f)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-gray-800 font-semibold text-base block mb-3",children:r("How many episodes would you like?",f)}),t.jsxs("div",{className:"relative",style:{maxWidth:220},children:[t.jsxs("button",{ref:j,type:"button",onClick:()=>v(e=>!e),className:"w-full flex items-center justify-between px-3 py-2 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(z,{className:"w-4 h-4 text-gray-500"}),t.jsx("div",{className:"text-lg font-semibold",children:d}),t.jsx("span",{className:"text-xs text-gray-400",children:r("episodes",f)})]}),t.jsx(M,{className:"w-4 h-4 text-gray-500"})]}),y&&t.jsxs("div",{ref:w,className:"absolute z-30 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg p-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("button",{onClick:()=>u(Math.max(1,d-1)),className:"p-2 rounded-lg bg-gray-50 hover:bg-gray-100","aria-label":"Decrease episodes",children:t.jsx(z,{className:"w-4 h-4"})}),t.jsx("input",{type:"number",value:d,onChange:e=>{const t=Math.max(1,parseInt(e.target.value||"0",10)||1);u(t)},className:"mx-3 text-center font-bold w-16 p-2 border rounded-lg","aria-label":"Number of episodes"}),t.jsx("button",{onClick:()=>u(d+1),className:"p-2 rounded-lg bg-gray-50 hover:bg-gray-100","aria-label":"Increase episodes",children:t.jsx(M,{className:"w-4 h-4"})})]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[3,5,10,25,50,100].map(e=>t.jsx("button",{onClick:()=>{u(e),v(!1)},className:"py-2 px-2 rounded-lg bg-gray-50 hover:bg-gray-100 text-sm font-medium",children:e},e))})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-gray-800 font-semibold text-base block mb-3",children:r("How often would you like personalized videos delivered?",f)}),t.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Pick a rhythm creators should follow (daily, weekly, monthly, or custom)."}),t.jsx("div",{className:"w-full",children:t.jsx(re,{options:b.map(e=>({type:e.id,title:e.label,subtitle:e.label})),selected:m,setSelected:x,selectedLanguage:f})}),"custom"===m&&t.jsx(ne,{selectedDates:g,setSelectedDates:h})]})]}):null},oe=({value:e,setValue:s,selectedLanguage:n="English"})=>{const[a,o]=l.useState(!1),i=l.useRef(null),c=l.useRef(null);return l.useEffect(()=>{const e=e=>{a&&(i.current&&i.current.contains(e.target)||c.current&&c.current.contains(e.target)||o(!1))};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[a]),t.jsxs("div",{className:"relative",style:{maxWidth:220},children:[t.jsxs("button",{ref:c,type:"button",onClick:()=>o(e=>!e),className:"w-full flex items-center justify-between px-3 py-2 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(z,{className:"w-4 h-4 text-gray-500"}),t.jsx("div",{className:"text-lg font-semibold",children:e}),t.jsx("span",{className:"text-xs text-gray-400",children:r("videos",n)})]}),t.jsx(M,{className:"w-4 h-4 text-gray-500"})]}),a&&t.jsxs("div",{ref:i,className:"absolute z-30 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg p-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("button",{onClick:()=>s(Math.max(1,(e||0)-1)),className:"p-2 rounded-lg bg-gray-50 hover:bg-gray-100","aria-label":"Decrease videos",children:t.jsx(z,{className:"w-4 h-4"})}),t.jsx("input",{type:"number",value:e,onChange:e=>{const t=Math.max(1,parseInt(e.target.value||"0",10)||1);s(t)},className:"mx-3 text-center font-bold w-16 p-2 border rounded-lg","aria-label":"Number of videos"}),t.jsx("button",{onClick:()=>s((e||0)+1),className:"p-2 rounded-lg bg-gray-50 hover:bg-gray-100","aria-label":"Increase videos",children:t.jsx(M,{className:"w-4 h-4"})})]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[3,5,10,25,50,100].map(e=>t.jsx("button",{onClick:()=>{s(e),o(!1)},className:"py-2 px-2 rounded-lg bg-gray-50 hover:bg-gray-100 text-sm font-medium",children:e},e))})]})]})},ie=({description:e,setDescription:s,title:a,setTitle:o,MAX_CHARS:i,catalogueStep:l,targetVideos:c,setTargetVideos:d,themes:u,setThemes:m,selectedLanguage:x="English"})=>1===l?t.jsx("div",{className:"space-y-8",children:t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsx("span",{className:"italic",children:r("Using the Description and Title you entered above for this catalogue.",x)}),t.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const e=document.getElementById("description-input");e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus(),e.classList.add("jump-highlight"),setTimeout(()=>e.classList.remove("jump-highlight"),900))},children:r("Edit",x)})]})}):2===l?t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex items-center text-sm font-normal text-[var(--color-accent)]",children:[t.jsx(n,{className:"w-4 h-4 mr-2 text-[var(--color-accent)]"}),t.jsx("span",{className:"tracking-tight",children:r("Catalogue selected — set target videos and themes.",x)})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsx("span",{className:"italic",children:r("Using the Description and Title you entered above for this catalogue.",x)}),t.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const e=document.getElementById("description-input");e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus(),e.classList.add("jump-highlight"),setTimeout(()=>e.classList.remove("jump-highlight"),900))},children:r("Edit",x)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-gray-800 font-semibold text-base block mb-3",children:r("How many videos would you like?",x)}),t.jsx(oe,{value:c,setValue:d,selectedLanguage:x})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-gray-800 font-semibold text-base block mb-3",children:r("Which themes or categories should we cover?",x)}),t.jsx("textarea",{rows:"4",placeholder:r("List the themes or categories to cover (e.g., 'Breakfast, Lunch, Dinner, Snacks')",x),value:u,onChange:e=>m(e.target.value),className:"w-full p-4 text-gray-700 border border-gray-200 rounded-xl focus:ring-0 focus:border-gray-300 outline-none text-base"})]})]}):null,le=({selectedPrivacy:e,setSelectedPrivacy:s,prevStepCompleted:o=!1,selectedLanguage:i="English"})=>{const c=[{id:"public",label:r("Public",i),icon:A,desc:r("Visible to everyone",i),price:null,cost:0},{id:"unlisted",label:r("Unlisted",i),icon:C,desc:r("Only people with the link",i),price:"+$5.99",cost:5.99},{id:"private",label:r("Private",i),icon:a,desc:r("Only you",i),price:"+$7.99",cost:7.99}],[d,u]=l.useState(!1),m=l.useRef(null);return t.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:t.jsx("div",{className:"space-y-2 text-left",children:t.jsxs("div",{className:"relative",ref:m,children:[t.jsx("style",{children:'\n                .privacy-outline-svg { position: absolute; inset: 0; pointer-events: none; overflow: visible; }\n                .privacy-outline-base { stroke: rgba(226,232,240,1); stroke-width: 1.5; fill: none; stroke-linejoin: round; }\n\n                /* Perimeter for rect(97x37) = 2*(97+37) = 268\n                   The short "moving snake" length is increased to 597 (3×199)\n                   so the animated gradient band appears longer while still\n                   remaining shorter than the full perimeter. */\n                /* Tail (gradient) - use the longer moving band length (597) */\n                .privacy-outline-accent {\n                  stroke: url(#privacyGrad);\n                  stroke-width: 3.0;\n                  fill: none;\n                  stroke-linejoin: round;\n                  stroke-linecap: round;\n                  /* moving band length (199) — keep <= perimeter so animation is visible */\n                  stroke-dasharray: 199;\n                  stroke-dashoffset: 0;\n                  opacity: 1;\n                  transform-origin: center;\n                }\n                .privacy-outline-accent.run {\n                  opacity: 1;\n                  animation: privacy-run 2400ms cubic-bezier(.2,.9,.2,1) infinite;\n                }\n\n                /* moving rect styling (explicit) - prevents small square artifacts at corners */\n                .privacy-outline-mover {\n                  stroke: url(#privacyGrad);\n                  stroke-width: 3.0;\n                  fill: none;\n                  stroke-linejoin: round;\n                  stroke-linecap: round;\n                  /* match moving band length so animation is visible */\n                  stroke-dasharray: 199;\n                  stroke-dashoffset: 0;\n                  opacity: 1;\n                }\n                .privacy-outline-mover.run {\n                  animation: privacy-run 2400ms cubic-bezier(.2,.9,.2,1) infinite;\n                }\n\n                /* Head (solid comet) sits on top of the moving tail and gives a moving point */\n                .privacy-outline-head {\n                  stroke: var(--color-accent);\n                  stroke-width: 4.0;\n                  fill: none;\n                  stroke-linecap: round;\n                  /* head length (24) + gap so total equals the moving band (199) */\n                  stroke-dasharray: 24 175; /* 24 + 175 = 199 */\n                  stroke-dashoffset: 0;\n                  opacity: 1.0;\n                }\n                .privacy-outline-head.run {\n                  opacity: 1;\n                  animation: privacy-run 2400ms cubic-bezier(.2,.9,.2,1) infinite;\n                }\n\n                /* move dashoffset negative to travel clockwise around the rect\n                   use the new moving band length (597) for a full loop offset */\n                @keyframes privacy-run {\n                  from { stroke-dashoffset: 0; }\n                  to { stroke-dashoffset: -199; }\n                }\n              '}),t.jsxs("button",{type:"button",onClick:()=>u(e=>!e),className:"w-full flex items-center justify-between p-4 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm relative overflow-visible","aria-haspopup":"listbox","aria-expanded":d,style:{zIndex:1},children:[t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"text-gray-800 font-semibold text-base block tracking-tight",children:r("Who should be able to see your video?",i)}),t.jsx("div",{className:"text-sm text-gray-500",children:r((c.find(t=>t.id===e)||{}).label||"Select visibility",i)})]}),t.jsx(z,{className:"w-4 h-4 text-gray-500"})]}),t.jsxs("svg",{className:"privacy-outline-svg",viewBox:"0 0 100 40",preserveAspectRatio:"none","aria-hidden":!0,children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"privacyGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[t.jsx("stop",{offset:"0%",stopColor:"transparent",stopOpacity:"0"}),t.jsx("stop",{offset:"8%",stopColor:"var(--color-accent)",stopOpacity:"0.18"}),t.jsx("stop",{offset:"30%",stopColor:"var(--color-accent)",stopOpacity:"0.95"}),t.jsx("stop",{offset:"80%",stopColor:"var(--color-accent)",stopOpacity:"0.4"}),t.jsx("stop",{offset:"100%",stopColor:"transparent",stopOpacity:"0"})]}),t.jsx("clipPath",{id:"privacyClip",children:t.jsx("rect",{x:"2.5",y:"2.5",width:"95",height:"35",rx:"11"})})]}),t.jsx("rect",{x:"1.5",y:"1.5",width:"97",height:"37",rx:"12",className:"privacy-outline-base"})]}),d&&t.jsx("div",{className:"absolute z-20 mt-2 w-full bg-white border border-gray-100 rounded-xl shadow-lg",children:t.jsx("ul",{role:"listbox",className:"divide-y divide-gray-100",children:c.map(a=>t.jsxs("li",{role:"option",tabIndex:0,"aria-selected":e===a.id,onClick:()=>{s(a.id),u(!1)},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),s(a.id),u(!1))},className:"p-3 flex items-start cursor-pointer hover:bg-gray-50",children:[t.jsx(a.icon,{className:"w-5 h-5 mr-3 mt-0.5 "+(e===a.id?"text-[var(--color-gold)]":"text-gray-400")}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-sm font-medium "+(e===a.id?"text-gray-900":"text-gray-700"),children:r(a.label,i)}),a.price&&t.jsx("div",{className:"text-sm font-normal text-gray-900",children:a.price})]}),t.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:r(a.desc,i)})]}),e===a.id&&t.jsx("div",{className:"ml-3 mt-0.5",children:t.jsx(n,{className:"w-4 h-4 text-[var(--color-gold)]"})})]},a.id))})})]})})})},ce=({title:e,description:s,selectedDeliveryType:n,selectedTones:a,selectedVideoLength:o,customVideoLength:i,selectedPrivacy:c,selectedFrequency:d,customRecurrentDates:u,numberOfEpisodes:m,selectedReleaseSchedule:x,customSeriesDates:g,targetVideos:p,themes:h,uploadedFiles:f,referenceLinks:b,customPrice:y,setCustomPrice:v,editingPrice:w,setEditingPrice:j,priceInput:N,setPriceInput:k,priceInputRef:C,savePrice:L,displayPrice:E,sanitizePriceInput:I,onEdit:T,onSaveReview:R,selectedLanguage:P="English"})=>{const[F,D]=l.useState(!1),z=s&&s.length>120;F||!z||s&&s.substring(0,120);const[A,q]=l.useState(null),[_,M]=l.useState({title:e||"",description:s||"",delivery:n||"",frequency:d||null,length:o||null,customLength:i||"",privacy:c||null,price:"number"==typeof y?y:E||0,tones:a||[],themes:h||""});l.useEffect(()=>{M({title:e||"",description:s||"",delivery:n||"",frequency:d||null,length:o||null,customLength:i||"",privacy:c||null,price:"number"==typeof y?y:E||0,tones:a||[],themes:h||""})},[e,s,n,d,o,i,c,y,a,h]);const B=e=>{if("price"===e&&"function"==typeof v&&v(Number(_.price)||0),"function"==typeof R)try{R(_)}catch(t){}q(null)};return t.jsxs("div",{className:"relative ideas-review-root animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx("style",{children:"\n        .review-card { border-radius: 14px; }\n        .field-edit-actions { display:flex; gap:8px; margin-top:8px; }\n      "}),t.jsxs("div",{className:"relative p-5 bg-[var(--surface)] border border-gray-200 review-card",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:r("Review Your Request",P)}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r("A final look before submission",P)})]}),t.jsx("div",{className:"text-xs text-gray-400",children:(new Date).toLocaleDateString()})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 border-b border-gray-200 pb-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-xs font-normal text-gray-500 uppercase tracking-wider mb-1",children:r("TITLE",P)}),"title"!==A?t.jsx("button",{onClick:()=>q("title"),className:"text-gray-400 hover:text-gray-600",children:t.jsx(S,{className:"w-4 h-4"})}):null]}),"title"===A?t.jsxs("div",{children:[t.jsx("input",{value:_.title,onChange:e=>M({..._,title:e.target.value}),className:"w-full p-3 rounded-lg border border-gray-200 text-gray-900"}),t.jsxs("div",{className:"field-edit-actions",children:[t.jsx("button",{onClick:()=>B("title"),className:"px-3 py-2 rounded-lg bg-[var(--color-accent)] text-white",children:r("Save",P)}),t.jsx("button",{onClick:()=>{M(t=>({...t,title:e||""})),q(null)},className:"px-3 py-2 rounded-lg border",children:r("Cancel",P)})]})]}):t.jsx("p",{className:"text-lg font-semibold text-gray-900","aria-label":"Request title",children:_.title||e||`(${r("No title",P)})`})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-xs font-normal text-gray-500 uppercase tracking-wider mb-1",children:r("DESCRIPTION",P)}),"description"!==A?t.jsx("button",{onClick:()=>q("description"),className:"text-gray-400 hover:text-gray-600",children:t.jsx(S,{className:"w-4 h-4"})}):null]}),"description"===A?t.jsxs("div",{children:[t.jsx("textarea",{value:_.description,onChange:e=>M({..._,description:e.target.value}),rows:4,className:"w-full p-3 rounded-lg border border-gray-200 text-gray-900"}),t.jsxs("div",{className:"field-edit-actions",children:[t.jsx("button",{onClick:()=>B("description"),className:"px-3 py-2 rounded-lg bg-[var(--color-accent)] text-white",children:r("Save",P)}),t.jsx("button",{onClick:()=>{M(e=>({...e,description:s||""})),q(null)},className:"px-3 py-2 rounded-lg border",children:r("Cancel",P)})]})]}):t.jsx("p",{className:"text-gray-700",style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:_.description||s||`(${r("No description",P)})`})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xs font-normal text-gray-500 uppercase tracking-wider mb-1",children:r("FORMAT",P)}),t.jsx("p",{className:"text-gray-900 font-medium capitalize",children:r("one-time"===n?"One-Time":n?n.charAt(0).toUpperCase()+n.slice(1):"",P)||_.delivery||"—"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xs font-normal text-gray-500 uppercase tracking-wider mb-1",children:r("LENGTH",P)}),t.jsx("p",{className:"text-gray-900",children:{"short-form":r("Short Form",P),standard:r("Standard",P),extended:r("Extended",P),"long-form":r("Long Form",P)}[o]||o})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xs font-normal text-gray-500 uppercase tracking-wider mb-1",children:r("PRIVACY",P)}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-gray-900",children:{public:r("Public",P),unlisted:r("Unlisted",P)+" (+$5.99)",private:r("Private",P)+" (+$9.99)"}[c]||c}),t.jsx("button",{onClick:()=>q("privacy"),className:"text-gray-400 hover:text-gray-600",children:t.jsx(S,{className:"w-4 h-4"})})]}),"privacy"===A&&t.jsxs("div",{className:"mt-2 flex gap-2",children:[t.jsx("button",{onClick:()=>{M(e=>({...e,privacy:"public"})),B("privacy")},className:"px-3 py-1 rounded-lg border",children:r("Public",P)}),t.jsx("button",{onClick:()=>{M(e=>({...e,privacy:"unlisted"})),B("privacy")},className:"px-3 py-1 rounded-lg border",children:r("Unlisted",P)}),t.jsx("button",{onClick:()=>{M(e=>({...e,privacy:"private"})),B("privacy")},className:"px-3 py-1 rounded-lg border",children:r("Private",P)})]})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("h3",{className:"text-xs font-normal text-gray-500 uppercase tracking-wider mb-1",children:r("BUDGET",P)}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"text-lg font-semibold",children:["$",Number(_.price||0).toFixed(2)]}),t.jsx("button",{onClick:()=>q("budget"),className:"text-gray-400 hover:text-gray-600",children:t.jsx(S,{className:"w-4 h-4"})})]}),"budget"===A&&t.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[t.jsx("input",{type:"number",value:_.price,onChange:e=>M(t=>({...t,price:e.target.value})),className:"p-2 rounded-lg border"}),t.jsx("button",{onClick:()=>B("price"),className:"px-3 py-2 rounded-lg bg-[var(--color-accent)] text-white",children:r("Save",P)}),t.jsx("button",{onClick:()=>{M(e=>({...e,price:E||0})),q(null)},className:"px-3 py-2 rounded-lg border",children:r("Cancel",P)})]})]})]}),t.jsx("div",{className:"mt-4",children:t.jsx("button",{onClick:T,className:"text-sm text-gray-500 hover:text-gray-700 underline",children:r("Edit Request",P)})})]})]})},de=()=>{const e=i(),{selectedLanguage:o}=s(),d=300,x=10,[k,S]=l.useState(null),[C,L]=l.useState(!1),[E,I]=l.useState(!1),[T,R]=l.useState(""),[P,F]=l.useState(()=>{try{const e=new URLSearchParams(window.location.search||"");return e.get("q")||e.get("term")||e.get("search")||""}catch(e){return""}}),[D,z]=l.useState(!1),[A,q]=l.useState(!1),[_,M]=l.useState(""),[B,U]=l.useState([]),[H,te]=l.useState([]),[re,ne]=l.useState(1),[oe,de]=l.useState(1),[ue,me]=l.useState(null),[xe,ge]=l.useState([]),[pe,he]=l.useState(1),[fe,be]=l.useState(5),[ye,ve]=l.useState(null),[we,je]=l.useState([]),[Ne,ke]=l.useState(1),[Se,Ce]=l.useState(0),[Le,Ee]=l.useState(null),[Ie,Te]=l.useState(!1),[Re,Pe]=l.useState("0.00"),Fe=l.useRef(null),[De,ze]=l.useState(!1),[Ae,qe]=l.useState(null),[_e,Me]=l.useState(25),[Be,Ue]=l.useState("creator"),[$e,Oe]=l.useState(0),[Ve,Ye]=l.useState(null),[He,Je]=l.useState(null),[We,Ke]=l.useState(""),[Xe,Ge]=l.useState(!1),[Qe,Ze]=l.useState(!1),[et,tt]=l.useState(null),[rt,st]=l.useState(!1),[nt,at]=l.useState(!1),[ot,it]=l.useState(null),[lt,ct]=l.useState(null),[dt,ut]=l.useState(!1);l.useEffect(()=>{if(Qe){Ge(!0);try{setTimeout(()=>{Et.current&&Et.current.focus()},80)}catch(e){}}},[Qe]);const[mt,xt]=l.useState(!1),gt=l.useRef(null),[pt,ht]=l.useState(!1),ft=l.useRef(null),bt=()=>{try{if(localStorage.getItem("ideas_examples_seen_v1"))return;ht(!0),localStorage.setItem("ideas_examples_seen_v1","1")}catch(e){}},[yt,vt]=l.useState(null),[wt,jt]=l.useState(!1),Nt=l.useRef(null),kt=l.useRef(null),St=l.useRef(null),Ct=l.useRef(null),Lt=l.useRef(null);l.useEffect(()=>()=>{Ct.current&&(clearTimeout(Ct.current),Ct.current=null),Lt.current&&(clearTimeout(Lt.current),Lt.current=null)},[pt,k]),l.useEffect(()=>{if(P&&P.length>=5){if(gt.current&&clearTimeout(gt.current),gt.current=setTimeout(()=>xt(!0),1e3),ft.current){try{ft.current instanceof IntersectionObserver?ft.current.disconnect():clearTimeout(ft.current)}catch(e){}ft.current=null}try{if("undefined"!=typeof IntersectionObserver&&St.current){const t=new IntersectionObserver(r=>{r.forEach(r=>{if(r.isIntersecting){bt();try{t.disconnect()}catch(e){}ft.current=null}})},{root:null,rootMargin:"0px 0px 400px 0px",threshold:0});t.observe(St.current),ft.current=t}else ft.current=setTimeout(()=>bt(),6100)}catch(e){ft.current=setTimeout(()=>bt(),6100)}}else{if(gt.current&&(clearTimeout(gt.current),gt.current=null),xt(!1),ft.current){try{ft.current instanceof IntersectionObserver?ft.current.disconnect():clearTimeout(ft.current)}catch(e){}ft.current=null}ht(!1)}return()=>{if(gt.current&&(clearTimeout(gt.current),gt.current=null),ft.current){try{ft.current instanceof IntersectionObserver?ft.current.disconnect():clearTimeout(ft.current)}catch(e){}ft.current=null}}},[P,5]),l.useEffect(()=>(k?(Nt.current&&clearTimeout(Nt.current),kt.current&&clearTimeout(kt.current),vt(null),jt(!1),Nt.current=setTimeout(()=>{const e={series:r("Series selected — now configure episode details.",o),catalogue:r("Catalogue selected — set target videos and themes.",o),recurrent:r("Recurrent selected — choose a delivery frequency.",o),"one-time":r("One-Time selected — next step: Tone & Style.",o)};vt(e[k]||null)},400),kt.current=setTimeout(()=>{jt(!0)},4800)):(Nt.current&&clearTimeout(Nt.current),kt.current&&clearTimeout(kt.current),Nt.current=null,kt.current=null,vt(null),jt(!1)),()=>{Nt.current&&(clearTimeout(Nt.current),Nt.current=null),kt.current&&(clearTimeout(kt.current),kt.current=null)}),[k]),l.useEffect(()=>{try{let e=document.getElementById("ideas-theme-styles");e||(e=document.createElement("style"),e.id="ideas-theme-styles",document.head.appendChild(e));const t="\n        :root { --brand-gold: var(--color-gold); --color-gold-cream: rgba(255, 242, 199, 1); }\n        @keyframes shimmer-gold-premium { 0% { background-position: 100% 0; } 40% { background-position: 0% 0; } 100% { background-position: 0% 0; } }\n        .shimmer-gold { background: linear-gradient(100deg, var(--color-gold) 0%, var(--color-gold) 42%, var(--color-gold-cream) 45%, var(--color-gold-cream) 55%, var(--color-gold) 58%, var(--color-gold) 100%); background-size: 300% 100%; animation: shimmer-gold-premium 3s ease-in-out infinite; }\n        @keyframes pulse-ring { 0% { box-shadow: 0 0 0 0 var(--color-gold); } 70% { box-shadow: 0 0 0 12px rgba(0,0,0,0); } 100% { box-shadow: 0 0 0 0 rgba(0,0,0,0); } }\n        .pulse-price { animation: pulse-ring 2.2s infinite; }\n\n        /* Sweeping text: white overlay that passes over the heading without tinting it. */\n        .sweeping-text-container { position: relative; display: inline-block; overflow: hidden; z-index: 1; }\n        .sweep-effect { position: absolute; top: 0; left: -40%; height: 100%; width: 60%; pointer-events: none; border-radius: 8px;\n            background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.95) 50%, rgba(255,255,255,0) 100%);\n            mix-blend-mode: normal; transform: translateX(0); animation: sweep-anim 2000ms ease-in-out forwards; z-index: 0; }\n        @keyframes sweep-anim { 0% { transform: translateX(-120%); opacity: 0; } 8% { opacity: 1; } 85% { transform: translateX(120%); opacity: 1; } 100% { transform: translateX(120%); opacity: 0; } }\n        \n        /* Ensure the Ideas page elements adopt the page background so inputs and panels blend */\n        .ideas-root .bg-white { background-color: var(--surface) !important; box-shadow: none !important; }\n        .ideas-root input, .ideas-root textarea, .ideas-root select, .ideas-root .rounded-xl, .ideas-root .rounded-2xl { background-color: #F8F8FA !important; }\n        .ideas-root .border-gray-200 { border-color: rgba(15,23,42,0.06) !important; }\n\n        .ideas-root h2, .ideas-root h3, .ideas-root h4, .ideas-root h5, .ideas-root .text-lg, .ideas-root .text-xl, .ideas-root .text-2xl, .ideas-root input, .ideas-root textarea, .ideas-root label {\n          font-size: 1rem !important;\n          line-height: 1.2 !important;\n        }\n\n        /* Exclude the main animated page title (keeps its larger size) */\n        .ideas-root .cream-glow-box h1 { font-size: clamp(20px, 6.5vw, 34px) !important; line-height: 1.1 !important; }\n        \n        /* Payment modal revamp styles - CLASSY & PREMIUM */\n        .payment-modal-panel { background: #ffffff; border-radius: 24px; padding: 40px; border: 1px solid rgba(15,23,42,0.04); box-shadow: 0 40px 80px -12px rgba(0, 0, 0, 0.12); width: 100%; max-width: 550px; margin: auto; }\n        .payment-modal-header { display:flex; align-items:flex-start; justify-content:space-between; gap:20px; margin-bottom: 24px; }\n        .payment-modal-title { font-size:24px; font-weight:800; letter-spacing: -0.02em; color: #1e293b; margin:0; line-height: 1.2; }\n        .payment-modal-sub { color:#64748b; font-size:15px; margin-top:8px; line-height: 1.6; }\n        \n        .preset-row { display:flex; gap:16px; align-items:center; flex-wrap:wrap; margin-bottom: 24px; }\n        .preset-btn { flex: 1; min-width:110px; display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:16px 20px; border-radius:16px; font-weight:700; cursor:pointer; border:1px solid rgba(15,23,42,0.04); transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); font-size: 18px; }\n        .preset-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px -5px rgba(0,0,0,0.05); }\n        .preset-btn:active { transform: translateY(0); }\n        \n        .preset-btn.bg-primary { background: linear-gradient(135deg, var(--color-primary), #7a3af0); color:white; box-shadow: 0 12px 25px -8px rgba(122,58,240,0.4); border: none; }\n        .preset-btn.bg-gray { background:#f8fafc; color:#0f172a; border-color: #e2e8f0; }\n        \n        .amount-row { display:flex; align-items:center; justify-content:space-between; gap:16px; background: #f8fafc; padding: 16px 20px; border-radius: 16px; margin-bottom: 24px; }\n        .amount-input { width:120px; padding:12px 16px; border-radius:12px; border:1px solid rgba(15,23,42,0.08); font-size: 18px; font-weight: 600; text-align: right; }\n        \n        .payment-cta { display:inline-flex; align-items:center; justify-content:center; gap:12px; padding:18px 32px; border-radius:18px; background: linear-gradient(135deg, var(--color-primary), #7a3af0); color:white; font-size: 18px; font-weight:800; box-shadow: 0 20px 40px -10px rgba(122,58,240,0.3); border: none; cursor: pointer; transition: all 0.3s ease; text-decoration: none; }\n        .payment-cta:hover { transform: translateY(-2px); box-shadow: 0 25px 50px -12px rgba(122,58,240,0.4); }\n        \n        .modal-trust { display:flex; align-items:center; justify-content: center; gap:8px; color:#64748b; font-size:13px; margin-top:20px; font-weight: 500; }\n        \n        /* Provider list improvements */\n        .provider-item { padding:14px 18px; border-radius:14px; border:1px solid transparent; cursor:default; transition: background 0.2s; }\n        .provider-item.highlight { border-color: rgba(122,58,240,0.12); background: rgba(122,58,240,0.03); }\n        .payment-footer { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-top:18px; }\n        \n        input[type=range] {\n          -webkit-appearance: none; appearance: none; width: 100%; height: 8px; background: linear-gradient(90deg, rgba(15,23,42,0.06), rgba(15,23,42,0.04)); border-radius: 999px;\n        }\n        input[type=range]::-webkit-slider-runnable-track { height: 8px; border-radius: 999px; background: linear-gradient(90deg, rgba(15,23,42,0.06), rgba(15,23,42,0.04)); }\n        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 18px; height: 18px; border-radius: 50%; margin-top: -5px; background: linear-gradient(90deg, var(--color-primary), #7a3af0); box-shadow: 0 8px 20px rgba(122,58,240,0.18); border: 3px solid #fff; }\n        input[type=range]::-moz-range-track { height: 8px; border-radius: 999px; background: linear-gradient(90deg, rgba(15,23,42,0.06), rgba(15,23,42,0.04)); }\n        input[type=range]::-moz-range-thumb { width: 18px; height: 18px; border-radius: 50%; background: linear-gradient(90deg, var(--color-primary), #7a3af0); box-shadow: 0 8px 20px rgba(122,58,240,0.18); border: 3px solid #fff; }\n      ";e.textContent=":root {\n  --brand-gold: #ca8a04;\n  --brand-gold-600: #B27000;\n  --brand-gold-700: #8F5900;\n  --brand-gold-soft: rgba(203,138,0,0.12);\n  --brand-gold-light: rgba(203,138,0,0.4);\n/* Focused input inside provider chooser: subtle thin gold glow */\n.provider-card input:focus, .creator-search-input:focus {\n    outline: none;\n    border-color: var(--brand-gold-600);\n    0% { box-shadow: 0 12px 28px rgba(6,24,58,0.10); }\n    50% { box-shadow: 0 18px 40px rgba(6,24,58,0.12); }\n    100% { box-shadow: 0 12px 28px rgba(6,24,58,0.10); }\n}\n.provider-card.selected { animation: card-subtle-pulse 1000ms ease-out; }\n\n/* Edge fade removed for choose creator list clarity */\n.provider-carousel-wrap { position: relative; }\n.provider-carousel-wrap::before, .provider-carousel-wrap::after {\n    display: none !important;\n}\n\n/* Hide temporary rebuilt chooser to avoid duplicates */\n.choose-creator-new { display: none !important; }\n\n/* Expanded provider card (choose creator) */\n.provider-card.expanded { min-height: 180px; }\n/* Expanded body: fade + slight lift for a smooth premium feel */\n.provider-card .expanded-body {\n    max-height: 560px;\n    overflow: hidden;\n    opacity: 0;\n    transform: translateY(-6px);\n    transition: max-height 320ms ease, opacity 260ms ease, transform 260ms cubic-bezier(0.22,1,0.36,1);\n}\n.provider-card.expanded .expanded-body {\n    opacity: 1;\n    transform: translateY(0);\n}\n/* Unified Search Bar Container - Following home.jsx pattern */\n\n.creator-search-row {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    background: #ffffff;\n    border: 1px solid rgba(15,23,42,0.1);\n    border-radius: 12px;\n    padding: 10px 14px;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.04);\n    transition: all 0.2s ease;\n    margin-bottom: 16px;\n}\n.creator-search-row:focus-within {\n    border-color: var(--brand-gold-600);\n    box-shadow: 0 4px 16px rgba(203,138,0,0.12);\n}\n\n/* Input Wrapper */\n.creator-search-input-wrap {\n    flex: 1;\n    position: relative;\n    display: flex;\n    align-items: center;\n    min-width: 0;\n}\n\n/* Prefix @ */\n.creator-search-prefix {\n    position: absolute;\n    left: 6px; /* Nudge inward */\n    top: 50%;\n    transform: translateY(-50%);\n    font-size: 16px;\n    font-weight: 600;\n    color: rgba(15,23,42,0.4);\n    pointer-events: none;\n    z-index: 2;\n}\n\n/* Input Field - EXACT copy of home.jsx pattern */\n.creator-search-input {\n    flex: 1;\n    background: transparent !important;\n    border: none !important;\n    outline: none !important;\n    padding: 0 0 0 24px !important;\n    font-size: 15px !important;\n    font-weight: 500 !important;\n    color: #000000 !important; /* Force black */\n    min-width: 0 !important;\n    height: 24px !important; /* Fixed height to ensure visibility */\n    line-height: 24px !important; /* Center text vertically */\n    box-shadow: none !important;\n    border-radius: 0 !important;\n    width: auto !important;\n    max-width: none !important;\n    caret-color: #000000 !important;\n    -webkit-text-fill-color: #000000 !important;\n    z-index: 10 !important;\n    position: relative !important;\n}\n.creator-search-input::placeholder { \n    color: #000000 !important; \n    opacity: 0.5 !important;\n}\n\n/* Clear X Button */\n.creator-search-clear {\n    flex-shrink: 0;\n    width: 24px;\n    height: 24px;\n    border-radius: 50%;\n    background: transparent;\n    border: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: rgba(15,23,42,0.5);\n    cursor: pointer;\n    transition: all 0.15s;\n}\n.creator-search-clear:hover { \n    background: rgba(15,23,42,0.06); \n    color: #ef4444; \n}\n\n/* Save Button */\n.creator-search-save {\n    flex-shrink: 0;\n    height: 32px;\n    padding: 0 14px;\n    border-radius: 8px;\n    background: var(--color-primary);\n    color: #fff;\n    border: none;\n    font-weight: 700;\n    font-size: 13px;\n    cursor: pointer;\n    transition: all 0.15s;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n}\n.creator-search-save:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(122,58,240,0.25);\n}\n\n/* Make selected pill not overlap the input */\n.creator-selected-pill { display: inline-block; margin-bottom: 8px !important; background: transparent !important; color: #0f172a !important; z-index: 220 !important; }\n\n/* Force overflow visible to allow dropdown bleeding and ensure layering */\n.provider-carousel-wrap,\n.provider-carousel,\n.provider-card,\n.provider-card.expanded,\n.expanded-body,\n.provider-card .expanded-body {\n    overflow: visible !important;\n}\n\n/* Ensure the expanded card floats above siblings (preventing next card from covering the dropdown) */\n.provider-card.expanded {\n    z-index: 60;\n    position: relative;\n    border-color: transparent; /* remove inner white border */\n    background: transparent; /* let modal background show through */\n    box-shadow: none;\n}\n\n/* Ensure non-expanded cards stay below */\n.provider-card:not(.expanded) {\n    z-index: 1;\n}\n\n/* Remove any pseudo-element overlays or fades that could cloud content */\n.provider-card::before,\n.provider-card::after,\n.provider-card .card-info::before,\n.provider-card .card-info::after,\n.provider-carousel-wrap::before,\n.provider-carousel-wrap::after {\n    display: none !important;\n    content: none !important;\n}\n\n/* Ensure the selected pill is fully visible and readable */\n.creator-selected-pill {\n    position: relative;\n    z-index: 999 !important;\n    box-shadow: 0 2px 6px rgba(6,24,58,0.08) !important;\n    background: #374151 !important; /* dark gray */\n    border: 1px solid rgba(0,0,0,0.12) !important;\n    color: #ffffff !important; /* white text for contrast */\n    font-weight: 700 !important;\n    padding: 6px 10px !important;\n    margin-bottom: 8px !important;\n    border-radius: 9999px !important;\n    font-size: 13px !important;\n    display: inline-block;\n    line-height: 1 !important;\n}\n\n/* Card header styling - ensure title/sub are visible */\n.provider-card .card-info,\n.provider-card .card-title,\n.provider-card .card-sub {\n    background: transparent !important;\n    box-shadow: none !important;\n    position: relative;\n    z-index: 2 !important;\n    pointer-events: auto !important;\n}\n\n.provider-card .card-title {\n    color: #0f172a !important;\n    font-weight: 700 !important;\n    font-size: 14px !important;\n}\n.provider-card .card-sub {\n    color: #6b7280 !important;\n    font-size: 12px !important;\n}\n\n/* Ensure expanded body and search row sit above card header */\n.expanded-body {\n    position: relative;\n    z-index: 100 !important;\n    background: transparent !important;\n}\n\n.creator-search-row {\n    position: relative;\n    z-index: 101 !important;\n    background: transparent !important;\n}\n\n/* Input wrapper: keep relative and reserve space for clear button */\n.creator-search-input-wrap {\n    position: relative;\n    z-index: 102 !important;\n    background: transparent !important;\n    flex: 1 1 auto;\n    min-width: 0;\n    padding-right: 0; /* Handled dynamically via inline style */\n}\n\n/* Clear button position adjusted so it doesn't overlap Save */\n.creator-search-clear {\n    position: absolute;\n    right: 12px; /* inside the input wrap */\n    top: 50%;\n    transform: translateY(-50%);\n    width: 28px;\n    height: 28px;\n    border-radius: 50%;\n    background: transparent;\n    border: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: rgba(15,23,42,0.5);\n    cursor: pointer;\n    z-index: 110;\n}\n\n/* Ensure Save button sits to the right of the input and has margin */\n.creator-search-save {\n    margin-left: 8px !important;\n}\n\n/* Force the card-info to not overflow or cover expanded content */\n.provider-card.expanded .card-info {\n    position: static !important;\n    overflow: visible !important;\n    max-height: none !important;\n}\n\n\n/* Expanded List Area - The \"Dropdown Card\" */\n.choose-creator-list {\n    position: relative; /* Back to relative to avoid clipping issues */\n    margin-left: 0;\n    margin-right: 0;\n    width: 100%;\n    max-height: 320px;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n    margin-top: 12px;\n    background: transparent;\n    border-top: none;\n    border-bottom: none;\n    box-shadow: none;\n    border-radius: 0;\n    padding: 0;\n    display: flex;\n    flex-direction: column;\n    gap: 0;\n    z-index: 100;\n}\n\n/* Ensure the container is relative so absolute positioning works relative to it */\n.creator-search-row {\n    /* ... existing styles ... */\n    z-index: 51; /* Search bar above dropdown */\n    margin-bottom: 0; /* Connect to the list */\n}\n\n/* Fix input visibility */\n.creator-search-input {\n    color: #0f172a !important; /* Force dark color */\n    opacity: 1 !important;\n}\n\n/* List Item */\n.creator-row {\n    padding: 12px 16px;\n    border-bottom: 1px solid rgba(15,23,42,0.04);\n    background: transparent;\n    border-radius: 0;\n    box-shadow: none;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    transition: background 0.15s ease;\n    cursor: pointer;\n}\n.creator-row:last-child { border-bottom: none; }\n.creator-row:hover {\n    background: rgba(15,23,42,0.03);\n    transform: none; /* remove scaling */\n    box-shadow: none;\n    z-index: 1;\n}\n.creator-row.selected {\n    background: rgba(122,58,240,0.06);\n    border-color: transparent;\n    box-shadow: inset 3px 0 0 var(--color-primary); /* Left accent */\n}\n\n/* Avatar */\n.creator-avatar {\n    width: 40px !important;\n    height: 40px !important;\n    min-width: 40px !important;\n    border-radius: 50% !important;\n    margin-right: 12px;\n    font-size: 16px;\n    font-weight: 700;\n    color: #fff;\n    overflow: hidden;\n    position: relative;\n    display: flex; align-items: center; justify-content: center;\n}\n.creator-avatar img { width: 100%; height: 100%; object-fit: cover; }\n\n.creator-name { flex: 1; display: flex; flex-direction: column; justify-content: center; gap: 2px; }\n.creator-display { font-weight: 600; color: #0f172a; font-size: 14px; line-height: 1.2; letter-spacing: -0.01em; }\n.creator-role-label { font-size: 12px; color: #64748b; font-weight: 500; }\n\n/* Clear button inside input */\n.input-clear {\n    position: absolute;\n    right: 8px;\n    top: 50%;\n    transform: translateY(-50%);\n    background: transparent;\n    border: none;\n    color: rgba(15,23,42,0.5);\n    padding: 6px;\n    border-radius: 8px;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    transition: background 140ms ease, color 140ms ease;\n}\n.input-clear:hover { background: rgba(15,23,42,0.03); color: rgba(15,23,42,0.7); }\n\n/* Close button inside focused header */\n.close-focus-btn { color: rgba(15,23,42,0.6); padding: 6px; border-radius: 8px; display:inline-flex; align-items:center; justify-content:center; }\n.close-focus-btn:hover { background: rgba(15,23,42,0.03); color: rgba(15,23,42,0.9); }\n        /* Position the close button inside the focused card */\n        .provider-card.focused-card .close-focus-btn {\n          position: absolute;\n          right: 12px;\n          top: 12px;\n          z-index: 30;\n          background: transparent;\n          color: rgba(15,23,42,0.6);\n        }\n\n/* No-results premium styling */\n.no-results { color: var(--muted); will-change: opacity, transform; animation: fade-scale 320ms cubic-bezier(0.22,1,0.36,1) both; }\n.no-results-illustration svg { width: 72px; height: 72px; display: block; }\n.no-results-title { color: var(--deep-navy); }\n.no-results-sub { color: #9CA3AF; }\n\n/* Fade + gentle scale entrance for premium feel */\n@keyframes fade-scale {\n    0% { opacity: 0; transform: scale(0.98) translateY(-6px); }\n    60% { opacity: 1; transform: scale(1.01) translateY(0); }\n    100% { opacity: 1; transform: scale(1) translateY(0); }\n}\n\n/* Input prefix styling removed (unused) */\n\n/* Styles removed to fix conflict with unified search bar */\n\n/* Mobile optimizations for search bar */\n@media (max-width: 640px) {\n    .creator-search-row {\n        padding-left: 10px !important;\n        padding-right: 10px !important;\n        gap: 6px !important;\n    }\n    .creator-search-save {\n        padding-left: 8px !important;\n        padding-right: 8px !important;\n        font-size: 13px !important;\n        height: 32px !important;\n        margin-left: 0 !important; /* Save space */\n    }\n    .creator-search-input {\n        font-size: 14px !important;\n        padding-left: 22px !important; /* Slightly reduce left padding for @ */\n    }\n}\n\n/* Preset most-popular badge */\n.most-popular-badge {\n    position: absolute;\n    top: -8px;\n    right: -8px; /* push outside the button so it doesn't overlap the amount */\n    background: var(--brand-gold-600);\n    color: var(--on-gold);\n    font-weight: 700;\n    font-size: 9px; /* smaller */\n    padding: 3px 6px; /* smaller */\n    border-radius: 9999px;\n    box-shadow: 0 6px 16px rgba(203,138,0,0.06);\n    z-index: 3;\n}\n\n/* Refund modal styles removed (UI simplified) */\n\n/* Preset button helpers for spacing and premium feel */\n.preset-btn { min-width: 88px; display: inline-flex; align-items: center; justify-content: center; padding-left: 18px; padding-right: 18px; border-radius: 14px; }\n\n/* Creator selected pill (override duplicate) */\n.creator-selected-pill {\n    display: inline-block;\n    padding: 6px 10px !important;\n    background: #333333 !important; /* Dark grey */\n    border-radius: 9999px;\n    font-size: 13px !important;\n    color: #ffffff !important; /* Force white text */\n    font-weight: 700 !important;\n    box-shadow: 0 2px 6px rgba(0,0,0,0.12) !important;\n}\n\n/* --- Preview Card Responsive Fixes ---\n   Keeps footer icons (bookmark/lightbulb) within the card on small screens\n*/\n.preview-card { overflow: visible; }\n\n@media (max-width: 640px) {\n    /* Reduce right padding so icons sit inside rounded edge */\n    .preview-card { padding-right: 20px !important; }\n\n    /* Nudge footer icons slightly toward the card edge so they visually sit on the rounded boundary */\n    .preview-footer-icons { margin-right: -8px; }\n\n    /* Inline (step-6) preview needs a stronger nudge than modal so there's more distance from the boosts icon */\n    .inline-preview-footer-icons { margin-right: -51px; }\n\n    /* Make footer icon buttons slightly smaller so they don't overflow */\n    .preview-footer-icons > div {\n        padding: 6px !important;\n        min-width: 34px;\n        height: 34px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n\n    .preview-footer-icons svg {\n        width: 16px !important;\n        height: 16px !important;\n    }\n\n    /* Slightly stronger nudge on very small phones */\n    @media (max-width: 420px) {\n        .preview-footer-icons { margin-right: -10px; }\n        .inline-preview-footer-icons { margin-right: -59px; }\n        .claim-button { right: 6px !important; }\n    }\n\n    /* Keep the rotated CLAIM tab inside the card on small widths */\n    .claim-button { right: 8px !important; }\n}\n\n"+t}catch(e){}},[]);const Et=l.useRef(null),[It,Tt]=l.useState([]),Rt=window&&window.__BACKEND_URL__?window.__BACKEND_URL__:"https://regaarder-pwin.onrender.com",Pt=e=>{if(!e)return null;let t=String(e);if(t.startsWith("uploaded:")){const e=t.split(":")[1]||t.slice(9);return`${Rt}/uploads/${e}`}return t.startsWith("http://")&&t.includes("onrender.com")&&(t=t.replace("http://","https://")),t},Ft=()=>{const e=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#6366f1","#14b8a6"];return e[Math.floor(Math.random()*e.length)]},Dt=e=>({id:e.id||e.email||e.name,name:e.name||e.handle||e.tag||"Unknown",displayName:e.name||e.handle||e.tag||"Unknown",handle:e.handle||e.tag||"",email:e.email||null,photoURL:Pt(e.photoURL||e.image||e.avatar),image:Pt(e.image||e.photoURL||e.avatar),price:e.price||e.rate||0,followers:e.followers||e.followers_count||0,fallbackColor:Ft()}),zt=async e=>{try{try{const t=await fetch(`${Rt}/creators`,{signal:e});if(t.ok){const e=await t.json(),r=e.creators||e.users||[];if(r.length>0)return console.log("[ideas] Got",r.length,"creators from /creators endpoint"),r.map(Dt)}}catch(t){if("AbortError"===t.name)return[];console.warn("[ideas] /creators failed, trying /users",t.message)}try{const t=await fetch(`${Rt}/users`,{signal:e});if(t.ok){const e=(await t.json()).users||[];if(e.length>0){let t=e.filter(e=>!0===e.isCreator||!0===e.is_creator);return 0===t.length&&(t=e),console.log("[ideas] Got",t.length,"creators from /users endpoint"),t.map(Dt)}}}catch(r){if("AbortError"===r.name)return[];console.warn("[ideas] /users failed, trying /videos",r.message)}try{const t=await fetch(`${Rt}/videos`,{signal:e});if(t.ok){const r=await t.json(),n=r.videos||(Array.isArray(r)?r:[]),a=new Map;n.forEach(e=>{const t=e.authorId||e.creatorId||e.userId,r=e.author||e.creator||e.channel;if(!t&&!r)return;const s=(t||r||"").toLowerCase();a.has(s)||a.set(s,{id:t||`video-${s}`,name:r||"Unknown",image:e.authorImage||e.creatorImage||null,handle:e.authorHandle||"",email:t&&t.includes("@")?t:null,isCreator:!0})});const o=[];for(const[,t]of a){try{const r=t.email||t.id||t.name,s=await fetch(`${Rt}/users/${encodeURIComponent(r)}`,{signal:e});if(s.ok){const e=await s.json(),r=e.user||e;if(r&&!r.isPlaceholder){o.push(Dt({...t,...r,isCreator:!0}));continue}}}catch(s){}o.push(Dt(t))}return console.log("[ideas] Got",o.length,"creators from /videos fallback"),o}}catch(n){if("AbortError"===n.name)return[];console.warn("[ideas] /videos fallback also failed",n.message)}return[]}catch(s){return"AbortError"===s.name||console.warn("fetchCreatorsFromBackend error",s),[]}};l.useEffect(()=>{let e=!1;const t=new AbortController,r=setTimeout(()=>t.abort(),15e3);return zt(t.signal).then(t=>{clearTimeout(r),!e&&t.length>0&&(console.log("[ideas] Setting creatorsList with",t.length,"creators"),Tt(t))}),()=>{e=!0,t.abort(),clearTimeout(r)}},[]),l.useEffect(()=>{try{if("true"===new URLSearchParams(window.location.search).get("payment_success")){const r=localStorage.getItem("pending_payment_data"),s=new URL(window.location.href);if(s.searchParams.delete("payment_success"),s.searchParams.delete("session_id"),window.history.replaceState({},"",s),r){try{const t=JSON.parse(r);if(!t.backendSynced)return console.log("[payment_success] Syncing pending submission"),void Br(t.amount||0,t).then(()=>{console.log("[payment_success] Sync complete"),localStorage.removeItem("pending_payment_data"),setTimeout(()=>{try{e("/requests?filter=For You")}catch(t){window.location.href="/requests?filter=For You"}},150)}).catch(t=>{console.error("[payment_success] Sync failed:",t),localStorage.removeItem("pending_payment_data"),setTimeout(()=>{try{e("/requests?filter=For You")}catch(t){window.location.href="/requests?filter=For You"}},150)})}catch(t){}localStorage.removeItem("pending_payment_data")}setTimeout(()=>{try{e("/requests?filter=For You")}catch(t){window.location.href="/requests?filter=For You"}},300)}}catch(t){console.warn("Failed to handle payment return",t)}},[]),l.useEffect(()=>{const e="ideas_selectedCreator_v1",t=()=>{try{const t=localStorage.getItem(e);if(t){const r=JSON.parse(t);Ye(r);const s=r.photoURL||r.image;s&&Je(Pt(s));const n=r.price&&Number(r.price)>0?Math.max(15,Number(r.price)):15;Me(n),localStorage.removeItem(e)}}catch(t){console.warn("Failed to load selected creator",t)}};t();const r=()=>t();return window.addEventListener("ideas:creator_selected",r),()=>window.removeEventListener("ideas:creator_selected",r)},[]),l.useEffect(()=>{let e=!1;if((Xe||De||Ve&&Ve.id)&&0===It.length){const t=new AbortController,r=setTimeout(()=>t.abort(),15e3);return zt(t.signal).then(t=>{clearTimeout(r),!e&&t.length>0&&Tt(t)}),()=>{e=!0,t.abort(),clearTimeout(r)}}},[Xe,De,Ve?.id]);const At=(()=>{const e=String(We||"").trim();if(!e)return It;const t=e.replace(/^@+/,"").toLowerCase();return t?It.filter(e=>{const r=String(e.name||"").toLowerCase(),s=String(e.displayName||"").toLowerCase(),n=String(e.handle||"").toLowerCase();return r.includes(t)||s.includes(t)||n.includes(t)}):It})();l.useEffect(()=>{try{De?(document.body.style.overflow="hidden",document.body.style.touchAction="none"):(document.body.style.overflow="",document.body.style.touchAction="")}catch(e){}return()=>{try{document.body.style.overflow="",document.body.style.touchAction=""}catch(e){}}},[De]);const qt=(e,t={})=>{try{console.log("[analytics]",e,t)}catch(r){}};l.useEffect(()=>{Xe&&(Ke(""),setTimeout(()=>{Et.current&&Et.current.focus()},240))},[Xe]),l.useEffect(()=>{let e=!1;if(rt&&0===It.length){const t=new AbortController,r=setTimeout(()=>t.abort(),12e3);return zt(t.signal).then(t=>{clearTimeout(r),!e&&t.length>0&&Tt(t)}),()=>{e=!0,t.abort(),clearTimeout(r)}}},[rt]);const _t="number"==typeof Le?Le:0;l.useEffect(()=>{Ie&&(Pe((_t||0).toFixed(2)),setTimeout(()=>{Fe.current&&Fe.current.focus()},0))},[Ie]);const Mt=e=>{if(!e)return"";const[t,r]=e.split("."),s=(t.replace(/^0+(?=\d)/,"")||"0").replace(/\B(?=(\d{3})+(?!\d))/g,",");return void 0!==r?`${s}.${r}`:s},Bt=e=>{if(null==e)return"";let t=String(e).replace(/[^0-9.]/g,"");const r=t.split(".");if(r.length>1&&(t=r[0]+"."+r.slice(1).join("")),t.includes(".")){const[e,r]=t.split("."),s=(r||"").slice(0,2);return Mt(e)+(s.length?`.${s}`:".")}return Mt(t)},Ut=()=>{const e=parseFloat(String(Re||"").replace(/,/g,"").replace(/[^0-9.-]/g,"")),t=isNaN(e)?0:e;Ee(t),Pe((e=>{if(null==e||isNaN(e))return"";const t=Number(e).toFixed(2),[r,s]=t.split(".");return r.replace(/\B(?=(\d{3})+(?!\d))/g,",")+"."+s})(t)),Te(!1)},[$t,Ot]=l.useState(""),Vt=e=>{try{Ot(e)}catch(t){}};l.useEffect(()=>{if(!$t)return;const e=setTimeout(()=>Ot(""),8e3);return()=>clearTimeout(e)},[$t]);const Yt="ideas_customPrice_v1",Ht="ideas_selectedCreator_v1";l.useEffect(()=>{try{const e=window.localStorage.getItem(Yt);if(null!=e){const t=parseFloat(e);isNaN(t)||(Ee(t),Pe(t.toFixed(2)))}}catch(e){}},[]),l.useEffect(()=>{try{const e=window.localStorage.getItem(Ht);if(e){const t=JSON.parse(e);t&&t.id&&(console.log("[ideas] loaded selectedCreator from localStorage:",t),Ye(t))}}catch(e){}},[]),l.useEffect(()=>{const e=()=>{try{if(Ve&&Ve.id)return;const e=window.localStorage.getItem(Ht);if(!e)return;const t=JSON.parse(e);t&&t.id&&(console.log("[ideas] pageshow/focus read selectedCreator from localStorage:",t),Ye(t))}catch(e){}},t=()=>{"visible"===document.visibilityState&&e()};return window.addEventListener("pageshow",e),window.addEventListener("focus",e),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("pageshow",e),window.removeEventListener("focus",e),document.removeEventListener("visibilitychange",t)}},[Ve]),l.useEffect(()=>{if(!Ve||!Ve.id)return;if(Ve.photoURL||Ve.image||Ve.avatar)return;(async()=>{try{console.log("[ideas] Enriching selectedCreator with image data...",Ve.id);const t=[Ve.id,Ve.email,Ve.displayName||String(Ve.name||"").replace(/^@/,"")].filter(Boolean);for(const r of t)try{const e=await fetch(`${Rt}/users/${encodeURIComponent(r)}`);if(!e.ok)continue;const t=await e.json(),s=t.user||t;if(s&&!s.isPlaceholder){const e=Pt(s.photoURL||s.image||s.avatar);return console.log("[ideas] Enriched creator image from /users/:id:",e),void(e&&Ye(t=>({...t,photoURL:e,image:e,followers:s.followers||s.followers_count||t.followers||0,price:s.price||t.price||0})))}}catch(e){}console.warn("[ideas] Could not enrich creator data for",Ve.id)}catch(e){console.warn("Failed to enrich creator data with image",e)}})()},[Ve?.id]),l.useEffect(()=>{if(!Ve||!Ve.id)return void Je(null);if(Ve.photoURL||Ve.image||Ve.avatar){const e=Pt(Ve.photoURL||Ve.image||Ve.avatar);return console.log("[ideas] Using image from selectedCreator:",e),void Je(e)}(async()=>{try{console.log("[ideas] selectedCreator missing image, fetching via /users/:id...");const e=Ve.email||Ve.id||String(Ve.displayName||Ve.name||"").replace(/^@/,""),t=await fetch(`${Rt}/users/${encodeURIComponent(e)}`);if(!t.ok)return;const r=await t.json(),s=r.user||r;if(s&&!s.isPlaceholder){const e=Pt(s.image||s.photoURL||s.avatar);console.log("[ideas] Found creator image via /users/:id:",e),Je(e||null)}else{if(It.length>0){const e=It.find(e=>e.id===Ve.id||e.email===Ve.id);if(e){const t=Pt(e.photoURL||e.image);t&&Je(t)}}console.warn("[ideas] Creator not found via /users/:id")}}catch(e){console.warn("[ideas] Failed to fetch creator image:",e)}})()},[Ve?.id]),l.useEffect(()=>{if(!Ve||!Ve.id||He)return;if(0===It.length)return;const e=It.find(e=>e.id===Ve.id);if(e&&(e.photoURL||e.image)){const t=Pt(e.photoURL||e.image);t&&Je(t)}},[It,Ve?.id,He]),l.useEffect(()=>{try{Ve&&wr.current&&!jr.current&&setTimeout(()=>{try{wr.current.scrollIntoView({behavior:"smooth",block:"center"}),wr.current.focus({preventScroll:!0}),jr.current=!0,console.log("[ideas] auto-scrolled to description for selectedCreator")}catch(e){console.warn("auto-scroll failed",e)}},120)}catch(e){}},[Ve]),l.useEffect(()=>{try{"number"==typeof Le?window.localStorage.setItem(Yt,String(Le)):window.localStorage.removeItem(Yt)}catch(e){}},[Le]),l.useEffect(()=>{try{Ve&&Ve.id?window.localStorage.setItem(Ht,JSON.stringify(Ve)):window.localStorage.removeItem(Ht)}catch(e){}},[Ve]);const[Jt,Wt]=l.useState(""),[Kt,Xt]=l.useState([]),[Gt,Qt]=l.useState([]),[Zt,er]=l.useState(null),[tr,rr]=l.useState(null);l.useEffect(()=>{Oe({public:0,unlisted:5.99,private:7.99}[tr]||0)},[tr]);const[sr,nr]=l.useState("Ideas"),[ar,or]=l.useState(!1),[ir,lr]=l.useState(!1),[cr,dr]=l.useState(null),ur=null!==k,mr=[{type:"one-time",title:r("One-Time",o),subtitle:r("A single standalone video.",o),Icon:$},{type:"recurrent",title:r("Recurrent",o),subtitle:r("A routine delivered daily, weekly, or monthly.",o),Icon:Y},{type:"series",title:r("Series",o),subtitle:r("A focused set of connected videos.",o),Icon:O},{type:"catalogue",title:r("Catalogue",o),subtitle:r("A curated mix across different themes.",o),Icon:g}],xr=[r("Book Your Next Videos",o)],[gr,pr]=l.useState(0),[hr,fr]=l.useState(!0),[br,yr]=l.useState(!1),vr=l.useRef(null),wr=l.useRef(null),jr=l.useRef(!1),[Nr,kr]=l.useState(null),[Sr,Cr]=l.useState(null),Lr=400;l.useEffect(()=>{if(!xr||xr.length<2)return;let e=null,t=null,r=null;const s=()=>{fr(!0),t=setTimeout(()=>yr(!0),Lr),r=setTimeout(()=>{yr(!1),fr(!1)},8400)};return s(),e=setInterval(()=>{pr(e=>(e+1)%xr.length),s()},10400),()=>{clearInterval(e),clearTimeout(t),clearTimeout(r)}},[xr.length]),l.useEffect(()=>{const e=()=>{try{vr.current&&kr(vr.current.offsetWidth)}catch(e){}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[hr,gr]),l.useEffect(()=>{try{const e=W("--color-gold")||W("--brand-gold")||"#CA8A04",t=W("--color-gold-600")||W("--brand-gold-600")||"#B27000";Cr(`linear-gradient(90deg, ${e}, ${t})`)}catch(e){Cr("linear-gradient(90deg, #CA8A04, #B27000)")}},[]);const Er="recurrent"===k,Ir="series"===k,Tr="catalogue"===k;let Rr=!1;"one-time"===k?Rr=1===re?T.length>=x&&P.trim().length>0:2===re||(3===re||(4===re?null!==tr:5===re)):Er?Rr=1===oe?T.length>=x&&P.trim().length>0:2===oe?"custom"===ue?xe.length>0:null!==ue:3===oe||(4===oe||(5===oe?null!==tr:6===oe)):Ir?1===pe?Rr=T.length>=x&&P.trim().length>0:2===pe?Rr="custom"===ye?fe>=1&&we.length>0:fe>=1&&null!==ye:3===pe||4===pe?Rr=!0:5===pe?Rr=null!==tr:6===pe?Rr=!0:7===pe&&(Rr=!1):Tr&&(1===Ne?Rr=T.length>=x&&P.trim().length>0:2===Ne?Rr=Se>=1:3===Ne||4===Ne?Rr=!0:5===Ne?Rr=null!==tr:6===Ne?Rr=!0:7===Ne&&(Rr=!1));const[Pr,Fr]=l.useState(!1),Dr=l.useRef(!1);l.useEffect(()=>{if(!Dr.current&&Rr){Fr(!0);const e=setTimeout(()=>{Fr(!1)},800);return()=>clearTimeout(e)}Dr.current=Rr},[Rr]);let zr=30;if(ur){let e=1,t=5;if(Er?(e=oe,t=6):Ir?(e=pe,t=6):Tr?(e=Ne,t=6):(e=re,t=5),e>=t)zr=100;else{zr=30+(e-1)/(t-1)*70}}const Ar=Math.max(0,Math.round(60*(1-zr/100))),qr="var(--color-primary)",_r=()=>{Rr?Ir?1===pe?he(2):2===pe?he(3):3===pe?he(4):4===pe?he(5):5===pe?he(6):6===pe&&(qe({flow:"series",nextStep:7}),Me(Math.max(15,_t||35)),ze(!0)):Er?1===oe?de(2):2===oe?de(3):3===oe?de(4):4===oe?de(5):5===oe?de(6):6===oe&&(qe({flow:"recurrent",nextStep:7}),Me(Math.max(15,_t||35)),ze(!0)):Tr?1===Ne?ke(2):2===Ne?ke(3):3===Ne?ke(4):4===Ne?ke(5):5===Ne?ke(6):6===Ne&&(qe({flow:"catalogue",nextStep:7}),Me(Math.max(15,_t||50)),ze(!0)):1===re?ne(2):2===re?ne(3):3===re?ne(4):4===re?ne(5):5===re&&(qe({flow:"one-time",nextStep:6}),Me(Math.max(15,_t||25)),ze(!0)):console.error("Cannot proceed: Please complete the required fields.")},Mr=e=>{E||(vt(null),S(e),I(!0),setTimeout(()=>{me(null),ge([]),he(2),be(5),ve(null),je([]),ke(2),Ce(10),Wt(""),er(null),M(""),U([]),te([]),rr(null),"one-time"===e&&ne(2),"recurrent"===e&&de(1),"series"===e&&he(2),"catalogue"===e&&ke(2);const t={series:"Series selected — now configure episode details.",catalogue:"Catalogue selected — set target videos and themes.",recurrent:"Recurrent selected — choose a delivery frequency.","one-time":"One-Time selected — next step: Video Length."};try{vt(t[e]||null)}catch(r){}I(!1)},1e3))},Br=async(t,r=null)=>{const s=r||{},n=Ae||(s.flow?{flow:s.flow,nextStep:s.nextStep}:null);if(!n)return;console.log("continuePendingSubmission start",{amount:t,effectivePendingSubmission:n,sourceData:s});const a="number"==typeof t?t:s.amount||_e;Ee(a);const{flow:o,nextStep:i}=n;try{const e="ideas_requests_v1",t=s.id||`req_${Date.now()}`;let r=null;try{const e=localStorage.getItem("regaarder_user");e&&(r=JSON.parse(e))}catch(l){}const n=r?{id:r.id,name:r.name,image:r.image||r.avatar||""}:{id:"anonymous",name:"Anonymous User",image:""},c={id:t,title:s.title||P||"",description:s.description||T||"",delivery:o,step:i,amount:a,funding:a,role:s.role||Be,creator:n,createdBy:n.id,createdAt:(new Date).toISOString(),meta:{selectedTones:s.tones||Kt||[],selectedVideoLength:s.videoLength||Zt||null,selectedPrivacy:s.privacy||tr||null}};try{const t=window.localStorage.getItem(e),r=t?JSON.parse(t):[];r.some(e=>e.id===c.id)||(r.unshift(c),window.localStorage.setItem(e,JSON.stringify(r)))}catch(l){}if(console.log("Checking backend sync status:",s.backendSynced),s.backendSynced)try{const t=window.localStorage.getItem(e);if(t){const r=JSON.parse(t),s=r.findIndex(e=>e.id===c.id);-1===s||r[s].backendSynced||(r[s].backendSynced=!0,window.localStorage.setItem(e,JSON.stringify(r)))}}catch(l){}else try{const t=localStorage.getItem("regaarder_token"),r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`),console.log("Attempting backup save to backend in continuePendingSubmission",c.id);const s=t?`${Rt}/requests`:`${Rt}/requests/public`,n=await fetch(s,{method:"POST",headers:r,body:JSON.stringify({id:c.id,title:c.title,description:c.description,creator:c.creator,createdBy:c.createdBy,meta:c.meta,amount:c.amount,funding:c.funding})});if(n.ok){const t=await n.json();console.log("Backup save result:",n.status,t);const r=t&&t.request?t.request:c;try{const t=window.localStorage.getItem(e);let s=t?JSON.parse(t):[];const n=s.findIndex(e=>e.id===c.id),a={...c,...r,backendSynced:!0};-1!==n?s[n]=a:s.unshift(a),window.localStorage.setItem(e,JSON.stringify(s))}catch(l){}}}catch(l){console.error("Backup save failed",l)}try{const e=new CustomEvent("ideas:request_created",{detail:c});window.dispatchEvent(e)}catch(l){}}catch(l){}F(""),R(""),U([]),te([]),Wt(""),ge([]),je([]),Ee(null);try{localStorage.removeItem("ideas_draft_v1")}catch(l){}S(null),ne(1),he(1),de(1),ke(1),ht(!1);try{localStorage.setItem("ideas_examples_seen_v1","1")}catch(l){}Vt("Request submitted successfully!"),qe(null),ze(!1);try{e("/requests?filter=For You")}catch(l){window.location.href="/requests?filter=For You"}},Ur=e=>{if(e&&"object"==typeof e)try{void 0!==e.title&&F(e.title),void 0!==e.description&&R(e.description),void 0!==e.privacy&&rr(e.privacy),void 0!==e.price&&Ee(Number(e.price)||0),void 0!==e.delivery&&S(e.delivery),void 0!==e.length&&er(e.length),void 0!==e.customLength&&M(e.customLength),void 0!==e.frequency&&me(e.frequency),void 0!==e.tones&&Xt(e.tones||[]),void 0!==e.themes&&Wt(e.themes||""),void 0!==e.targetVideos&&Ce(e.targetVideos),void 0!==e.files&&U(e.files||[]),void 0!==e.links&&te(e.links||[])}catch(t){}};l.useEffect(()=>{let e,t,r,s=!0;const n=()=>{if(s)return fr(!0),e=setTimeout(()=>{yr(!0)},Lr),t=setTimeout(()=>{yr(!1),fr(!1)},8400),r=setTimeout(()=>{pr(e=>(e+1)%xr.length),n()},10400),()=>{clearTimeout(e),clearTimeout(t),clearTimeout(r)}};return n(),()=>{s=!1}},[xr.length]),l.useEffect(()=>{try{const e=localStorage.getItem("ideas_draft_v1");if(e){const t=JSON.parse(e);t.description&&R(t.description),t.title&&F(t.title)}}catch(e){}q(!0)},[]),l.useEffect(()=>{if(A)try{const e={description:T,title:P,selectedDeliveryType:k,selectedTones:Kt,selectedVideoLength:Zt,selectedPrivacy:tr};localStorage.setItem("ideas_draft_v1",JSON.stringify(e))}catch(e){}},[T,P,k,Kt,Zt,tr,A]);let $r=ur?"1/1":"0/1";Er?$r=6===oe?"6/6":`${oe}/6`:Ir?$r=6===pe?"6/6":`${pe}/6`:Tr?$r=6===Ne?"6/6":`${Ne}/6`:"one-time"===k&&($r=5===re?"5/5":`${re}/5`);const Or="one-time"===k&&(2===re||3===re)||Er&&(3===oe||4===oe)||Ir&&(3===pe||4===pe)||Tr&&(3===Ne||4===Ne),Vr=Ir&&7===pe||Er&&7===oe||Tr&&7===Ne||"one-time"===k&&6===re;return t.jsxs("div",{className:"min-h-screen flex flex-col app-container",style:{backgroundColor:"#F8F8FA"},children:[t.jsxs("header",{className:"px-5 pt-4 sticky top-0 z-20",style:{backgroundColor:"#F8F8FA",borderBottom:"1px solid rgba(15,23,42,0.03)",paddingTop:"calc(16px + env(safe-area-inset-top, 0px))",marginBottom:"4px"},children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-gray-700 font-medium",children:r("Progress",o)}),t.jsxs("span",{className:"text-sm font-normal",style:{color:"var(--color-accent)"},children:[zr.toFixed(0),"% ",r("complete",o)]})]}),t.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden w-full mb-6",style:{marginTop:"10px"},children:t.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${zr}%`,background:"linear-gradient(90deg, rgba(var(--color-gold-rgb),0.18), rgba(var(--color-gold-rgb),0.06))",boxShadow:"0 0 3px rgba(var(--color-gold-rgb),0.12)"}})}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:r("Don't lose your progress — 30% complete",o).replace("30%",`${zr.toFixed(0)}%`)})]}),t.jsxs("main",{className:"ideas-root flex-grow px-5 pb-0 max-w-lg mx-auto w-full",children:[t.jsx("div",{ref:vr,className:"mt-8 mb-5 rounded-xl text-center cream-glow-box",style:{padding:"18px 28px",background:"radial-gradient(ellipse at center, rgba(var(--color-gold-rgb,203,138,0),0.20) 0%, rgba(var(--color-gold-rgb,203,138,0),0.12) 18%, rgba(var(--color-gold-rgb,203,138,0),0.07) 36%, rgba(var(--color-gold-rgb,203,138,0),0.03) 60%, #F8F8FA 100%), linear-gradient(180deg, rgba(248,248,250,0.66), rgba(248,248,250,0.9))",border:"1px solid rgba(var(--color-gold-rgb,203,138,0),0.12)",boxShadow:"inset 0 10px 30px rgba(255,255,255,0.6), inset 0 -8px 20px rgba(var(--color-gold-rgb,203,138,0),0.03), 0 6px 18px rgba(2,6,23,0.02)",WebkitBackdropFilter:"blur(4px)",backdropFilter:"blur(4px)"},children:t.jsxs("h1",{className:`\n                            text-xl sm:text-2xl md:text-[26px] font-normal tracking-tighter leading-normal mx-auto max-w-fit \n                            sweeping-text-container \n                            transition-all ease-out\n                            ${hr?"opacity-100 translate-y-0 duration-[500ms]":"opacity-0 translate-y-1 duration-[500ms]"}\n                        `,style:{color:"rgb(var(--color-gold-rgb,203,138,0))",fontWeight:300,fontSize:"clamp(18px, 5vw, 30px)",letterSpacing:"0",lineHeight:1.1,whiteSpace:"nowrap",display:"block",margin:"0 auto",textAlign:"center"},children:[xr[gr],br&&t.jsx("span",{className:"sweep-effect"},gr)]})}),!Vr&&zr<95&&t.jsx("div",{className:"flex items-center justify-center mt-4 mb-8",children:t.jsxs("div",{className:"inline-flex items-center rounded-xl px-4 py-2",style:{background:"#F6F6F8",border:"1px solid rgba(15,23,42,0.015)",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.6)",color:"#6B7280",width:Nr?`${Nr}px`:"auto",justifyContent:"center",borderRadius:"12px",paddingLeft:"1.25rem",paddingRight:"1.25rem"},children:[t.jsx(p,{className:"w-5 h-5 mr-3 text-gray-500"}),t.jsx("span",{className:"text-base font-normal text-gray-600",children:Ar>=60?r("About 1 minute left",o):`${r("About",o)} ${Ar} ${r(1===Ar?"second":"seconds",o)} ${r("left",o)}`})]})}),t.jsxs("div",{className:"bg-gray-50 p-4 mb-8 border border-gray-200 rounded-xl flex justify-between items-center transition duration-200",style:{boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(0, 0, 0, 0.05)"},children:[t.jsx("div",{className:"w-6 h-6 rounded-full border-2 flex-shrink-0 flex items-center justify-center transition-all duration-300",style:{borderColor:ur?"rgba(var(--color-gold-rgb, 203,138,0), 0.20)":"rgb(156 163 175)",backgroundColor:ur?"rgba(var(--color-gold-rgb, 203,138,0), 0.10)":"transparent"},children:ur&&t.jsx(n,{className:"w-4 h-4 text-[var(--color-gold)]",strokeWidth:3})}),t.jsx("span",{className:"text-sm font-medium ml-auto",style:{color:ur?"var(--color-gold-light)":"rgb(156 163 175)"},children:$r})]}),t.jsxs("div",{className:"space-y-4 mb-6",children:[t.jsxs("label",{htmlFor:"description-input",className:"sr-only",children:["Description ",t.jsx("span",{className:"sr-only",children:"*"})]}),Ve&&!rt&&t.jsxs("div",{className:"mb-3",style:{zIndex:10,position:"relative"},children:[console.log("[ideas-display] selectedCreator:",Ve,"selectedCreatorImage:",He,"creatorsList.length:",It.length),t.jsxs("div",{className:"bg-white rounded-xl p-3 border border-gray-100 shadow-sm flex items-center justify-between gap-3",style:{position:"relative",zIndex:10},children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-9 h-9 flex items-center justify-center rounded-full font-semibold text-sm overflow-hidden",children:He?t.jsx("img",{src:He,alt:Ve.name||Ve.handle,className:"w-full h-full object-cover"}):(()=>{const e=It.length>0?It.find(e=>e.id===Ve.id):null,r=e?e.photoURL||e.image:null;if(r)return t.jsx("img",{src:r,alt:Ve.name,className:"w-full h-full object-cover"});const s=String(Ve.id||Ve.name||Ve.handle||""),n=["#60A5FA","#EF4444","#8B5E3C","#FBBF24"];let a=0;for(let t=0;t<s.length;t++)a=(a<<5)-a+s.charCodeAt(t);const o=n[Math.abs(a)%n.length],i=(Ve.name||Ve.handle||"?").toString().trim().replace(/^@+/,""),l=i&&i[0]?i[0]:"?";return t.jsx("div",{style:{background:o,color:"#0f172a"},className:"w-full h-full flex items-center justify-center",children:String(l).toUpperCase()})})()}),t.jsxs("div",{className:"flex flex-col leading-tight",children:[t.jsx("div",{className:"text-xs text-gray-500",children:r("Requesting to",o)}),t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Ve.name||Ve.handle})]})]}),t.jsx("div",{className:"ml-4 flex items-center gap-3",children:t.jsx("button",{onClick:()=>{console.log("[ideas] opening creator selection modal"),st(!0),Ke("")},className:"text-sm text-gray-500 hover:text-gray-700 bg-gray-50 border border-transparent hover:border-gray-200 px-3 py-1 rounded-lg",children:r("Change",o)})})]})]}),t.jsxs("div",{className:"relative z-0",children:[t.jsx("textarea",{id:"description-input",ref:wr,rows:"6",placeholder:r("Describe what you'd love to see in this video.",o),value:T,onChange:e=>R(e.target.value.slice(0,d)),className:"w-full p-5 text-gray-700 border border-gray-200 rounded-xl focus:ring-0 focus:border-gray-300 transition duration-150 resize-none outline-none text-base",style:{boxShadow:"0 1px 3px 0 rgba(0,0,0,0.05), 0 0 0 1px rgba(0,0,0,0.05)"}}),t.jsxs("span",{className:"absolute bottom-4 right-4 text-xs text-gray-400 font-medium",children:[T.length,"/",d," ",r("char",o)]})]}),T.length>=x&&t.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:[t.jsxs("label",{htmlFor:"title-input",className:"text-gray-800 font-semibold text-base block tracking-tight",children:[r("Give a title to your video",o)," ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{id:"title-input",type:"text",placeholder:r("Enter a title...",o),value:P,onChange:e=>F(e.target.value),className:"w-full p-4 mt-2 text-gray-700 border border-gray-200 rounded-xl focus:ring-0 focus:border-gray-300 transition duration-150 outline-none text-base",style:{boxShadow:"0 1px 3px 0 rgba(0,0,0,0.05), 0 0 0 1px rgba(0,0,0,0.05)"}})]})]}),T.length>=x&&P&&P.length>=5&&t.jsx("div",{className:"mb-6",children:t.jsx(se,{files:B,setFiles:U,links:H,setLinks:te,selectedLanguage:o})}),T.length>=x&&P&&P.length>=5&&mt&&t.jsx("div",{className:"relative z-40",children:t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mb-4 mt-6",children:t.jsx("h2",{className:"text-gray-800 font-semibold text-base block tracking-tight",children:r("Preferred delivery?",o)})}),pt&&t.jsxs("div",{className:"mb-8 rounded-xl cream-glow-box stagger-animate",style:{padding:"20px",background:"radial-gradient(circle at 18% 20%, rgba(var(--color-gold-rgb,203,138,0),0.10), rgba(var(--color-gold-rgb,203,138,0),0.03) 28%, var(--color-cream-bg) 60%), var(--color-cream-bg)",border:"1px solid rgba(var(--color-gold-rgb,203,138,0),0.12)",boxShadow:"inset 0 6px 12px rgba(var(--color-gold-rgb,203,138,0),0.03)"},children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("span",{className:"p-1 rounded-full mr-2 text-[var(--color-gold)]",style:{background:"linear-gradient(135deg, rgba(var(--color-gold-rgb,203,138,0),0.12), rgba(var(--color-gold-rgb,203,138,0),0.04))",boxShadow:"inset 0 2px 6px rgba(var(--color-gold-rgb,203,138,0),0.05)"},children:t.jsx(h,{className:"w-6 h-6 text-[var(--color-gold)]"})}),t.jsx("h3",{className:"text-base font-semibold text-gray-700",children:r("Examples to help you choose:",o)})]}),t.jsxs("ul",{className:"list-none space-y-3 pl-0 text-sm text-gray-700",children:[t.jsxs("li",{children:[t.jsx("strong",{className:"text-gray-900",children:r("One-Time:",o)})," ",r('"Explain quantum computing," "Review the new iPhone," "My morning routine"',o)]}),t.jsxs("li",{children:[t.jsx("strong",{className:"text-gray-900",children:r("Recurrent:",o)})," ",r('"Daily market updates," "Weekly cooking tips," "Monthly tech news roundup"',o)]}),t.jsxs("li",{children:[t.jsx("strong",{className:"text-gray-900",children:r("Series:",o)})," ",r('"5-part history of Rome," "Learn Spanish in 10 episodes," "Startup journey series"',o)]}),t.jsxs("li",{children:[t.jsx("strong",{className:"text-gray-900",children:r("Catalogue:",o)})," ",r('"50 productivity hacks," "Travel guides for 20 cities," "Complete guitar tutorial library"',o)]})]})]}),t.jsx("div",{className:"mb-8 relative z-40",children:t.jsxs("div",{className:"relative z-40",children:[t.jsxs("button",{type:"button",onClick:()=>L(e=>!e),className:"w-full flex items-center justify-between p-4 bg-[var(--surface)] border border-gray-200 rounded-xl shadow-sm","aria-haspopup":"listbox","aria-expanded":C,children:[t.jsx("div",{className:"flex items-center",children:k?(()=>{const e=mr.find(e=>e.type===k);return t.jsxs(t.Fragment,{children:[t.jsx(e.Icon,{className:"w-5 h-5 mr-3 text-[var(--color-gold)]"}),t.jsx("div",{className:"text-sm font-medium text-gray-800",children:e.title})]})})():t.jsx("div",{className:"text-sm text-gray-500",children:r("Select the format you want",o)})}),t.jsx("svg",{className:"w-4 h-4 text-gray-500",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M6 8L10 12L14 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),C&&t.jsx("div",{className:"absolute z-30 mt-2 w-full rounded-xl",style:{backgroundColor:"#ffffff",border:"1px solid rgba(243,244,246,1)",boxShadow:"0 8px 20px rgba(2,6,23,0.06)"},children:t.jsx("ul",{ref:St,role:"listbox","aria-label":"Delivery formats",className:"divide-y divide-gray-100",children:mr.map(e=>t.jsxs("li",{role:"option",tabIndex:0,"aria-selected":k===e.type,onClick:()=>{Mr(e.type),L(!1)},onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),Mr(e.type),L(!1))},className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[t.jsx(e.Icon,{className:"w-5 h-5 mr-3 "+(k===e.type?"text-[var(--color-gold)]":"text-gray-400")}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-sm font-medium text-gray-800",children:r(e.title,o)}),t.jsx("div",{className:"text-xs text-gray-500",children:r(e.subtitle,o)})]}),k===e.type&&t.jsx(n,{className:"w-4 h-4 text-[var(--color-gold)]"})]},e.type))})})]})})]})}),T.length>=x&&P&&P.length>=5&&("one-time"!==k||E?"recurrent"!==k||E?"series"!==k||E?"catalogue"!==k||E?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"relative mb-8 mt-0",children:[t.jsx("textarea",{rows:"4",placeholder:r('What do you want creators to make (Min {min} characters, e.g., "A single video on...")',o).replace("{min}",x),value:T,onChange:e=>R(e.target.value.slice(0,d)),onBlur:()=>z(!0),className:"w-full p-5 text-gray-700 border border-gray-200 rounded-xl focus:ring-0 focus:border-gray-300 transition duration-150 resize-none outline-none text-base",style:{boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(0, 0, 0, 0.05)"}}),t.jsxs("span",{className:"absolute bottom-4 right-4 text-xs text-gray-400 font-medium",children:[T.length,"/",d," char"]}),D&&T.length<x&&t.jsxs("p",{className:"mt-2 text-xs text-red-500",children:["Please enter at least ",x," characters to continue."]})]}),T.length>=x&&t.jsx("div",{})]}):3===Ne?t.jsx(ee,{selectedLength:Zt,setSelectedLength:er,customLength:_,setCustomLength:M,selectedLanguage:o}):4===Ne?t.jsx(Z,{selectedTones:Kt,setSelectedTones:Xt,selectedStyles:Gt,setSelectedStyles:Qt,selectedLanguage:o}):5===Ne?t.jsx(le,{selectedPrivacy:tr,setSelectedPrivacy:rr,prevStepCompleted:!0,selectedLanguage:o}):6===Ne?t.jsx(ce,{title:P,description:T,selectedDeliveryType:k,targetVideos:Se,themes:Jt,selectedTones:Kt,selectedVideoLength:Zt,customVideoLength:_,uploadedFiles:B,referenceLinks:H,selectedPrivacy:tr,customPrice:Le,setCustomPrice:Ee,editingPrice:Ie,setEditingPrice:Te,priceInput:Re,setPriceInput:Pe,selectedLanguage:o,priceInputRef:Fe,savePrice:Ut,displayPrice:_t,sanitizePriceInput:Bt,onEdit:()=>ke(1),onSaveReview:Ur}):7===Ne?t.jsx(X,{selectedLanguage:o}):t.jsx(ie,{description:T,setDescription:R,title:P,setTitle:F,MAX_CHARS:d,MIN_CHARS:x,catalogueStep:Ne,targetVideos:Se,setTargetVideos:Ce,themes:Jt,setThemes:Wt,selectedTones:Kt,setSelectedTones:Xt,selectedPrivacy:tr,setSelectedPrivacy:rr,selectedLanguage:o}):3===pe?t.jsx(ee,{selectedLength:Zt,setSelectedLength:er,customLength:_,setCustomLength:M,selectedLanguage:o}):4===pe?t.jsx(Z,{selectedTones:Kt,setSelectedTones:Xt,selectedStyles:Gt,setSelectedStyles:Qt,selectedLanguage:o}):5===pe?t.jsx(le,{selectedPrivacy:tr,setSelectedPrivacy:rr,prevStepCompleted:!0,selectedLanguage:o}):6===pe?t.jsx(ce,{title:P,description:T,selectedDeliveryType:k,numberOfEpisodes:fe,selectedReleaseSchedule:ye,customSeriesDates:we,selectedTones:Kt,selectedVideoLength:Zt,customVideoLength:_,uploadedFiles:B,referenceLinks:H,selectedPrivacy:tr,customPrice:Le,setCustomPrice:Ee,editingPrice:Ie,setEditingPrice:Te,priceInput:Re,setPriceInput:Pe,priceInputRef:Fe,savePrice:Ut,displayPrice:_t,sanitizePriceInput:Bt,onEdit:()=>he(1),onSaveReview:Ur,selectedLanguage:o}):7===pe?t.jsx(X,{selectedLanguage:o}):t.jsx(ae,{description:T,setDescription:R,title:P,setTitle:F,MAX_CHARS:d,seriesStep:pe,numberOfEpisodes:fe,setNumberOfEpisodes:be,selectedReleaseSchedule:ye,setSelectedReleaseSchedule:ve,selectedTones:Kt,setSelectedTones:Xt,customSeriesDates:we,setCustomSeriesDates:je,selectedPrivacy:tr,setSelectedPrivacy:rr,selectedLanguage:o}):3===oe?t.jsx(ee,{selectedLength:Zt,setSelectedLength:er,customLength:_,setCustomLength:M,selectedLanguage:o}):4===oe?t.jsx(Z,{selectedTones:Kt,setSelectedTones:Xt,selectedStyles:Gt,setSelectedStyles:Qt,selectedLanguage:o}):5===oe?t.jsx(le,{selectedPrivacy:tr,setSelectedPrivacy:rr,prevStepCompleted:!0,selectedLanguage:o}):6===oe?t.jsx(ce,{title:P,description:T,selectedDeliveryType:k,selectedFrequency:ue,customRecurrentDates:xe,selectedTones:Kt,selectedVideoLength:Zt,customVideoLength:_,uploadedFiles:B,referenceLinks:H,selectedPrivacy:tr,customPrice:Le,setCustomPrice:Ee,editingPrice:Ie,setEditingPrice:Te,priceInput:Re,setPriceInput:Pe,priceInputRef:Fe,savePrice:Ut,displayPrice:_t,sanitizePriceInput:Bt,onEdit:()=>de(1),onSaveReview:Ur,selectedLanguage:o}):7===oe?t.jsx(X,{selectedLanguage:o}):t.jsx(Q,{description:T,setDescription:R,title:P,setTitle:F,MAX_CHARS:d,MIN_CHARS:x,recurrentStep:oe,selectedFrequency:ue,setSelectedFrequency:me,selectedTones:Kt,setSelectedTones:Xt,selectedStyles:Gt,setSelectedStyles:Qt,selectedPrivacy:tr,setSelectedPrivacy:rr,customRecurrentDates:xe,setCustomRecurrentDates:ge,selectedLanguage:o,setRecurrentStep:de,selectedDeliveryType:k,selectedVideoLength:Zt,customVideoLength:_,uploadedFiles:B,referenceLinks:H,customPrice:Le,setCustomPrice:Ee,editingPrice:Ie,setEditingPrice:Te,priceInput:Re,setPriceInput:Pe,priceInputRef:Fe,savePrice:Ut,displayPrice:_t,sanitizePriceInput:Bt,handleSaveReview:Ur}):1===re?t.jsx(G,{description:T,setDescription:R,title:P,setTitle:F,MAX_CHARS:d,selectedLanguage:o}):2===re?t.jsx(ee,{selectedLength:Zt,setSelectedLength:er,customLength:_,setCustomLength:M,selectedLanguage:o}):3===re?t.jsx(Z,{selectedTones:Kt,setSelectedTones:Xt,selectedStyles:Gt,setSelectedStyles:Qt,selectedLanguage:o}):4===re?t.jsx(le,{selectedPrivacy:tr,setSelectedPrivacy:rr,prevStepCompleted:!0,selectedLanguage:o}):5===re?t.jsx(ce,{title:P,description:T,selectedDeliveryType:k,selectedTones:Kt,selectedVideoLength:Zt,customVideoLength:_,uploadedFiles:B,referenceLinks:H,selectedPrivacy:tr,customPrice:Le,setCustomPrice:Ee,editingPrice:Ie,setEditingPrice:Te,priceInput:Re,setPriceInput:Pe,priceInputRef:Fe,savePrice:Ut,displayPrice:_t,sanitizePriceInput:Bt,onEdit:()=>ne(1),onSaveReview:Ur,selectedLanguage:o}):t.jsx(X,{selectedLanguage:o}))]}),t.jsxs("div",{className:"w-full max-w-lg mx-auto px-5 z-10 pb-28 mt-auto",style:{backgroundColor:"#F8F8FA"},children:[t.jsx("div",{className:"border-t border-gray-200 w-full"}),t.jsx("div",{className:"w-full py-6",children:Or?t.jsxs("div",{className:"flex flex-col space-y-3",children:[t.jsx("button",{onClick:_r,className:"w-full h-12 rounded-xl flex items-center justify-center space-x-2 text-[15px] font-medium text-white shadow-sm hover:opacity-90 transition duration-200",style:{backgroundColor:qr,boxShadow:"0 2px 6px rgba(6, 24, 58, 0.18)"},children:t.jsx("span",{children:r("Continue",o)})}),t.jsx("button",{onClick:_r,className:"w-full h-12 rounded-xl flex items-center justify-center text-[15px] font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 transition duration-200",children:r("Skip",o)})]}):!Vr&&t.jsxs("div",{className:"flex flex-col space-y-3",children:[t.jsxs("button",{onClick:_r,disabled:!Rr,className:`\n                                    w-full h-12 rounded-xl flex items-center justify-center space-x-2\n                                    text-[15px] font-medium transition-all duration-200\n                                    ${Rr?"text-white hover:opacity-95 active:scale-[0.98]":"bg-gray-100 text-gray-400 opacity-70 cursor-not-allowed"}\n                                    ${Pr?"scale-[1.01]":""} \n                                `,style:Rr?{backgroundColor:qr,boxShadow:"0 4px 12px rgba(6,24,58,0.16)",color:"white"}:{},children:[t.jsx("span",{children:(()=>{if(Ir){if(1===pe)return r("Continue to Number of Episodes",o);if(2===pe)return r("Continue to Video Length",o);if(3===pe)return r("Continue to Tone & Style",o);if(4===pe)return r("Continue to Privacy",o);if(5===pe)return r("Review Request",o);if(6===pe)return r("Submit Request",o)}if(Tr){if(1===Ne)return r("Continue to Configuration",o);if(2===Ne)return r("Continue to Video Length",o);if(3===Ne)return r("Continue to Tone & Style",o);if(4===Ne)return r("Continue to Privacy",o);if(5===Ne)return r("Review Request",o);if(6===Ne)return r("Submit Request",o)}if(Er){if(1===oe)return r("Continue to Video Length",o);if(2===oe)return r("Continue to Video Length",o);if(3===oe)return r("Continue to Tone & Style",o);if(4===oe)return r("Continue to Privacy",o);if(5===oe)return r("Review Request",o);if(6===oe)return r("Submit Request",o)}if("one-time"===k){if(1===re)return r("Continue to Video Length",o);if(2===re)return r("Continue to Tone & Style",o);if(3===re)return r("Continue to Privacy",o);if(4===re)return r("Review Request",o);if(5===re)return r("Submit Request",o)}return r("Next",o)})()}),!(Ir&&8===pe)&&!(Tr&&8===Ne)&&!(Er&&8===oe)&&!("one-time"===k&&7===re)&&t.jsx(f,{className:"w-4 h-4"})]}),ur&&!Vr&&t.jsx("button",{onClick:()=>{Ir?1===pe||(2===pe?he(1):3===pe?he(2):4===pe?he(3):5===pe?he(4):6===pe&&he(5)):Er?1===oe||(2===oe?de(1):3===oe?de(2):4===oe?de(3):5===oe?de(4):6===oe&&de(5)):Tr?1===Ne||(2===Ne?ke(1):3===Ne?ke(2):4===Ne?ke(3):5===Ne?ke(4):6===Ne&&ke(5)):"one-time"===k&&(1===re||(2===re?ne(1):3===re?ne(2):4===re?ne(3):5===re&&ne(4)))},className:"w-full h-12 rounded-xl flex items-center justify-center text-[15px] font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 transition duration-200",children:r("Back",o)})]})})]}),yt&&t.jsxs("div",{className:"mt-3 flex items-center text-sm font-normal text-[var(--color-accent)] animate-in fade-in",children:[t.jsx(n,{className:"w-4 h-4 mr-2 text-[var(--color-accent)]"}),t.jsx("span",{children:yt})]}),k&&t.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:[t.jsx("span",{className:"italic",children:r("one-time"===k?"Using the Description and Title you entered above for this one-time video.":"recurrent"===k?"Using the Description and Title you entered above for this recurring request.":"series"===k?"Using the Description and Title you entered above for this series.":"catalogue"===k?"Using the Description and Title you entered above for this catalogue.":"Using the Description and Title you entered above for this one-time video.",o)}),t.jsx("button",{type:"button",className:"ml-4 text-sm font-medium text-[var(--color-accent)] hover:underline",onClick:()=>{const e=document.getElementById("description-input");e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus(),e.classList.add("jump-highlight"),setTimeout(()=>e.classList.remove("jump-highlight"),900));const t=document.getElementById("title-input");t&&setTimeout(()=>{t.focus(),t.classList.add("jump-highlight"),setTimeout(()=>t.classList.remove("jump-highlight"),900)},300)},children:r("Edit",o)})]}),t.jsx("button",{onClick:()=>or(e=>!e),className:"fixed right-5 bottom-36 px-4 py-2 rounded-full shadow-lg text-sm font-normal flex items-center space-x-2 "+(ar?"bg-[var(--color-gold)] text-white z-60":"bg-[var(--surface)] text-gray-800 border border-gray-100"),style:ar?{border:"1px solid rgba(var(--color-gold-rgb,203,138,0),0.22)"}:{},"aria-label":r(ar?"Close preview":"See preview",o),children:t.jsx("span",{children:r(ar?"Close preview":"See preview",o)})}),ar&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black opacity-20",onClick:()=>or(!1)}),t.jsx("div",{className:"relative z-50 w-full max-w-3xl mx-auto px-6",style:{maxWidth:"720px"},children:t.jsxs("div",{className:"modal-dialog bg-white p-6 rounded-2xl border border-gray-100 shadow-2xl",style:{maxHeight:"72vh",overflowY:"auto",boxShadow:"0 24px 54px rgba(2,6,23,0.28)"},children:[t.jsx("div",{className:"flex justify-between items-start mb-4",children:t.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Preview"})}),t.jsx("div",{className:"relative mb-2 overflow-hidden",children:t.jsxs("div",{className:"bg-white p-5 pb-4 rounded-3xl border border-gray-50 relative z-10 preview-card",style:{paddingRight:"20px"},children:[t.jsx("div",{className:"absolute top-4 right-4 flex flex-col items-end space-y-1 z-10",children:t.jsx("div",{style:{backgroundColor:"var(--brand-gold)",color:"white",fontWeight:700,padding:"6px 10px",borderRadius:"0 10px 0 10px",fontSize:13},children:Ie?t.jsx("form",{onSubmit:e=>{e.preventDefault(),Ut()},children:t.jsx("input",{ref:Fe,type:"text",inputMode:"decimal",pattern:"^\\d*(\\.\\d{0,2})?$",value:Re,onChange:e=>Pe(Bt(e.target.value)),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),Ut())},onBlur:()=>Ut(),className:"text-right",style:{background:"transparent",color:"white",border:"none",outline:"none",width:"64px",fontWeight:700}})}):t.jsx("button",{onClick:()=>{Pe((_t||0).toFixed(2)),Te(!0)},style:{background:"transparent",color:"inherit",border:"none",padding:0},children:"$"+(_t||0).toFixed(2)})})}),t.jsx("div",{className:"absolute top-4 left-4 z-10",children:t.jsx("div",{className:"bg-gray-800 text-white text-xs font-bold px-3 py-1 rounded-full",children:"RANK #"})}),t.jsx("div",{className:"flex items-start mb-4 relative z-10 pt-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden mr-4 flex-shrink-0 relative bg-gray-100 flex items-center justify-center text-xl font-bold text-gray-700",role:Ve?"button":void 0,onClick:()=>{Ve&&(dr(Ve),lr(!0))},children:Ve&&(Ve.photoURL||Ve.image||Ve.avatar)?t.jsx("img",{src:Ve.photoURL||Ve.image||Ve.avatar,alt:Ve.name||Ve.handle,className:"w-full h-full object-cover"}):(()=>{const e=Ve&&(Ve.displayName||Ve.name)||auth&&auth.user&&(auth.user.name||auth.user.handle)||"Y",r=String(Ve&&(Ve.id||Ve.name||Ve.handle)||""),s=["#60A5FA","#EF4444","#8B5E3C","#FBBF24"];let n=0;for(let t=0;t<r.length;t++)n=(n<<5)-n+r.charCodeAt(t);const a=s[Math.abs(n)%s.length],o=e.toString().replace(/@/,"").charAt(0).toUpperCase();return t.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:a,display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:o})})()}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",role:Ve?"button":void 0,onClick:()=>{Ve&&(dr(Ve),lr(!0))},children:Ve&&(Ve.displayName||Ve.name)||auth&&auth.user&&(auth.user.name||"You")}),t.jsx("p",{className:"text-sm text-gray-500",children:"Just now"})]})]})}),t.jsx("h2",{className:"text-lg font-extrabold text-gray-900 mb-2 leading-tight",style:{overflowWrap:"anywhere",wordBreak:"break-word"},children:P||""}),t.jsx("p",{className:"text-sm text-gray-800 mb-2 break-words",children:T||""}),t.jsxs("div",{className:"border-t border-gray-100 pt-3 flex justify-between items-center",children:[t.jsxs("div",{className:"flex space-x-3 text-gray-600",children:[t.jsxs("div",{className:"flex items-center space-x-1.5 text-gray-500",children:[t.jsx(b,{className:"w-4 h-4"}),t.jsx("span",{className:"text-xs",children:"0"})]}),t.jsxs("div",{className:"flex items-center space-x-1.5 text-gray-500",children:[t.jsx(y,{className:"w-4 h-4"}),t.jsx("span",{className:"text-xs",children:H?.length||0})]}),t.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[t.jsx(u,{className:"w-3.5 h-3.5"}),t.jsx("span",{style:{fontSize:"10px"},children:"Boosts"})]})]}),t.jsxs("div",{className:"flex space-x-1.5",children:[t.jsx("div",{className:"p-1.5 rounded-full bg-[var(--surface)] hover:bg-[var(--bg)] transition-colors ring-1 ring-gray-200",children:t.jsx(v,{className:"w-4 h-4 text-gray-500"})}),t.jsx("div",{className:"p-1.5 rounded-full bg-[var(--surface)] hover:bg-[var(--bg)] transition-colors ring-1 ring-gray-200",children:t.jsx(h,{className:"w-4 h-4 text-gray-500"})})]})]})]})})]})})]}),De&&t.jsxs("div",{className:"fixed inset-0 z-[9999] overflow-y-auto bg-white animate-fade-in",children:[t.jsx("div",{className:"absolute top-4 left-8 z-10",children:t.jsx("button",{onClick:()=>{ze(!1),qe(null),qt("payment_cancelled")},className:"p-2 text-gray-600 hover:text-gray-900 transition-colors",children:t.jsx(V,{size:32})})}),t.jsxs("div",{className:"min-h-screen flex flex-col items-center pt-16 pb-20 px-6 max-w-lg mx-auto w-full",children:[t.jsxs("div",{className:"text-center mb-14",children:[t.jsx("h2",{className:"text-4xl font-black text-gray-900 tracking-tighter mb-4",children:r("Complete Payment",o)}),t.jsx("p",{className:"text-base text-gray-500 leading-relaxed",children:r("Secure your request with a payment to attract top creators.",o)})]}),t.jsxs("div",{className:"mb-14 text-center",children:[t.jsxs("div",{className:"text-7xl font-black text-gray-900 tracking-tighter mb-3 leading-none",children:["$",Number(_e*("expert"===Be?1.3:1)+$e).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),"expert"===Be&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-4 py-1.5 rounded-full bg-gradient-to-r from-purple-50 to-blue-50 text-purple-700 text-xs font-bold uppercase tracking-wide",children:[t.jsx(w,{size:12})," Expert multiplier active (1.3x)"]})]}),t.jsx("div",{className:"grid grid-cols-3 gap-4 w-full mb-12",children:[15,25,50,100].slice(0,3).map(e=>t.jsxs("button",{onClick:()=>{Me(e),qt("preset_selected",{preset:e})},className:"relative group flex flex-col items-center justify-center py-8 px-4 rounded-3xl transition-all duration-300 "+(_e===e?"bg-gradient-to-br from-blue-500 to-purple-500 text-white shadow-2xl shadow-blue-500/40 scale-110":"bg-white/40 backdrop-blur-md border border-white/60 hover:shadow-xl hover:shadow-gray-200/50"),children:[t.jsxs("div",{className:"text-3xl font-black tracking-tight",children:["$",e]}),25===e&&t.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-yellow-400 rounded-full shadow-lg flex items-center justify-center",children:t.jsx("span",{className:"text-xl leading-none",children:"✨"})})]},e))}),t.jsx("div",{className:"w-full mb-14",children:(()=>{const e=Ve&&Ve.price&&Number(Ve.price)>0?Math.max(15,Number(Ve.price)):15;return t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400 text-lg font-bold",children:"$"}),t.jsx("input",{type:"number",min:e,value:_e,onChange:t=>{const r=Math.max(e,Number(t.target.value||0));Me(r),qt("custom_amount_input",{amount:r})},className:"w-full pl-11 pr-5 py-4 bg-transparent border-b-2 border-gray-200 hover:border-gray-300 focus:border-blue-500 font-semibold text-gray-900 focus:outline-none transition-all text-lg placeholder-gray-300",placeholder:"Custom amount"}),t.jsxs("div",{className:"absolute right-5 top-1/2 -translate-y-1/2 text-xs text-gray-400",children:["Min $",e]})]})})()}),t.jsx("div",{className:"w-full mb-12 bg-gradient-to-r from-blue-50 to-purple-50 rounded-full p-1.5 shadow-md",children:t.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[t.jsx("button",{onClick:()=>Ue("creator"),className:"py-3 px-6 rounded-full text-sm font-bold transition-all duration-200 "+("creator"===Be?"bg-white text-gray-900 shadow-lg shadow-gray-200/50":"text-gray-600 hover:text-gray-900"),children:"Standard"}),t.jsxs("button",{onClick:()=>Ue("expert"),className:"py-3 px-6 rounded-full text-sm font-bold transition-all duration-200 flex items-center justify-center gap-2 "+("expert"===Be?"bg-white text-purple-700 shadow-lg shadow-purple-200/50":"text-gray-600 hover:text-gray-900"),children:["Expert ",t.jsx(w,{size:16})]})]})}),t.jsxs("div",{className:"w-full mb-12",children:[t.jsx("div",{className:"text-xs font-bold text-gray-600 uppercase tracking-wider mb-4",children:"Target Specific Creator (Optional)"}),Ve?t.jsxs("div",{className:"flex items-center justify-between w-full border border-blue-200 bg-gradient-to-r from-blue-50/80 to-purple-50/80 rounded-2xl p-4 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gradient-to-br from-blue-400 to-purple-400 flex-shrink-0 shadow-md flex items-center justify-center flex-none",children:[He||Ve.photoURL||Ve.image?t.jsx("img",{src:He||Ve.photoURL||Ve.image,alt:"",className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling&&(e.target.nextSibling.style.display="flex")}}):null,t.jsx("div",{className:"w-full h-full flex items-center justify-center text-white text-sm font-bold",style:{display:He||Ve.photoURL||Ve.image?"none":"flex"},children:(Ve.name||"U").replace(/^@+/,"").charAt(0).toUpperCase()})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:Ve.displayName||Ve.name}),t.jsx("div",{className:"text-xs text-blue-600 font-semibold",children:"Selected Creator"})]})]}),t.jsx("button",{onClick:()=>Ye(null),className:"p-2 hover:bg-white/50 rounded-full transition-colors text-gray-400 hover:text-red-500 flex-shrink-0 active:scale-90",children:t.jsx(c,{size:18})})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"relative mb-3",children:[t.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-sm font-semibold",children:"@"}),t.jsx("input",{ref:Et,type:"text",placeholder:"Search creators...",value:We,onChange:e=>Ke(e.target.value.replace(/^@+/,"")),className:"w-full pl-10 pr-10 py-3 bg-white/50 backdrop-blur-sm rounded-2xl border border-gray-200 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all placeholder-gray-400",autoFocus:Qe}),We&&t.jsx("button",{onClick:()=>Ke(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(c,{size:18})})]}),(We||It.length>0)&&t.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white/80 backdrop-blur-sm overflow-hidden",children:At.length>0?t.jsx("div",{className:"max-h-56 overflow-y-auto space-y-0",children:At.slice(0,8).map(e=>{const r=e.photoURL||e.image;return t.jsxs("button",{onClick:()=>{Ye(e),Ke(""),qt("creator_selected",{creatorId:e.id})},className:"w-full flex items-center gap-3 p-3 hover:bg-blue-50/50 transition-colors text-left border-b border-gray-100 last:border-b-0 active:scale-95",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex-shrink-0 overflow-hidden flex items-center justify-center text-white text-sm font-bold shadow-md",style:{backgroundColor:r?"transparent":e.fallbackColor||"#3b82f6"},children:r?t.jsx("img",{src:r,alt:"",className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}}):(e.name||"U").charAt(0).toUpperCase()}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate",children:e.displayName||e.name}),e.price?t.jsxs("div",{className:"text-xs text-gray-500",children:["$",e.price,"/request"]}):null]})]},e.id)})}):We?t.jsxs("div",{className:"p-6 text-center",children:[t.jsx("div",{className:"text-4xl mb-2",children:"😕"}),t.jsx("div",{className:"text-sm font-medium text-gray-600",children:"No creators found"}),t.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Try a different search term"})]}):null})]})]}),t.jsxs("div",{className:"w-full mt-auto space-y-4",children:[t.jsxs("a",{href:"https://www.paypal.com/ncp/payment/L7D8KYJEZM35L",onClick:()=>{const e=_e,t="expert"===Be?Math.round(1.3*e*100)/100:e;qt("payment_confirmed",{amount:t,role:Be,creator:Ve?Ve.id:null})},className:"block w-full py-5 rounded-2xl bg-black text-white text-center font-black text-lg hover:scale-[1.02] active:scale-[0.98] transition-all shadow-2xl hover:shadow-3xl flex items-center justify-center gap-3 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-800 to-black opacity-0 group-hover:opacity-100 transition-opacity"}),t.jsxs("span",{className:"relative flex items-center gap-2 tracking-tight",children:["Pay with PayPal ",t.jsx(f,{size:20})]})]}),t.jsx("div",{className:"text-center",children:t.jsx("button",{onClick:()=>{qt("free_submission_clicked"),(async()=>{if(console.log("🟢🟢🟢 FREE SUBMISSION CALLED"),console.log("🟢 Title:",P),console.log("🟢 Description:",T),P&&P.trim())try{const t="ideas_requests_v1",r=`req_${Date.now()}`,s=window&&window.__BACKEND_URL__||"https://regaarder-pwin.onrender.com";let n=null;try{const e=localStorage.getItem("regaarder_user");if(e){const t=JSON.parse(e);t&&t.id&&(n={id:t.id,name:t.name||t.displayName||"User"})}}catch(e){}n||(n={id:"anonymous",name:"Anonymous User"});const a={id:r,title:P.trim(),description:T||"",delivery:Ae?Ae.flow:"one-time",amount:0,funding:0,creator:n,createdBy:n.id,createdAt:(new Date).toISOString(),meta:{selectedTones:Kt||[],selectedVideoLength:Zt||null,selectedPrivacy:tr||null},isFreeSubmission:!0},o=window.localStorage.getItem(t),i=o?JSON.parse(o):[];i.unshift(a),window.localStorage.setItem(t,JSON.stringify(i)),console.log("🟢 Saved to localStorage:",a.id);const l=localStorage.getItem("regaarder_token"),c={"Content-Type":"application/json"};l&&(c.Authorization=`Bearer ${l}`);const d={id:r,title:a.title,description:a.description,creator:a.creator,createdBy:a.createdBy,meta:a.meta,amount:0,funding:0},u=l?`${s}/requests`:`${s}/requests/public`;console.log("🟢 Sending to backend:",u,d);const m=await fetch(u,{method:"POST",headers:c,body:JSON.stringify(d)});if(console.log("🟢🟢🟢 Backend response:",m.status,m.statusText),m.ok){const s=await m.json();console.log("🟢🟢🟢 Backend returned:",s);const n=window.localStorage.getItem(t),o=n?JSON.parse(n):[],i=o.findIndex(e=>e.id===r);-1!==i&&(o[i]={...o[i],...s.request,backendSynced:!0},window.localStorage.setItem(t,JSON.stringify(o))),Vt("Request submitted successfully!"),F(""),R(""),qe(null),ze(!1),it({...a,id:s.request?.id||a.id}),at(!0);try{window.setFooterTab&&window.setFooterTab("requests")}catch(e){}}else console.error("🔴 Backend save failed:",m.status),Vt("Failed to save request. Please try again.")}catch(t){console.error("🔴 Free submission error:",t),Vt("Failed to submit request. Please try again.")}else Vt("Please enter a title for your request")})()},className:"text-gray-500 font-semibold hover:text-gray-900 transition-colors py-3 px-4 rounded-lg hover:bg-gray-50 active:scale-95",children:"Submit for free (may take longer or be ignored)"})}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-400 mt-8 pt-6 border-t border-gray-100",children:[t.jsx(a,{size:12})," Secure encrypted payment • Powered by PayPal"]})]})]})]}),rt&&t.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:r("Choose Creator",o)}),t.jsx("button",{onClick:()=>st(!1),className:"text-gray-400 hover:text-gray-600","aria-label":"Close",children:t.jsx(c,{size:20})})]}),t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"@"}),t.jsx("input",{type:"text",placeholder:r("Search creators",o),value:We,onChange:e=>Ke(e.target.value.replace(/^@+/,"")),className:"w-full pl-8 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-400",autoFocus:!0}),We&&t.jsx("button",{onClick:()=>Ke(""),className:"absolute right-3 top-1/2 -translate-y-1/2",children:t.jsx(c,{size:16,className:"text-gray-400"})})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:0===It.length?t.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[t.jsx(j,{size:40,className:"text-gray-300 mb-3"}),t.jsx("div",{className:"text-sm font-medium text-gray-900",children:r("No creators found",o)}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:r("Try a different username",o)})]}):0===At.length?t.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[t.jsx(N,{size:40,className:"text-gray-300 mb-3"}),t.jsx("div",{className:"text-sm font-medium text-gray-900",children:r("No creators found",o)}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:r("Try a different username",o)})]}):t.jsx("div",{className:"divide-y divide-gray-100",children:At.map(e=>t.jsxs("button",{onClick:()=>{Ye(e),st(!1);try{window.localStorage.setItem(Ht,JSON.stringify(e))}catch(t){}},className:"w-full p-4 flex items-center gap-3 hover:bg-gray-50 transition-colors text-left "+(Ve?.id===e.id?"bg-blue-50":""),children:[t.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center text-white font-semibold overflow-hidden",style:{backgroundColor:e.photoURL||e.image?"transparent":e.fallbackColor||"#3b82f6"},children:e.photoURL||e.image?t.jsx("img",{src:e.photoURL||e.image,alt:e.name,className:"w-full h-full rounded-full object-cover",onError:e=>{e.target.style.display="none"}}):String(e.name||"U").replace("@","").charAt(0).toUpperCase()}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-medium text-gray-900",children:e.displayName||e.name}),e.price?t.jsxs("div",{className:"text-xs text-gray-500",children:["$",e.price," per request"]}):t.jsx("div",{className:"text-xs text-gray-400",children:"Not set"})]}),Ve?.id===e.id&&t.jsx(n,{size:18,className:"text-blue-600 flex-shrink-0"})]},e.id))})}),t.jsx("div",{className:"p-6 border-t border-gray-100",children:t.jsx("button",{onClick:()=>st(!1),className:"w-full px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors",children:r("Done",o)})})]})}),nt&&t.jsx(J,{onClose:()=>{at(!1),it(null);const t=ot?.id?`&focus=${encodeURIComponent(String(ot.id))}`:"";e(`/requests?filter=For You${t}`)},onBoostRequest:()=>{at(!1),ct(ot?.id),it(null),ut(!0)},onInviteContributors:()=>{},onViewDetails:()=>{at(!1),it(null);const t=ot?.id?`&focus=${encodeURIComponent(String(ot.id))}`:"";e(`/requests?filter=For You${t}`)},requestData:ot,selectedLanguage:o}),dt&&lt&&t.jsx(m,{isOpen:dt,onClose:()=>{ut(!1),ct(null)},requestId:lt,detailedRank:{totalInfluence:0},onGiveLikeFree:()=>{},selectedLanguage:o}),t.jsx(K,{active:sr,onChange:nr,selectedLanguage:o})]})};export{de as default};
